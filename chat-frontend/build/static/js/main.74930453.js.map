{"version":3,"file":"static/js/main.74930453.js","mappings":"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","sources":["../node_modules/react-dom/cjs/react-dom-client.production.js","../node_modules/react/index.js","../node_modules/react/cjs/react.production.js","../node_modules/react-dom/client.js","utils/sessionManager.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/react/jsx-runtime.js","../node_modules/react-dom/cjs/react-dom.production.js","../node_modules/react/cjs/react-jsx-runtime.production.js","../node_modules/scheduler/index.js","../node_modules/scheduler/cjs/scheduler.production.js","../node_modules/react-dom/index.js","api/config.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","api/client.js","api/auth.js","contexts/UserContext.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/shared/src/utils.ts","../node_modules/lucide-react/src/defaultAttributes.ts","../node_modules/lucide-react/src/Icon.ts","../node_modules/lucide-react/src/createLucideIcon.ts","../node_modules/lucide-react/src/icons/users.ts","../node_modules/lucide-react/src/icons/mail.ts","../node_modules/lucide-react/src/icons/lock.ts","../node_modules/lucide-react/src/icons/eye-off.ts","../node_modules/lucide-react/src/icons/eye.ts","../node_modules/lucide-react/src/icons/user.ts","../node_modules/lucide-react/src/icons/phone.ts","../node_modules/lucide-react/src/icons/sun.ts","../node_modules/lucide-react/src/icons/moon.ts","../node_modules/lucide-react/src/icons/send.ts","../node_modules/lucide-react/src/icons/arrow-left.ts","components/Login/LoginForm.jsx","../node_modules/lucide-react/src/icons/menu.ts","../node_modules/lucide-react/src/icons/message-square.ts","../node_modules/lucide-react/src/icons/plus.ts","../node_modules/lucide-react/src/icons/radio.ts","../node_modules/lucide-react/src/icons/x.ts","../node_modules/lucide-react/src/icons/user-plus.ts","../node_modules/lucide-react/src/icons/log-out.ts","../node_modules/lucide-react/src/icons/search.ts","../node_modules/lucide-react/src/icons/funnel.ts","../node_modules/lucide-react/src/icons/calendar.ts","../node_modules/lucide-react/src/icons/user-x.ts","../node_modules/lucide-react/src/icons/crown.ts","../node_modules/lucide-react/src/icons/trash-2.ts","utils/helpers.js","utils/fileHelpers.js","../node_modules/lucide-react/src/icons/triangle-alert.ts","components/Modals/DeleteModal.jsx","components/Sidebar.jsx","../node_modules/lucide-react/src/icons/pen-line.ts","../node_modules/lucide-react/src/icons/user-round.ts","../node_modules/lucide-react/src/icons/user-minus.ts","../node_modules/lucide-react/src/icons/shield.ts","../node_modules/lucide-react/src/icons/settings.ts","../node_modules/lucide-react/src/icons/eraser.ts","api/users.js","components/Modals/ChatInfoModal.jsx","../node_modules/lucide-react/src/icons/ellipsis-vertical.ts","../node_modules/lucide-react/src/icons/check.ts","../node_modules/lucide-react/src/icons/info.ts","components/ChatHeader.jsx","../node_modules/lucide-react/src/icons/chevron-up.ts","../node_modules/lucide-react/src/icons/reply.ts","../node_modules/lucide-react/src/icons/smile.ts","../node_modules/lucide-react/src/icons/forward.ts","components/Pickers/ReactionPicker.jsx","../node_modules/lucide-react/src/icons/image.ts","../node_modules/lucide-react/src/icons/video.ts","../node_modules/lucide-react/src/icons/music.ts","../node_modules/lucide-react/src/icons/file-text.ts","../node_modules/lucide-react/src/icons/file.ts","../node_modules/lucide-react/src/icons/external-link.ts","components/Thumbnail.jsx","../node_modules/lucide-react/src/icons/clock.ts","components/StatusIcon.jsx","../node_modules/date-fns/constants.js","../node_modules/date-fns/locale/_lib/buildFormatLongFn.js","../node_modules/date-fns/locale/en-US/_lib/formatLong.js","../node_modules/date-fns/locale/_lib/buildLocalizeFn.js","../node_modules/date-fns/locale/en-US/_lib/localize.js","../node_modules/date-fns/locale/_lib/buildMatchFn.js","../node_modules/date-fns/locale/_lib/buildMatchPatternFn.js","../node_modules/date-fns/locale/en-US/_lib/match.js","../node_modules/date-fns/formatDistanceToNow.js","components/Message.jsx","components/MessageList.jsx","../node_modules/lucide-react/src/icons/paperclip.ts","data/emojiData.js","components/Pickers/EmojiPicker.jsx","../node_modules/lucide-react/src/icons/zap.ts","components/Pickers/GifPicker.jsx","components/MessageInput.jsx","components/Modals/ConfirmationModal.jsx","components/ChatArea.jsx","../node_modules/lucide-react/src/icons/loader-circle.ts","../node_modules/lucide-react/src/icons/save.ts","../node_modules/lucide-react/src/icons/pen.ts","components/Modals/ProfileModal.jsx","components/Modals/ForwardModal.jsx","components/Modals/CreateConversationModal.jsx","components/ChatLayout.jsx","../node_modules/engine.io-parser/build/esm/commons.js","../node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../node_modules/engine.io-parser/build/esm/index.js","../node_modules/@socket.io/component-emitter/lib/esm/index.js","../node_modules/engine.io-client/build/esm/globals.js","../node_modules/engine.io-client/build/esm/util.js","../node_modules/engine.io-client/build/esm/transport.js","../node_modules/engine.io-client/build/esm/contrib/parseqs.js","../node_modules/engine.io-client/build/esm/transports/polling.js","../node_modules/engine.io-client/build/esm/contrib/has-cors.js","../node_modules/engine.io-client/build/esm/transports/polling-xhr.js","../node_modules/engine.io-client/build/esm/transports/websocket.js","../node_modules/engine.io-client/build/esm/transports/index.js","../node_modules/engine.io-client/build/esm/transports/webtransport.js","../node_modules/engine.io-client/build/esm/contrib/parseuri.js","../node_modules/engine.io-client/build/esm/socket.js","../node_modules/socket.io-parser/build/esm/is-binary.js","../node_modules/socket.io-parser/build/esm/binary.js","../node_modules/socket.io-parser/build/esm/index.js","../node_modules/socket.io-client/build/esm/on.js","../node_modules/socket.io-client/build/esm/socket.js","../node_modules/socket.io-client/build/esm/contrib/backo2.js","../node_modules/socket.io-client/build/esm/manager.js","../node_modules/socket.io-client/build/esm/index.js","../node_modules/socket.io-client/build/esm/url.js","services/socketService.js","utils/fileUpload.js","../node_modules/lucide-react/src/icons/circle-check-big.ts","utils/ObjectId.js","components/NotificationBubble.jsx","components/ChatApp.jsx","App.js","index.js"],"sourcesContent":["/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n\"use strict\";\nvar Scheduler = require(\"scheduler\"),\n  React = require(\"react\"),\n  ReactDOM = require(\"react-dom\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction isValidContainer(node) {\n  return !(\n    !node ||\n    (1 !== node.nodeType && 9 !== node.nodeType && 11 !== node.nodeType)\n  );\n}\nfunction getNearestMountedFiber(fiber) {\n  var node = fiber,\n    nearestMounted = fiber;\n  if (fiber.alternate) for (; node.return; ) node = node.return;\n  else {\n    fiber = node;\n    do\n      (node = fiber),\n        0 !== (node.flags & 4098) && (nearestMounted = node.return),\n        (fiber = node.return);\n    while (fiber);\n  }\n  return 3 === node.tag ? nearestMounted : null;\n}\nfunction getSuspenseInstanceFromFiber(fiber) {\n  if (13 === fiber.tag) {\n    var suspenseState = fiber.memoizedState;\n    null === suspenseState &&\n      ((fiber = fiber.alternate),\n      null !== fiber && (suspenseState = fiber.memoizedState));\n    if (null !== suspenseState) return suspenseState.dehydrated;\n  }\n  return null;\n}\nfunction assertIsMounted(fiber) {\n  if (getNearestMountedFiber(fiber) !== fiber)\n    throw Error(formatProdErrorMessage(188));\n}\nfunction findCurrentFiberUsingSlowPath(fiber) {\n  var alternate = fiber.alternate;\n  if (!alternate) {\n    alternate = getNearestMountedFiber(fiber);\n    if (null === alternate) throw Error(formatProdErrorMessage(188));\n    return alternate !== fiber ? null : fiber;\n  }\n  for (var a = fiber, b = alternate; ; ) {\n    var parentA = a.return;\n    if (null === parentA) break;\n    var parentB = parentA.alternate;\n    if (null === parentB) {\n      b = parentA.return;\n      if (null !== b) {\n        a = b;\n        continue;\n      }\n      break;\n    }\n    if (parentA.child === parentB.child) {\n      for (parentB = parentA.child; parentB; ) {\n        if (parentB === a) return assertIsMounted(parentA), fiber;\n        if (parentB === b) return assertIsMounted(parentA), alternate;\n        parentB = parentB.sibling;\n      }\n      throw Error(formatProdErrorMessage(188));\n    }\n    if (a.return !== b.return) (a = parentA), (b = parentB);\n    else {\n      for (var didFindChild = !1, child$0 = parentA.child; child$0; ) {\n        if (child$0 === a) {\n          didFindChild = !0;\n          a = parentA;\n          b = parentB;\n          break;\n        }\n        if (child$0 === b) {\n          didFindChild = !0;\n          b = parentA;\n          a = parentB;\n          break;\n        }\n        child$0 = child$0.sibling;\n      }\n      if (!didFindChild) {\n        for (child$0 = parentB.child; child$0; ) {\n          if (child$0 === a) {\n            didFindChild = !0;\n            a = parentB;\n            b = parentA;\n            break;\n          }\n          if (child$0 === b) {\n            didFindChild = !0;\n            b = parentB;\n            a = parentA;\n            break;\n          }\n          child$0 = child$0.sibling;\n        }\n        if (!didFindChild) throw Error(formatProdErrorMessage(189));\n      }\n    }\n    if (a.alternate !== b) throw Error(formatProdErrorMessage(190));\n  }\n  if (3 !== a.tag) throw Error(formatProdErrorMessage(188));\n  return a.stateNode.current === a ? fiber : alternate;\n}\nfunction findCurrentHostFiberImpl(node) {\n  var tag = node.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return node;\n  for (node = node.child; null !== node; ) {\n    tag = findCurrentHostFiberImpl(node);\n    if (null !== tag) return tag;\n    node = node.sibling;\n  }\n  return null;\n}\nvar assign = Object.assign,\n  REACT_LEGACY_ELEMENT_TYPE = Symbol.for(\"react.element\"),\n  REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\nSymbol.for(\"react.scope\");\nvar REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\");\nSymbol.for(\"react.legacy_hidden\");\nSymbol.for(\"react.tracing_marker\");\nvar REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\");\nSymbol.for(\"react.view_transition\");\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\");\nfunction getComponentNameFromType(type) {\n  if (null == type) return null;\n  if (\"function\" === typeof type)\n    return type.$$typeof === REACT_CLIENT_REFERENCE\n      ? null\n      : type.displayName || type.name || null;\n  if (\"string\" === typeof type) return type;\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return \"Fragment\";\n    case REACT_PROFILER_TYPE:\n      return \"Profiler\";\n    case REACT_STRICT_MODE_TYPE:\n      return \"StrictMode\";\n    case REACT_SUSPENSE_TYPE:\n      return \"Suspense\";\n    case REACT_SUSPENSE_LIST_TYPE:\n      return \"SuspenseList\";\n    case REACT_ACTIVITY_TYPE:\n      return \"Activity\";\n  }\n  if (\"object\" === typeof type)\n    switch (type.$$typeof) {\n      case REACT_PORTAL_TYPE:\n        return \"Portal\";\n      case REACT_CONTEXT_TYPE:\n        return (type.displayName || \"Context\") + \".Provider\";\n      case REACT_CONSUMER_TYPE:\n        return (type._context.displayName || \"Context\") + \".Consumer\";\n      case REACT_FORWARD_REF_TYPE:\n        var innerType = type.render;\n        type = type.displayName;\n        type ||\n          ((type = innerType.displayName || innerType.name || \"\"),\n          (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n        return type;\n      case REACT_MEMO_TYPE:\n        return (\n          (innerType = type.displayName || null),\n          null !== innerType\n            ? innerType\n            : getComponentNameFromType(type.type) || \"Memo\"\n        );\n      case REACT_LAZY_TYPE:\n        innerType = type._payload;\n        type = type._init;\n        try {\n          return getComponentNameFromType(type(innerType));\n        } catch (x) {}\n    }\n  return null;\n}\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  ReactDOMSharedInternals =\n    ReactDOM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  sharedNotPendingObject = {\n    pending: !1,\n    data: null,\n    method: null,\n    action: null\n  },\n  valueStack = [],\n  index = -1;\nfunction createCursor(defaultValue) {\n  return { current: defaultValue };\n}\nfunction pop(cursor) {\n  0 > index ||\n    ((cursor.current = valueStack[index]), (valueStack[index] = null), index--);\n}\nfunction push(cursor, value) {\n  index++;\n  valueStack[index] = cursor.current;\n  cursor.current = value;\n}\nvar contextStackCursor = createCursor(null),\n  contextFiberStackCursor = createCursor(null),\n  rootInstanceStackCursor = createCursor(null),\n  hostTransitionProviderCursor = createCursor(null);\nfunction pushHostContainer(fiber, nextRootInstance) {\n  push(rootInstanceStackCursor, nextRootInstance);\n  push(contextFiberStackCursor, fiber);\n  push(contextStackCursor, null);\n  switch (nextRootInstance.nodeType) {\n    case 9:\n    case 11:\n      fiber = (fiber = nextRootInstance.documentElement)\n        ? (fiber = fiber.namespaceURI)\n          ? getOwnHostContext(fiber)\n          : 0\n        : 0;\n      break;\n    default:\n      if (\n        ((fiber = nextRootInstance.tagName),\n        (nextRootInstance = nextRootInstance.namespaceURI))\n      )\n        (nextRootInstance = getOwnHostContext(nextRootInstance)),\n          (fiber = getChildHostContextProd(nextRootInstance, fiber));\n      else\n        switch (fiber) {\n          case \"svg\":\n            fiber = 1;\n            break;\n          case \"math\":\n            fiber = 2;\n            break;\n          default:\n            fiber = 0;\n        }\n  }\n  pop(contextStackCursor);\n  push(contextStackCursor, fiber);\n}\nfunction popHostContainer() {\n  pop(contextStackCursor);\n  pop(contextFiberStackCursor);\n  pop(rootInstanceStackCursor);\n}\nfunction pushHostContext(fiber) {\n  null !== fiber.memoizedState && push(hostTransitionProviderCursor, fiber);\n  var context = contextStackCursor.current;\n  var JSCompiler_inline_result = getChildHostContextProd(context, fiber.type);\n  context !== JSCompiler_inline_result &&\n    (push(contextFiberStackCursor, fiber),\n    push(contextStackCursor, JSCompiler_inline_result));\n}\nfunction popHostContext(fiber) {\n  contextFiberStackCursor.current === fiber &&\n    (pop(contextStackCursor), pop(contextFiberStackCursor));\n  hostTransitionProviderCursor.current === fiber &&\n    (pop(hostTransitionProviderCursor),\n    (HostTransitionContext._currentValue = sharedNotPendingObject));\n}\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\n  scheduleCallback$3 = Scheduler.unstable_scheduleCallback,\n  cancelCallback$1 = Scheduler.unstable_cancelCallback,\n  shouldYield = Scheduler.unstable_shouldYield,\n  requestPaint = Scheduler.unstable_requestPaint,\n  now = Scheduler.unstable_now,\n  getCurrentPriorityLevel = Scheduler.unstable_getCurrentPriorityLevel,\n  ImmediatePriority = Scheduler.unstable_ImmediatePriority,\n  UserBlockingPriority = Scheduler.unstable_UserBlockingPriority,\n  NormalPriority$1 = Scheduler.unstable_NormalPriority,\n  LowPriority = Scheduler.unstable_LowPriority,\n  IdlePriority = Scheduler.unstable_IdlePriority,\n  log$1 = Scheduler.log,\n  unstable_setDisableYieldValue = Scheduler.unstable_setDisableYieldValue,\n  rendererID = null,\n  injectedHook = null;\nfunction setIsStrictModeForDevtools(newIsStrictMode) {\n  \"function\" === typeof log$1 && unstable_setDisableYieldValue(newIsStrictMode);\n  if (injectedHook && \"function\" === typeof injectedHook.setStrictMode)\n    try {\n      injectedHook.setStrictMode(rendererID, newIsStrictMode);\n    } catch (err) {}\n}\nvar clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,\n  log = Math.log,\n  LN2 = Math.LN2;\nfunction clz32Fallback(x) {\n  x >>>= 0;\n  return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;\n}\nvar nextTransitionLane = 256,\n  nextRetryLane = 4194304;\nfunction getHighestPriorityLanes(lanes) {\n  var pendingSyncLanes = lanes & 42;\n  if (0 !== pendingSyncLanes) return pendingSyncLanes;\n  switch (lanes & -lanes) {\n    case 1:\n      return 1;\n    case 2:\n      return 2;\n    case 4:\n      return 4;\n    case 8:\n      return 8;\n    case 16:\n      return 16;\n    case 32:\n      return 32;\n    case 64:\n      return 64;\n    case 128:\n      return 128;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return lanes & 4194048;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return lanes & 62914560;\n    case 67108864:\n      return 67108864;\n    case 134217728:\n      return 134217728;\n    case 268435456:\n      return 268435456;\n    case 536870912:\n      return 536870912;\n    case 1073741824:\n      return 0;\n    default:\n      return lanes;\n  }\n}\nfunction getNextLanes(root, wipLanes, rootHasPendingCommit) {\n  var pendingLanes = root.pendingLanes;\n  if (0 === pendingLanes) return 0;\n  var nextLanes = 0,\n    suspendedLanes = root.suspendedLanes,\n    pingedLanes = root.pingedLanes;\n  root = root.warmLanes;\n  var nonIdlePendingLanes = pendingLanes & 134217727;\n  0 !== nonIdlePendingLanes\n    ? ((pendingLanes = nonIdlePendingLanes & ~suspendedLanes),\n      0 !== pendingLanes\n        ? (nextLanes = getHighestPriorityLanes(pendingLanes))\n        : ((pingedLanes &= nonIdlePendingLanes),\n          0 !== pingedLanes\n            ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n            : rootHasPendingCommit ||\n              ((rootHasPendingCommit = nonIdlePendingLanes & ~root),\n              0 !== rootHasPendingCommit &&\n                (nextLanes = getHighestPriorityLanes(rootHasPendingCommit)))))\n    : ((nonIdlePendingLanes = pendingLanes & ~suspendedLanes),\n      0 !== nonIdlePendingLanes\n        ? (nextLanes = getHighestPriorityLanes(nonIdlePendingLanes))\n        : 0 !== pingedLanes\n          ? (nextLanes = getHighestPriorityLanes(pingedLanes))\n          : rootHasPendingCommit ||\n            ((rootHasPendingCommit = pendingLanes & ~root),\n            0 !== rootHasPendingCommit &&\n              (nextLanes = getHighestPriorityLanes(rootHasPendingCommit))));\n  return 0 === nextLanes\n    ? 0\n    : 0 !== wipLanes &&\n        wipLanes !== nextLanes &&\n        0 === (wipLanes & suspendedLanes) &&\n        ((suspendedLanes = nextLanes & -nextLanes),\n        (rootHasPendingCommit = wipLanes & -wipLanes),\n        suspendedLanes >= rootHasPendingCommit ||\n          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))\n      ? wipLanes\n      : nextLanes;\n}\nfunction checkIfRootIsPrerendering(root, renderLanes) {\n  return (\n    0 ===\n    (root.pendingLanes &\n      ~(root.suspendedLanes & ~root.pingedLanes) &\n      renderLanes)\n  );\n}\nfunction computeExpirationTime(lane, currentTime) {\n  switch (lane) {\n    case 1:\n    case 2:\n    case 4:\n    case 8:\n    case 64:\n      return currentTime + 250;\n    case 16:\n    case 32:\n    case 128:\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n      return currentTime + 5e3;\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      return -1;\n    case 67108864:\n    case 134217728:\n    case 268435456:\n    case 536870912:\n    case 1073741824:\n      return -1;\n    default:\n      return -1;\n  }\n}\nfunction claimNextTransitionLane() {\n  var lane = nextTransitionLane;\n  nextTransitionLane <<= 1;\n  0 === (nextTransitionLane & 4194048) && (nextTransitionLane = 256);\n  return lane;\n}\nfunction claimNextRetryLane() {\n  var lane = nextRetryLane;\n  nextRetryLane <<= 1;\n  0 === (nextRetryLane & 62914560) && (nextRetryLane = 4194304);\n  return lane;\n}\nfunction createLaneMap(initial) {\n  for (var laneMap = [], i = 0; 31 > i; i++) laneMap.push(initial);\n  return laneMap;\n}\nfunction markRootUpdated$1(root, updateLane) {\n  root.pendingLanes |= updateLane;\n  268435456 !== updateLane &&\n    ((root.suspendedLanes = 0), (root.pingedLanes = 0), (root.warmLanes = 0));\n}\nfunction markRootFinished(\n  root,\n  finishedLanes,\n  remainingLanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  var previouslyPendingLanes = root.pendingLanes;\n  root.pendingLanes = remainingLanes;\n  root.suspendedLanes = 0;\n  root.pingedLanes = 0;\n  root.warmLanes = 0;\n  root.expiredLanes &= remainingLanes;\n  root.entangledLanes &= remainingLanes;\n  root.errorRecoveryDisabledLanes &= remainingLanes;\n  root.shellSuspendCounter = 0;\n  var entanglements = root.entanglements,\n    expirationTimes = root.expirationTimes,\n    hiddenUpdates = root.hiddenUpdates;\n  for (\n    remainingLanes = previouslyPendingLanes & ~remainingLanes;\n    0 < remainingLanes;\n\n  ) {\n    var index$5 = 31 - clz32(remainingLanes),\n      lane = 1 << index$5;\n    entanglements[index$5] = 0;\n    expirationTimes[index$5] = -1;\n    var hiddenUpdatesForLane = hiddenUpdates[index$5];\n    if (null !== hiddenUpdatesForLane)\n      for (\n        hiddenUpdates[index$5] = null, index$5 = 0;\n        index$5 < hiddenUpdatesForLane.length;\n        index$5++\n      ) {\n        var update = hiddenUpdatesForLane[index$5];\n        null !== update && (update.lane &= -536870913);\n      }\n    remainingLanes &= ~lane;\n  }\n  0 !== spawnedLane && markSpawnedDeferredLane(root, spawnedLane, 0);\n  0 !== suspendedRetryLanes &&\n    0 === updatedLanes &&\n    0 !== root.tag &&\n    (root.suspendedLanes |=\n      suspendedRetryLanes & ~(previouslyPendingLanes & ~finishedLanes));\n}\nfunction markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {\n  root.pendingLanes |= spawnedLane;\n  root.suspendedLanes &= ~spawnedLane;\n  var spawnedLaneIndex = 31 - clz32(spawnedLane);\n  root.entangledLanes |= spawnedLane;\n  root.entanglements[spawnedLaneIndex] =\n    root.entanglements[spawnedLaneIndex] |\n    1073741824 |\n    (entangledLanes & 4194090);\n}\nfunction markRootEntangled(root, entangledLanes) {\n  var rootEntangledLanes = (root.entangledLanes |= entangledLanes);\n  for (root = root.entanglements; rootEntangledLanes; ) {\n    var index$6 = 31 - clz32(rootEntangledLanes),\n      lane = 1 << index$6;\n    (lane & entangledLanes) | (root[index$6] & entangledLanes) &&\n      (root[index$6] |= entangledLanes);\n    rootEntangledLanes &= ~lane;\n  }\n}\nfunction getBumpedLaneForHydrationByLane(lane) {\n  switch (lane) {\n    case 2:\n      lane = 1;\n      break;\n    case 8:\n      lane = 4;\n      break;\n    case 32:\n      lane = 16;\n      break;\n    case 256:\n    case 512:\n    case 1024:\n    case 2048:\n    case 4096:\n    case 8192:\n    case 16384:\n    case 32768:\n    case 65536:\n    case 131072:\n    case 262144:\n    case 524288:\n    case 1048576:\n    case 2097152:\n    case 4194304:\n    case 8388608:\n    case 16777216:\n    case 33554432:\n      lane = 128;\n      break;\n    case 268435456:\n      lane = 134217728;\n      break;\n    default:\n      lane = 0;\n  }\n  return lane;\n}\nfunction lanesToEventPriority(lanes) {\n  lanes &= -lanes;\n  return 2 < lanes\n    ? 8 < lanes\n      ? 0 !== (lanes & 134217727)\n        ? 32\n        : 268435456\n      : 8\n    : 2;\n}\nfunction resolveUpdatePriority() {\n  var updatePriority = ReactDOMSharedInternals.p;\n  if (0 !== updatePriority) return updatePriority;\n  updatePriority = window.event;\n  return void 0 === updatePriority ? 32 : getEventPriority(updatePriority.type);\n}\nfunction runWithPriority(priority, fn) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    return (ReactDOMSharedInternals.p = priority), fn();\n  } finally {\n    ReactDOMSharedInternals.p = previousPriority;\n  }\n}\nvar randomKey = Math.random().toString(36).slice(2),\n  internalInstanceKey = \"__reactFiber$\" + randomKey,\n  internalPropsKey = \"__reactProps$\" + randomKey,\n  internalContainerInstanceKey = \"__reactContainer$\" + randomKey,\n  internalEventHandlersKey = \"__reactEvents$\" + randomKey,\n  internalEventHandlerListenersKey = \"__reactListeners$\" + randomKey,\n  internalEventHandlesSetKey = \"__reactHandles$\" + randomKey,\n  internalRootNodeResourcesKey = \"__reactResources$\" + randomKey,\n  internalHoistableMarker = \"__reactMarker$\" + randomKey;\nfunction detachDeletedInstance(node) {\n  delete node[internalInstanceKey];\n  delete node[internalPropsKey];\n  delete node[internalEventHandlersKey];\n  delete node[internalEventHandlerListenersKey];\n  delete node[internalEventHandlesSetKey];\n}\nfunction getClosestInstanceFromNode(targetNode) {\n  var targetInst = targetNode[internalInstanceKey];\n  if (targetInst) return targetInst;\n  for (var parentNode = targetNode.parentNode; parentNode; ) {\n    if (\n      (targetInst =\n        parentNode[internalContainerInstanceKey] ||\n        parentNode[internalInstanceKey])\n    ) {\n      parentNode = targetInst.alternate;\n      if (\n        null !== targetInst.child ||\n        (null !== parentNode && null !== parentNode.child)\n      )\n        for (\n          targetNode = getParentSuspenseInstance(targetNode);\n          null !== targetNode;\n\n        ) {\n          if ((parentNode = targetNode[internalInstanceKey])) return parentNode;\n          targetNode = getParentSuspenseInstance(targetNode);\n        }\n      return targetInst;\n    }\n    targetNode = parentNode;\n    parentNode = targetNode.parentNode;\n  }\n  return null;\n}\nfunction getInstanceFromNode(node) {\n  if (\n    (node = node[internalInstanceKey] || node[internalContainerInstanceKey])\n  ) {\n    var tag = node.tag;\n    if (\n      5 === tag ||\n      6 === tag ||\n      13 === tag ||\n      26 === tag ||\n      27 === tag ||\n      3 === tag\n    )\n      return node;\n  }\n  return null;\n}\nfunction getNodeFromInstance(inst) {\n  var tag = inst.tag;\n  if (5 === tag || 26 === tag || 27 === tag || 6 === tag) return inst.stateNode;\n  throw Error(formatProdErrorMessage(33));\n}\nfunction getResourcesFromRoot(root) {\n  var resources = root[internalRootNodeResourcesKey];\n  resources ||\n    (resources = root[internalRootNodeResourcesKey] =\n      { hoistableStyles: new Map(), hoistableScripts: new Map() });\n  return resources;\n}\nfunction markNodeAsHoistable(node) {\n  node[internalHoistableMarker] = !0;\n}\nvar allNativeEvents = new Set(),\n  registrationNameDependencies = {};\nfunction registerTwoPhaseEvent(registrationName, dependencies) {\n  registerDirectEvent(registrationName, dependencies);\n  registerDirectEvent(registrationName + \"Capture\", dependencies);\n}\nfunction registerDirectEvent(registrationName, dependencies) {\n  registrationNameDependencies[registrationName] = dependencies;\n  for (\n    registrationName = 0;\n    registrationName < dependencies.length;\n    registrationName++\n  )\n    allNativeEvents.add(dependencies[registrationName]);\n}\nvar VALID_ATTRIBUTE_NAME_REGEX = RegExp(\n    \"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"\n  ),\n  illegalAttributeNameCache = {},\n  validatedAttributeNameCache = {};\nfunction isAttributeNameSafe(attributeName) {\n  if (hasOwnProperty.call(validatedAttributeNameCache, attributeName))\n    return !0;\n  if (hasOwnProperty.call(illegalAttributeNameCache, attributeName)) return !1;\n  if (VALID_ATTRIBUTE_NAME_REGEX.test(attributeName))\n    return (validatedAttributeNameCache[attributeName] = !0);\n  illegalAttributeNameCache[attributeName] = !0;\n  return !1;\n}\nfunction setValueForAttribute(node, name, value) {\n  if (isAttributeNameSafe(name))\n    if (null === value) node.removeAttribute(name);\n    else {\n      switch (typeof value) {\n        case \"undefined\":\n        case \"function\":\n        case \"symbol\":\n          node.removeAttribute(name);\n          return;\n        case \"boolean\":\n          var prefix$8 = name.toLowerCase().slice(0, 5);\n          if (\"data-\" !== prefix$8 && \"aria-\" !== prefix$8) {\n            node.removeAttribute(name);\n            return;\n          }\n      }\n      node.setAttribute(name, \"\" + value);\n    }\n}\nfunction setValueForKnownAttribute(node, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttribute(name, \"\" + value);\n  }\n}\nfunction setValueForNamespacedAttribute(node, namespace, name, value) {\n  if (null === value) node.removeAttribute(name);\n  else {\n    switch (typeof value) {\n      case \"undefined\":\n      case \"function\":\n      case \"symbol\":\n      case \"boolean\":\n        node.removeAttribute(name);\n        return;\n    }\n    node.setAttributeNS(namespace, name, \"\" + value);\n  }\n}\nvar prefix, suffix;\nfunction describeBuiltInComponentFrame(name) {\n  if (void 0 === prefix)\n    try {\n      throw Error();\n    } catch (x) {\n      var match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || \"\";\n      suffix =\n        -1 < x.stack.indexOf(\"\\n    at\")\n          ? \" (<anonymous>)\"\n          : -1 < x.stack.indexOf(\"@\")\n            ? \"@unknown:0:0\"\n            : \"\";\n    }\n  return \"\\n\" + prefix + name + suffix;\n}\nvar reentry = !1;\nfunction describeNativeComponentFrame(fn, construct) {\n  if (!fn || reentry) return \"\";\n  reentry = !0;\n  var previousPrepareStackTrace = Error.prepareStackTrace;\n  Error.prepareStackTrace = void 0;\n  try {\n    var RunInRootFrame = {\n      DetermineComponentFrameRoot: function () {\n        try {\n          if (construct) {\n            var Fake = function () {\n              throw Error();\n            };\n            Object.defineProperty(Fake.prototype, \"props\", {\n              set: function () {\n                throw Error();\n              }\n            });\n            if (\"object\" === typeof Reflect && Reflect.construct) {\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                var control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x$9) {\n                control = x$9;\n              }\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x$10) {\n              control = x$10;\n            }\n            (Fake = fn()) &&\n              \"function\" === typeof Fake.catch &&\n              Fake.catch(function () {});\n          }\n        } catch (sample) {\n          if (sample && control && \"string\" === typeof sample.stack)\n            return [sample.stack, control.stack];\n        }\n        return [null, null];\n      }\n    };\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      \"DetermineComponentFrameRoot\";\n    var namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      \"name\"\n    );\n    namePropDescriptor &&\n      namePropDescriptor.configurable &&\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        \"name\",\n        { value: \"DetermineComponentFrameRoot\" }\n      );\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n      sampleStack = _RunInRootFrame$Deter[0],\n      controlStack = _RunInRootFrame$Deter[1];\n    if (sampleStack && controlStack) {\n      var sampleLines = sampleStack.split(\"\\n\"),\n        controlLines = controlStack.split(\"\\n\");\n      for (\n        namePropDescriptor = RunInRootFrame = 0;\n        RunInRootFrame < sampleLines.length &&\n        !sampleLines[RunInRootFrame].includes(\"DetermineComponentFrameRoot\");\n\n      )\n        RunInRootFrame++;\n      for (\n        ;\n        namePropDescriptor < controlLines.length &&\n        !controlLines[namePropDescriptor].includes(\n          \"DetermineComponentFrameRoot\"\n        );\n\n      )\n        namePropDescriptor++;\n      if (\n        RunInRootFrame === sampleLines.length ||\n        namePropDescriptor === controlLines.length\n      )\n        for (\n          RunInRootFrame = sampleLines.length - 1,\n            namePropDescriptor = controlLines.length - 1;\n          1 <= RunInRootFrame &&\n          0 <= namePropDescriptor &&\n          sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor];\n\n        )\n          namePropDescriptor--;\n      for (\n        ;\n        1 <= RunInRootFrame && 0 <= namePropDescriptor;\n        RunInRootFrame--, namePropDescriptor--\n      )\n        if (sampleLines[RunInRootFrame] !== controlLines[namePropDescriptor]) {\n          if (1 !== RunInRootFrame || 1 !== namePropDescriptor) {\n            do\n              if (\n                (RunInRootFrame--,\n                namePropDescriptor--,\n                0 > namePropDescriptor ||\n                  sampleLines[RunInRootFrame] !==\n                    controlLines[namePropDescriptor])\n              ) {\n                var frame =\n                  \"\\n\" +\n                  sampleLines[RunInRootFrame].replace(\" at new \", \" at \");\n                fn.displayName &&\n                  frame.includes(\"<anonymous>\") &&\n                  (frame = frame.replace(\"<anonymous>\", fn.displayName));\n                return frame;\n              }\n            while (1 <= RunInRootFrame && 0 <= namePropDescriptor);\n          }\n          break;\n        }\n    }\n  } finally {\n    (reentry = !1), (Error.prepareStackTrace = previousPrepareStackTrace);\n  }\n  return (previousPrepareStackTrace = fn ? fn.displayName || fn.name : \"\")\n    ? describeBuiltInComponentFrame(previousPrepareStackTrace)\n    : \"\";\n}\nfunction describeFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n    case 27:\n    case 5:\n      return describeBuiltInComponentFrame(fiber.type);\n    case 16:\n      return describeBuiltInComponentFrame(\"Lazy\");\n    case 13:\n      return describeBuiltInComponentFrame(\"Suspense\");\n    case 19:\n      return describeBuiltInComponentFrame(\"SuspenseList\");\n    case 0:\n    case 15:\n      return describeNativeComponentFrame(fiber.type, !1);\n    case 11:\n      return describeNativeComponentFrame(fiber.type.render, !1);\n    case 1:\n      return describeNativeComponentFrame(fiber.type, !0);\n    case 31:\n      return describeBuiltInComponentFrame(\"Activity\");\n    default:\n      return \"\";\n  }\n}\nfunction getStackByFiberInDevAndProd(workInProgress) {\n  try {\n    var info = \"\";\n    do\n      (info += describeFiber(workInProgress)),\n        (workInProgress = workInProgress.return);\n    while (workInProgress);\n    return info;\n  } catch (x) {\n    return \"\\nError generating stack: \" + x.message + \"\\n\" + x.stack;\n  }\n}\nfunction getToStringValue(value) {\n  switch (typeof value) {\n    case \"bigint\":\n    case \"boolean\":\n    case \"number\":\n    case \"string\":\n    case \"undefined\":\n      return value;\n    case \"object\":\n      return value;\n    default:\n      return \"\";\n  }\n}\nfunction isCheckable(elem) {\n  var type = elem.type;\n  return (\n    (elem = elem.nodeName) &&\n    \"input\" === elem.toLowerCase() &&\n    (\"checkbox\" === type || \"radio\" === type)\n  );\n}\nfunction trackValueOnNode(node) {\n  var valueField = isCheckable(node) ? \"checked\" : \"value\",\n    descriptor = Object.getOwnPropertyDescriptor(\n      node.constructor.prototype,\n      valueField\n    ),\n    currentValue = \"\" + node[valueField];\n  if (\n    !node.hasOwnProperty(valueField) &&\n    \"undefined\" !== typeof descriptor &&\n    \"function\" === typeof descriptor.get &&\n    \"function\" === typeof descriptor.set\n  ) {\n    var get = descriptor.get,\n      set = descriptor.set;\n    Object.defineProperty(node, valueField, {\n      configurable: !0,\n      get: function () {\n        return get.call(this);\n      },\n      set: function (value) {\n        currentValue = \"\" + value;\n        set.call(this, value);\n      }\n    });\n    Object.defineProperty(node, valueField, {\n      enumerable: descriptor.enumerable\n    });\n    return {\n      getValue: function () {\n        return currentValue;\n      },\n      setValue: function (value) {\n        currentValue = \"\" + value;\n      },\n      stopTracking: function () {\n        node._valueTracker = null;\n        delete node[valueField];\n      }\n    };\n  }\n}\nfunction track(node) {\n  node._valueTracker || (node._valueTracker = trackValueOnNode(node));\n}\nfunction updateValueIfChanged(node) {\n  if (!node) return !1;\n  var tracker = node._valueTracker;\n  if (!tracker) return !0;\n  var lastValue = tracker.getValue();\n  var value = \"\";\n  node &&\n    (value = isCheckable(node)\n      ? node.checked\n        ? \"true\"\n        : \"false\"\n      : node.value);\n  node = value;\n  return node !== lastValue ? (tracker.setValue(node), !0) : !1;\n}\nfunction getActiveElement(doc) {\n  doc = doc || (\"undefined\" !== typeof document ? document : void 0);\n  if (\"undefined\" === typeof doc) return null;\n  try {\n    return doc.activeElement || doc.body;\n  } catch (e) {\n    return doc.body;\n  }\n}\nvar escapeSelectorAttributeValueInsideDoubleQuotesRegex = /[\\n\"\\\\]/g;\nfunction escapeSelectorAttributeValueInsideDoubleQuotes(value) {\n  return value.replace(\n    escapeSelectorAttributeValueInsideDoubleQuotesRegex,\n    function (ch) {\n      return \"\\\\\" + ch.charCodeAt(0).toString(16) + \" \";\n    }\n  );\n}\nfunction updateInput(\n  element,\n  value,\n  defaultValue,\n  lastDefaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name\n) {\n  element.name = \"\";\n  null != type &&\n  \"function\" !== typeof type &&\n  \"symbol\" !== typeof type &&\n  \"boolean\" !== typeof type\n    ? (element.type = type)\n    : element.removeAttribute(\"type\");\n  if (null != value)\n    if (\"number\" === type) {\n      if ((0 === value && \"\" === element.value) || element.value != value)\n        element.value = \"\" + getToStringValue(value);\n    } else\n      element.value !== \"\" + getToStringValue(value) &&\n        (element.value = \"\" + getToStringValue(value));\n  else\n    (\"submit\" !== type && \"reset\" !== type) || element.removeAttribute(\"value\");\n  null != value\n    ? setDefaultValue(element, type, getToStringValue(value))\n    : null != defaultValue\n      ? setDefaultValue(element, type, getToStringValue(defaultValue))\n      : null != lastDefaultValue && element.removeAttribute(\"value\");\n  null == checked &&\n    null != defaultChecked &&\n    (element.defaultChecked = !!defaultChecked);\n  null != checked &&\n    (element.checked =\n      checked && \"function\" !== typeof checked && \"symbol\" !== typeof checked);\n  null != name &&\n  \"function\" !== typeof name &&\n  \"symbol\" !== typeof name &&\n  \"boolean\" !== typeof name\n    ? (element.name = \"\" + getToStringValue(name))\n    : element.removeAttribute(\"name\");\n}\nfunction initInput(\n  element,\n  value,\n  defaultValue,\n  checked,\n  defaultChecked,\n  type,\n  name,\n  isHydrating\n) {\n  null != type &&\n    \"function\" !== typeof type &&\n    \"symbol\" !== typeof type &&\n    \"boolean\" !== typeof type &&\n    (element.type = type);\n  if (null != value || null != defaultValue) {\n    if (\n      !(\n        (\"submit\" !== type && \"reset\" !== type) ||\n        (void 0 !== value && null !== value)\n      )\n    )\n      return;\n    defaultValue =\n      null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n    value = null != value ? \"\" + getToStringValue(value) : defaultValue;\n    isHydrating || value === element.value || (element.value = value);\n    element.defaultValue = value;\n  }\n  checked = null != checked ? checked : defaultChecked;\n  checked =\n    \"function\" !== typeof checked && \"symbol\" !== typeof checked && !!checked;\n  element.checked = isHydrating ? element.checked : !!checked;\n  element.defaultChecked = !!checked;\n  null != name &&\n    \"function\" !== typeof name &&\n    \"symbol\" !== typeof name &&\n    \"boolean\" !== typeof name &&\n    (element.name = name);\n}\nfunction setDefaultValue(node, type, value) {\n  (\"number\" === type && getActiveElement(node.ownerDocument) === node) ||\n    node.defaultValue === \"\" + value ||\n    (node.defaultValue = \"\" + value);\n}\nfunction updateOptions(node, multiple, propValue, setDefaultSelected) {\n  node = node.options;\n  if (multiple) {\n    multiple = {};\n    for (var i = 0; i < propValue.length; i++)\n      multiple[\"$\" + propValue[i]] = !0;\n    for (propValue = 0; propValue < node.length; propValue++)\n      (i = multiple.hasOwnProperty(\"$\" + node[propValue].value)),\n        node[propValue].selected !== i && (node[propValue].selected = i),\n        i && setDefaultSelected && (node[propValue].defaultSelected = !0);\n  } else {\n    propValue = \"\" + getToStringValue(propValue);\n    multiple = null;\n    for (i = 0; i < node.length; i++) {\n      if (node[i].value === propValue) {\n        node[i].selected = !0;\n        setDefaultSelected && (node[i].defaultSelected = !0);\n        return;\n      }\n      null !== multiple || node[i].disabled || (multiple = node[i]);\n    }\n    null !== multiple && (multiple.selected = !0);\n  }\n}\nfunction updateTextarea(element, value, defaultValue) {\n  if (\n    null != value &&\n    ((value = \"\" + getToStringValue(value)),\n    value !== element.value && (element.value = value),\n    null == defaultValue)\n  ) {\n    element.defaultValue !== value && (element.defaultValue = value);\n    return;\n  }\n  element.defaultValue =\n    null != defaultValue ? \"\" + getToStringValue(defaultValue) : \"\";\n}\nfunction initTextarea(element, value, defaultValue, children) {\n  if (null == value) {\n    if (null != children) {\n      if (null != defaultValue) throw Error(formatProdErrorMessage(92));\n      if (isArrayImpl(children)) {\n        if (1 < children.length) throw Error(formatProdErrorMessage(93));\n        children = children[0];\n      }\n      defaultValue = children;\n    }\n    null == defaultValue && (defaultValue = \"\");\n    value = defaultValue;\n  }\n  defaultValue = getToStringValue(value);\n  element.defaultValue = defaultValue;\n  children = element.textContent;\n  children === defaultValue &&\n    \"\" !== children &&\n    null !== children &&\n    (element.value = children);\n}\nfunction setTextContent(node, text) {\n  if (text) {\n    var firstChild = node.firstChild;\n    if (\n      firstChild &&\n      firstChild === node.lastChild &&\n      3 === firstChild.nodeType\n    ) {\n      firstChild.nodeValue = text;\n      return;\n    }\n  }\n  node.textContent = text;\n}\nvar unitlessNumbers = new Set(\n  \"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\n    \" \"\n  )\n);\nfunction setValueForStyle(style, styleName, value) {\n  var isCustomProperty = 0 === styleName.indexOf(\"--\");\n  null == value || \"boolean\" === typeof value || \"\" === value\n    ? isCustomProperty\n      ? style.setProperty(styleName, \"\")\n      : \"float\" === styleName\n        ? (style.cssFloat = \"\")\n        : (style[styleName] = \"\")\n    : isCustomProperty\n      ? style.setProperty(styleName, value)\n      : \"number\" !== typeof value ||\n          0 === value ||\n          unitlessNumbers.has(styleName)\n        ? \"float\" === styleName\n          ? (style.cssFloat = value)\n          : (style[styleName] = (\"\" + value).trim())\n        : (style[styleName] = value + \"px\");\n}\nfunction setValueForStyles(node, styles, prevStyles) {\n  if (null != styles && \"object\" !== typeof styles)\n    throw Error(formatProdErrorMessage(62));\n  node = node.style;\n  if (null != prevStyles) {\n    for (var styleName in prevStyles)\n      !prevStyles.hasOwnProperty(styleName) ||\n        (null != styles && styles.hasOwnProperty(styleName)) ||\n        (0 === styleName.indexOf(\"--\")\n          ? node.setProperty(styleName, \"\")\n          : \"float\" === styleName\n            ? (node.cssFloat = \"\")\n            : (node[styleName] = \"\"));\n    for (var styleName$16 in styles)\n      (styleName = styles[styleName$16]),\n        styles.hasOwnProperty(styleName$16) &&\n          prevStyles[styleName$16] !== styleName &&\n          setValueForStyle(node, styleName$16, styleName);\n  } else\n    for (var styleName$17 in styles)\n      styles.hasOwnProperty(styleName$17) &&\n        setValueForStyle(node, styleName$17, styles[styleName$17]);\n}\nfunction isCustomElement(tagName) {\n  if (-1 === tagName.indexOf(\"-\")) return !1;\n  switch (tagName) {\n    case \"annotation-xml\":\n    case \"color-profile\":\n    case \"font-face\":\n    case \"font-face-src\":\n    case \"font-face-uri\":\n    case \"font-face-format\":\n    case \"font-face-name\":\n    case \"missing-glyph\":\n      return !1;\n    default:\n      return !0;\n  }\n}\nvar aliases = new Map([\n    [\"acceptCharset\", \"accept-charset\"],\n    [\"htmlFor\", \"for\"],\n    [\"httpEquiv\", \"http-equiv\"],\n    [\"crossOrigin\", \"crossorigin\"],\n    [\"accentHeight\", \"accent-height\"],\n    [\"alignmentBaseline\", \"alignment-baseline\"],\n    [\"arabicForm\", \"arabic-form\"],\n    [\"baselineShift\", \"baseline-shift\"],\n    [\"capHeight\", \"cap-height\"],\n    [\"clipPath\", \"clip-path\"],\n    [\"clipRule\", \"clip-rule\"],\n    [\"colorInterpolation\", \"color-interpolation\"],\n    [\"colorInterpolationFilters\", \"color-interpolation-filters\"],\n    [\"colorProfile\", \"color-profile\"],\n    [\"colorRendering\", \"color-rendering\"],\n    [\"dominantBaseline\", \"dominant-baseline\"],\n    [\"enableBackground\", \"enable-background\"],\n    [\"fillOpacity\", \"fill-opacity\"],\n    [\"fillRule\", \"fill-rule\"],\n    [\"floodColor\", \"flood-color\"],\n    [\"floodOpacity\", \"flood-opacity\"],\n    [\"fontFamily\", \"font-family\"],\n    [\"fontSize\", \"font-size\"],\n    [\"fontSizeAdjust\", \"font-size-adjust\"],\n    [\"fontStretch\", \"font-stretch\"],\n    [\"fontStyle\", \"font-style\"],\n    [\"fontVariant\", \"font-variant\"],\n    [\"fontWeight\", \"font-weight\"],\n    [\"glyphName\", \"glyph-name\"],\n    [\"glyphOrientationHorizontal\", \"glyph-orientation-horizontal\"],\n    [\"glyphOrientationVertical\", \"glyph-orientation-vertical\"],\n    [\"horizAdvX\", \"horiz-adv-x\"],\n    [\"horizOriginX\", \"horiz-origin-x\"],\n    [\"imageRendering\", \"image-rendering\"],\n    [\"letterSpacing\", \"letter-spacing\"],\n    [\"lightingColor\", \"lighting-color\"],\n    [\"markerEnd\", \"marker-end\"],\n    [\"markerMid\", \"marker-mid\"],\n    [\"markerStart\", \"marker-start\"],\n    [\"overlinePosition\", \"overline-position\"],\n    [\"overlineThickness\", \"overline-thickness\"],\n    [\"paintOrder\", \"paint-order\"],\n    [\"panose-1\", \"panose-1\"],\n    [\"pointerEvents\", \"pointer-events\"],\n    [\"renderingIntent\", \"rendering-intent\"],\n    [\"shapeRendering\", \"shape-rendering\"],\n    [\"stopColor\", \"stop-color\"],\n    [\"stopOpacity\", \"stop-opacity\"],\n    [\"strikethroughPosition\", \"strikethrough-position\"],\n    [\"strikethroughThickness\", \"strikethrough-thickness\"],\n    [\"strokeDasharray\", \"stroke-dasharray\"],\n    [\"strokeDashoffset\", \"stroke-dashoffset\"],\n    [\"strokeLinecap\", \"stroke-linecap\"],\n    [\"strokeLinejoin\", \"stroke-linejoin\"],\n    [\"strokeMiterlimit\", \"stroke-miterlimit\"],\n    [\"strokeOpacity\", \"stroke-opacity\"],\n    [\"strokeWidth\", \"stroke-width\"],\n    [\"textAnchor\", \"text-anchor\"],\n    [\"textDecoration\", \"text-decoration\"],\n    [\"textRendering\", \"text-rendering\"],\n    [\"transformOrigin\", \"transform-origin\"],\n    [\"underlinePosition\", \"underline-position\"],\n    [\"underlineThickness\", \"underline-thickness\"],\n    [\"unicodeBidi\", \"unicode-bidi\"],\n    [\"unicodeRange\", \"unicode-range\"],\n    [\"unitsPerEm\", \"units-per-em\"],\n    [\"vAlphabetic\", \"v-alphabetic\"],\n    [\"vHanging\", \"v-hanging\"],\n    [\"vIdeographic\", \"v-ideographic\"],\n    [\"vMathematical\", \"v-mathematical\"],\n    [\"vectorEffect\", \"vector-effect\"],\n    [\"vertAdvY\", \"vert-adv-y\"],\n    [\"vertOriginX\", \"vert-origin-x\"],\n    [\"vertOriginY\", \"vert-origin-y\"],\n    [\"wordSpacing\", \"word-spacing\"],\n    [\"writingMode\", \"writing-mode\"],\n    [\"xmlnsXlink\", \"xmlns:xlink\"],\n    [\"xHeight\", \"x-height\"]\n  ]),\n  isJavaScriptProtocol =\n    /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\nfunction sanitizeURL(url) {\n  return isJavaScriptProtocol.test(\"\" + url)\n    ? \"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\"\n    : url;\n}\nvar currentReplayingEvent = null;\nfunction getEventTarget(nativeEvent) {\n  nativeEvent = nativeEvent.target || nativeEvent.srcElement || window;\n  nativeEvent.correspondingUseElement &&\n    (nativeEvent = nativeEvent.correspondingUseElement);\n  return 3 === nativeEvent.nodeType ? nativeEvent.parentNode : nativeEvent;\n}\nvar restoreTarget = null,\n  restoreQueue = null;\nfunction restoreStateOfTarget(target) {\n  var internalInstance = getInstanceFromNode(target);\n  if (internalInstance && (target = internalInstance.stateNode)) {\n    var props = target[internalPropsKey] || null;\n    a: switch (((target = internalInstance.stateNode), internalInstance.type)) {\n      case \"input\":\n        updateInput(\n          target,\n          props.value,\n          props.defaultValue,\n          props.defaultValue,\n          props.checked,\n          props.defaultChecked,\n          props.type,\n          props.name\n        );\n        internalInstance = props.name;\n        if (\"radio\" === props.type && null != internalInstance) {\n          for (props = target; props.parentNode; ) props = props.parentNode;\n          props = props.querySelectorAll(\n            'input[name=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                \"\" + internalInstance\n              ) +\n              '\"][type=\"radio\"]'\n          );\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          ) {\n            var otherNode = props[internalInstance];\n            if (otherNode !== target && otherNode.form === target.form) {\n              var otherProps = otherNode[internalPropsKey] || null;\n              if (!otherProps) throw Error(formatProdErrorMessage(90));\n              updateInput(\n                otherNode,\n                otherProps.value,\n                otherProps.defaultValue,\n                otherProps.defaultValue,\n                otherProps.checked,\n                otherProps.defaultChecked,\n                otherProps.type,\n                otherProps.name\n              );\n            }\n          }\n          for (\n            internalInstance = 0;\n            internalInstance < props.length;\n            internalInstance++\n          )\n            (otherNode = props[internalInstance]),\n              otherNode.form === target.form && updateValueIfChanged(otherNode);\n        }\n        break a;\n      case \"textarea\":\n        updateTextarea(target, props.value, props.defaultValue);\n        break a;\n      case \"select\":\n        (internalInstance = props.value),\n          null != internalInstance &&\n            updateOptions(target, !!props.multiple, internalInstance, !1);\n    }\n  }\n}\nvar isInsideEventHandler = !1;\nfunction batchedUpdates$1(fn, a, b) {\n  if (isInsideEventHandler) return fn(a, b);\n  isInsideEventHandler = !0;\n  try {\n    var JSCompiler_inline_result = fn(a);\n    return JSCompiler_inline_result;\n  } finally {\n    if (\n      ((isInsideEventHandler = !1),\n      null !== restoreTarget || null !== restoreQueue)\n    )\n      if (\n        (flushSyncWork$1(),\n        restoreTarget &&\n          ((a = restoreTarget),\n          (fn = restoreQueue),\n          (restoreQueue = restoreTarget = null),\n          restoreStateOfTarget(a),\n          fn))\n      )\n        for (a = 0; a < fn.length; a++) restoreStateOfTarget(fn[a]);\n  }\n}\nfunction getListener(inst, registrationName) {\n  var stateNode = inst.stateNode;\n  if (null === stateNode) return null;\n  var props = stateNode[internalPropsKey] || null;\n  if (null === props) return null;\n  stateNode = props[registrationName];\n  a: switch (registrationName) {\n    case \"onClick\":\n    case \"onClickCapture\":\n    case \"onDoubleClick\":\n    case \"onDoubleClickCapture\":\n    case \"onMouseDown\":\n    case \"onMouseDownCapture\":\n    case \"onMouseMove\":\n    case \"onMouseMoveCapture\":\n    case \"onMouseUp\":\n    case \"onMouseUpCapture\":\n    case \"onMouseEnter\":\n      (props = !props.disabled) ||\n        ((inst = inst.type),\n        (props = !(\n          \"button\" === inst ||\n          \"input\" === inst ||\n          \"select\" === inst ||\n          \"textarea\" === inst\n        )));\n      inst = !props;\n      break a;\n    default:\n      inst = !1;\n  }\n  if (inst) return null;\n  if (stateNode && \"function\" !== typeof stateNode)\n    throw Error(\n      formatProdErrorMessage(231, registrationName, typeof stateNode)\n    );\n  return stateNode;\n}\nvar canUseDOM = !(\n    \"undefined\" === typeof window ||\n    \"undefined\" === typeof window.document ||\n    \"undefined\" === typeof window.document.createElement\n  ),\n  passiveBrowserEventsSupported = !1;\nif (canUseDOM)\n  try {\n    var options = {};\n    Object.defineProperty(options, \"passive\", {\n      get: function () {\n        passiveBrowserEventsSupported = !0;\n      }\n    });\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (e) {\n    passiveBrowserEventsSupported = !1;\n  }\nvar root = null,\n  startText = null,\n  fallbackText = null;\nfunction getData() {\n  if (fallbackText) return fallbackText;\n  var start,\n    startValue = startText,\n    startLength = startValue.length,\n    end,\n    endValue = \"value\" in root ? root.value : root.textContent,\n    endLength = endValue.length;\n  for (\n    start = 0;\n    start < startLength && startValue[start] === endValue[start];\n    start++\n  );\n  var minEnd = startLength - start;\n  for (\n    end = 1;\n    end <= minEnd &&\n    startValue[startLength - end] === endValue[endLength - end];\n    end++\n  );\n  return (fallbackText = endValue.slice(start, 1 < end ? 1 - end : void 0));\n}\nfunction getEventCharCode(nativeEvent) {\n  var keyCode = nativeEvent.keyCode;\n  \"charCode\" in nativeEvent\n    ? ((nativeEvent = nativeEvent.charCode),\n      0 === nativeEvent && 13 === keyCode && (nativeEvent = 13))\n    : (nativeEvent = keyCode);\n  10 === nativeEvent && (nativeEvent = 13);\n  return 32 <= nativeEvent || 13 === nativeEvent ? nativeEvent : 0;\n}\nfunction functionThatReturnsTrue() {\n  return !0;\n}\nfunction functionThatReturnsFalse() {\n  return !1;\n}\nfunction createSyntheticEvent(Interface) {\n  function SyntheticBaseEvent(\n    reactName,\n    reactEventType,\n    targetInst,\n    nativeEvent,\n    nativeEventTarget\n  ) {\n    this._reactName = reactName;\n    this._targetInst = targetInst;\n    this.type = reactEventType;\n    this.nativeEvent = nativeEvent;\n    this.target = nativeEventTarget;\n    this.currentTarget = null;\n    for (var propName in Interface)\n      Interface.hasOwnProperty(propName) &&\n        ((reactName = Interface[propName]),\n        (this[propName] = reactName\n          ? reactName(nativeEvent)\n          : nativeEvent[propName]));\n    this.isDefaultPrevented = (\n      null != nativeEvent.defaultPrevented\n        ? nativeEvent.defaultPrevented\n        : !1 === nativeEvent.returnValue\n    )\n      ? functionThatReturnsTrue\n      : functionThatReturnsFalse;\n    this.isPropagationStopped = functionThatReturnsFalse;\n    return this;\n  }\n  assign(SyntheticBaseEvent.prototype, {\n    preventDefault: function () {\n      this.defaultPrevented = !0;\n      var event = this.nativeEvent;\n      event &&\n        (event.preventDefault\n          ? event.preventDefault()\n          : \"unknown\" !== typeof event.returnValue && (event.returnValue = !1),\n        (this.isDefaultPrevented = functionThatReturnsTrue));\n    },\n    stopPropagation: function () {\n      var event = this.nativeEvent;\n      event &&\n        (event.stopPropagation\n          ? event.stopPropagation()\n          : \"unknown\" !== typeof event.cancelBubble &&\n            (event.cancelBubble = !0),\n        (this.isPropagationStopped = functionThatReturnsTrue));\n    },\n    persist: function () {},\n    isPersistent: functionThatReturnsTrue\n  });\n  return SyntheticBaseEvent;\n}\nvar EventInterface = {\n    eventPhase: 0,\n    bubbles: 0,\n    cancelable: 0,\n    timeStamp: function (event) {\n      return event.timeStamp || Date.now();\n    },\n    defaultPrevented: 0,\n    isTrusted: 0\n  },\n  SyntheticEvent = createSyntheticEvent(EventInterface),\n  UIEventInterface = assign({}, EventInterface, { view: 0, detail: 0 }),\n  SyntheticUIEvent = createSyntheticEvent(UIEventInterface),\n  lastMovementX,\n  lastMovementY,\n  lastMouseEvent,\n  MouseEventInterface = assign({}, UIEventInterface, {\n    screenX: 0,\n    screenY: 0,\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    getModifierState: getEventModifierState,\n    button: 0,\n    buttons: 0,\n    relatedTarget: function (event) {\n      return void 0 === event.relatedTarget\n        ? event.fromElement === event.srcElement\n          ? event.toElement\n          : event.fromElement\n        : event.relatedTarget;\n    },\n    movementX: function (event) {\n      if (\"movementX\" in event) return event.movementX;\n      event !== lastMouseEvent &&\n        (lastMouseEvent && \"mousemove\" === event.type\n          ? ((lastMovementX = event.screenX - lastMouseEvent.screenX),\n            (lastMovementY = event.screenY - lastMouseEvent.screenY))\n          : (lastMovementY = lastMovementX = 0),\n        (lastMouseEvent = event));\n      return lastMovementX;\n    },\n    movementY: function (event) {\n      return \"movementY\" in event ? event.movementY : lastMovementY;\n    }\n  }),\n  SyntheticMouseEvent = createSyntheticEvent(MouseEventInterface),\n  DragEventInterface = assign({}, MouseEventInterface, { dataTransfer: 0 }),\n  SyntheticDragEvent = createSyntheticEvent(DragEventInterface),\n  FocusEventInterface = assign({}, UIEventInterface, { relatedTarget: 0 }),\n  SyntheticFocusEvent = createSyntheticEvent(FocusEventInterface),\n  AnimationEventInterface = assign({}, EventInterface, {\n    animationName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticAnimationEvent = createSyntheticEvent(AnimationEventInterface),\n  ClipboardEventInterface = assign({}, EventInterface, {\n    clipboardData: function (event) {\n      return \"clipboardData\" in event\n        ? event.clipboardData\n        : window.clipboardData;\n    }\n  }),\n  SyntheticClipboardEvent = createSyntheticEvent(ClipboardEventInterface),\n  CompositionEventInterface = assign({}, EventInterface, { data: 0 }),\n  SyntheticCompositionEvent = createSyntheticEvent(CompositionEventInterface),\n  normalizeKey = {\n    Esc: \"Escape\",\n    Spacebar: \" \",\n    Left: \"ArrowLeft\",\n    Up: \"ArrowUp\",\n    Right: \"ArrowRight\",\n    Down: \"ArrowDown\",\n    Del: \"Delete\",\n    Win: \"OS\",\n    Menu: \"ContextMenu\",\n    Apps: \"ContextMenu\",\n    Scroll: \"ScrollLock\",\n    MozPrintableKey: \"Unidentified\"\n  },\n  translateToKey = {\n    8: \"Backspace\",\n    9: \"Tab\",\n    12: \"Clear\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Control\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Escape\",\n    32: \" \",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"ArrowLeft\",\n    38: \"ArrowUp\",\n    39: \"ArrowRight\",\n    40: \"ArrowDown\",\n    45: \"Insert\",\n    46: \"Delete\",\n    112: \"F1\",\n    113: \"F2\",\n    114: \"F3\",\n    115: \"F4\",\n    116: \"F5\",\n    117: \"F6\",\n    118: \"F7\",\n    119: \"F8\",\n    120: \"F9\",\n    121: \"F10\",\n    122: \"F11\",\n    123: \"F12\",\n    144: \"NumLock\",\n    145: \"ScrollLock\",\n    224: \"Meta\"\n  },\n  modifierKeyToProp = {\n    Alt: \"altKey\",\n    Control: \"ctrlKey\",\n    Meta: \"metaKey\",\n    Shift: \"shiftKey\"\n  };\nfunction modifierStateGetter(keyArg) {\n  var nativeEvent = this.nativeEvent;\n  return nativeEvent.getModifierState\n    ? nativeEvent.getModifierState(keyArg)\n    : (keyArg = modifierKeyToProp[keyArg])\n      ? !!nativeEvent[keyArg]\n      : !1;\n}\nfunction getEventModifierState() {\n  return modifierStateGetter;\n}\nvar KeyboardEventInterface = assign({}, UIEventInterface, {\n    key: function (nativeEvent) {\n      if (nativeEvent.key) {\n        var key = normalizeKey[nativeEvent.key] || nativeEvent.key;\n        if (\"Unidentified\" !== key) return key;\n      }\n      return \"keypress\" === nativeEvent.type\n        ? ((nativeEvent = getEventCharCode(nativeEvent)),\n          13 === nativeEvent ? \"Enter\" : String.fromCharCode(nativeEvent))\n        : \"keydown\" === nativeEvent.type || \"keyup\" === nativeEvent.type\n          ? translateToKey[nativeEvent.keyCode] || \"Unidentified\"\n          : \"\";\n    },\n    code: 0,\n    location: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    altKey: 0,\n    metaKey: 0,\n    repeat: 0,\n    locale: 0,\n    getModifierState: getEventModifierState,\n    charCode: function (event) {\n      return \"keypress\" === event.type ? getEventCharCode(event) : 0;\n    },\n    keyCode: function (event) {\n      return \"keydown\" === event.type || \"keyup\" === event.type\n        ? event.keyCode\n        : 0;\n    },\n    which: function (event) {\n      return \"keypress\" === event.type\n        ? getEventCharCode(event)\n        : \"keydown\" === event.type || \"keyup\" === event.type\n          ? event.keyCode\n          : 0;\n    }\n  }),\n  SyntheticKeyboardEvent = createSyntheticEvent(KeyboardEventInterface),\n  PointerEventInterface = assign({}, MouseEventInterface, {\n    pointerId: 0,\n    width: 0,\n    height: 0,\n    pressure: 0,\n    tangentialPressure: 0,\n    tiltX: 0,\n    tiltY: 0,\n    twist: 0,\n    pointerType: 0,\n    isPrimary: 0\n  }),\n  SyntheticPointerEvent = createSyntheticEvent(PointerEventInterface),\n  TouchEventInterface = assign({}, UIEventInterface, {\n    touches: 0,\n    targetTouches: 0,\n    changedTouches: 0,\n    altKey: 0,\n    metaKey: 0,\n    ctrlKey: 0,\n    shiftKey: 0,\n    getModifierState: getEventModifierState\n  }),\n  SyntheticTouchEvent = createSyntheticEvent(TouchEventInterface),\n  TransitionEventInterface = assign({}, EventInterface, {\n    propertyName: 0,\n    elapsedTime: 0,\n    pseudoElement: 0\n  }),\n  SyntheticTransitionEvent = createSyntheticEvent(TransitionEventInterface),\n  WheelEventInterface = assign({}, MouseEventInterface, {\n    deltaX: function (event) {\n      return \"deltaX\" in event\n        ? event.deltaX\n        : \"wheelDeltaX\" in event\n          ? -event.wheelDeltaX\n          : 0;\n    },\n    deltaY: function (event) {\n      return \"deltaY\" in event\n        ? event.deltaY\n        : \"wheelDeltaY\" in event\n          ? -event.wheelDeltaY\n          : \"wheelDelta\" in event\n            ? -event.wheelDelta\n            : 0;\n    },\n    deltaZ: 0,\n    deltaMode: 0\n  }),\n  SyntheticWheelEvent = createSyntheticEvent(WheelEventInterface),\n  ToggleEventInterface = assign({}, EventInterface, {\n    newState: 0,\n    oldState: 0\n  }),\n  SyntheticToggleEvent = createSyntheticEvent(ToggleEventInterface),\n  END_KEYCODES = [9, 13, 27, 32],\n  canUseCompositionEvent = canUseDOM && \"CompositionEvent\" in window,\n  documentMode = null;\ncanUseDOM &&\n  \"documentMode\" in document &&\n  (documentMode = document.documentMode);\nvar canUseTextInputEvent = canUseDOM && \"TextEvent\" in window && !documentMode,\n  useFallbackCompositionData =\n    canUseDOM &&\n    (!canUseCompositionEvent ||\n      (documentMode && 8 < documentMode && 11 >= documentMode)),\n  SPACEBAR_CHAR = String.fromCharCode(32),\n  hasSpaceKeypress = !1;\nfunction isFallbackCompositionEnd(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"keyup\":\n      return -1 !== END_KEYCODES.indexOf(nativeEvent.keyCode);\n    case \"keydown\":\n      return 229 !== nativeEvent.keyCode;\n    case \"keypress\":\n    case \"mousedown\":\n    case \"focusout\":\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction getDataFromCustomEvent(nativeEvent) {\n  nativeEvent = nativeEvent.detail;\n  return \"object\" === typeof nativeEvent && \"data\" in nativeEvent\n    ? nativeEvent.data\n    : null;\n}\nvar isComposing = !1;\nfunction getNativeBeforeInputChars(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"compositionend\":\n      return getDataFromCustomEvent(nativeEvent);\n    case \"keypress\":\n      if (32 !== nativeEvent.which) return null;\n      hasSpaceKeypress = !0;\n      return SPACEBAR_CHAR;\n    case \"textInput\":\n      return (\n        (domEventName = nativeEvent.data),\n        domEventName === SPACEBAR_CHAR && hasSpaceKeypress ? null : domEventName\n      );\n    default:\n      return null;\n  }\n}\nfunction getFallbackBeforeInputChars(domEventName, nativeEvent) {\n  if (isComposing)\n    return \"compositionend\" === domEventName ||\n      (!canUseCompositionEvent &&\n        isFallbackCompositionEnd(domEventName, nativeEvent))\n      ? ((domEventName = getData()),\n        (fallbackText = startText = root = null),\n        (isComposing = !1),\n        domEventName)\n      : null;\n  switch (domEventName) {\n    case \"paste\":\n      return null;\n    case \"keypress\":\n      if (\n        !(nativeEvent.ctrlKey || nativeEvent.altKey || nativeEvent.metaKey) ||\n        (nativeEvent.ctrlKey && nativeEvent.altKey)\n      ) {\n        if (nativeEvent.char && 1 < nativeEvent.char.length)\n          return nativeEvent.char;\n        if (nativeEvent.which) return String.fromCharCode(nativeEvent.which);\n      }\n      return null;\n    case \"compositionend\":\n      return useFallbackCompositionData && \"ko\" !== nativeEvent.locale\n        ? null\n        : nativeEvent.data;\n    default:\n      return null;\n  }\n}\nvar supportedInputTypes = {\n  color: !0,\n  date: !0,\n  datetime: !0,\n  \"datetime-local\": !0,\n  email: !0,\n  month: !0,\n  number: !0,\n  password: !0,\n  range: !0,\n  search: !0,\n  tel: !0,\n  text: !0,\n  time: !0,\n  url: !0,\n  week: !0\n};\nfunction isTextInputElement(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return \"input\" === nodeName\n    ? !!supportedInputTypes[elem.type]\n    : \"textarea\" === nodeName\n      ? !0\n      : !1;\n}\nfunction createAndAccumulateChangeEvent(\n  dispatchQueue,\n  inst,\n  nativeEvent,\n  target\n) {\n  restoreTarget\n    ? restoreQueue\n      ? restoreQueue.push(target)\n      : (restoreQueue = [target])\n    : (restoreTarget = target);\n  inst = accumulateTwoPhaseListeners(inst, \"onChange\");\n  0 < inst.length &&\n    ((nativeEvent = new SyntheticEvent(\n      \"onChange\",\n      \"change\",\n      null,\n      nativeEvent,\n      target\n    )),\n    dispatchQueue.push({ event: nativeEvent, listeners: inst }));\n}\nvar activeElement$1 = null,\n  activeElementInst$1 = null;\nfunction runEventInBatch(dispatchQueue) {\n  processDispatchQueue(dispatchQueue, 0);\n}\nfunction getInstIfValueChanged(targetInst) {\n  var targetNode = getNodeFromInstance(targetInst);\n  if (updateValueIfChanged(targetNode)) return targetInst;\n}\nfunction getTargetInstForChangeEvent(domEventName, targetInst) {\n  if (\"change\" === domEventName) return targetInst;\n}\nvar isInputEventSupported = !1;\nif (canUseDOM) {\n  var JSCompiler_inline_result$jscomp$282;\n  if (canUseDOM) {\n    var isSupported$jscomp$inline_417 = \"oninput\" in document;\n    if (!isSupported$jscomp$inline_417) {\n      var element$jscomp$inline_418 = document.createElement(\"div\");\n      element$jscomp$inline_418.setAttribute(\"oninput\", \"return;\");\n      isSupported$jscomp$inline_417 =\n        \"function\" === typeof element$jscomp$inline_418.oninput;\n    }\n    JSCompiler_inline_result$jscomp$282 = isSupported$jscomp$inline_417;\n  } else JSCompiler_inline_result$jscomp$282 = !1;\n  isInputEventSupported =\n    JSCompiler_inline_result$jscomp$282 &&\n    (!document.documentMode || 9 < document.documentMode);\n}\nfunction stopWatchingForValueChange() {\n  activeElement$1 &&\n    (activeElement$1.detachEvent(\"onpropertychange\", handlePropertyChange),\n    (activeElementInst$1 = activeElement$1 = null));\n}\nfunction handlePropertyChange(nativeEvent) {\n  if (\n    \"value\" === nativeEvent.propertyName &&\n    getInstIfValueChanged(activeElementInst$1)\n  ) {\n    var dispatchQueue = [];\n    createAndAccumulateChangeEvent(\n      dispatchQueue,\n      activeElementInst$1,\n      nativeEvent,\n      getEventTarget(nativeEvent)\n    );\n    batchedUpdates$1(runEventInBatch, dispatchQueue);\n  }\n}\nfunction handleEventsForInputEventPolyfill(domEventName, target, targetInst) {\n  \"focusin\" === domEventName\n    ? (stopWatchingForValueChange(),\n      (activeElement$1 = target),\n      (activeElementInst$1 = targetInst),\n      activeElement$1.attachEvent(\"onpropertychange\", handlePropertyChange))\n    : \"focusout\" === domEventName && stopWatchingForValueChange();\n}\nfunction getTargetInstForInputEventPolyfill(domEventName) {\n  if (\n    \"selectionchange\" === domEventName ||\n    \"keyup\" === domEventName ||\n    \"keydown\" === domEventName\n  )\n    return getInstIfValueChanged(activeElementInst$1);\n}\nfunction getTargetInstForClickEvent(domEventName, targetInst) {\n  if (\"click\" === domEventName) return getInstIfValueChanged(targetInst);\n}\nfunction getTargetInstForInputOrChangeEvent(domEventName, targetInst) {\n  if (\"input\" === domEventName || \"change\" === domEventName)\n    return getInstIfValueChanged(targetInst);\n}\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is;\nfunction shallowEqual(objA, objB) {\n  if (objectIs(objA, objB)) return !0;\n  if (\n    \"object\" !== typeof objA ||\n    null === objA ||\n    \"object\" !== typeof objB ||\n    null === objB\n  )\n    return !1;\n  var keysA = Object.keys(objA),\n    keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return !1;\n  for (keysB = 0; keysB < keysA.length; keysB++) {\n    var currentKey = keysA[keysB];\n    if (\n      !hasOwnProperty.call(objB, currentKey) ||\n      !objectIs(objA[currentKey], objB[currentKey])\n    )\n      return !1;\n  }\n  return !0;\n}\nfunction getLeafNode(node) {\n  for (; node && node.firstChild; ) node = node.firstChild;\n  return node;\n}\nfunction getNodeForCharacterOffset(root, offset) {\n  var node = getLeafNode(root);\n  root = 0;\n  for (var nodeEnd; node; ) {\n    if (3 === node.nodeType) {\n      nodeEnd = root + node.textContent.length;\n      if (root <= offset && nodeEnd >= offset)\n        return { node: node, offset: offset - root };\n      root = nodeEnd;\n    }\n    a: {\n      for (; node; ) {\n        if (node.nextSibling) {\n          node = node.nextSibling;\n          break a;\n        }\n        node = node.parentNode;\n      }\n      node = void 0;\n    }\n    node = getLeafNode(node);\n  }\n}\nfunction containsNode(outerNode, innerNode) {\n  return outerNode && innerNode\n    ? outerNode === innerNode\n      ? !0\n      : outerNode && 3 === outerNode.nodeType\n        ? !1\n        : innerNode && 3 === innerNode.nodeType\n          ? containsNode(outerNode, innerNode.parentNode)\n          : \"contains\" in outerNode\n            ? outerNode.contains(innerNode)\n            : outerNode.compareDocumentPosition\n              ? !!(outerNode.compareDocumentPosition(innerNode) & 16)\n              : !1\n    : !1;\n}\nfunction getActiveElementDeep(containerInfo) {\n  containerInfo =\n    null != containerInfo &&\n    null != containerInfo.ownerDocument &&\n    null != containerInfo.ownerDocument.defaultView\n      ? containerInfo.ownerDocument.defaultView\n      : window;\n  for (\n    var element = getActiveElement(containerInfo.document);\n    element instanceof containerInfo.HTMLIFrameElement;\n\n  ) {\n    try {\n      var JSCompiler_inline_result =\n        \"string\" === typeof element.contentWindow.location.href;\n    } catch (err) {\n      JSCompiler_inline_result = !1;\n    }\n    if (JSCompiler_inline_result) containerInfo = element.contentWindow;\n    else break;\n    element = getActiveElement(containerInfo.document);\n  }\n  return element;\n}\nfunction hasSelectionCapabilities(elem) {\n  var nodeName = elem && elem.nodeName && elem.nodeName.toLowerCase();\n  return (\n    nodeName &&\n    ((\"input\" === nodeName &&\n      (\"text\" === elem.type ||\n        \"search\" === elem.type ||\n        \"tel\" === elem.type ||\n        \"url\" === elem.type ||\n        \"password\" === elem.type)) ||\n      \"textarea\" === nodeName ||\n      \"true\" === elem.contentEditable)\n  );\n}\nvar skipSelectionChangeEvent =\n    canUseDOM && \"documentMode\" in document && 11 >= document.documentMode,\n  activeElement = null,\n  activeElementInst = null,\n  lastSelection = null,\n  mouseDown = !1;\nfunction constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget) {\n  var doc =\n    nativeEventTarget.window === nativeEventTarget\n      ? nativeEventTarget.document\n      : 9 === nativeEventTarget.nodeType\n        ? nativeEventTarget\n        : nativeEventTarget.ownerDocument;\n  mouseDown ||\n    null == activeElement ||\n    activeElement !== getActiveElement(doc) ||\n    ((doc = activeElement),\n    \"selectionStart\" in doc && hasSelectionCapabilities(doc)\n      ? (doc = { start: doc.selectionStart, end: doc.selectionEnd })\n      : ((doc = (\n          (doc.ownerDocument && doc.ownerDocument.defaultView) ||\n          window\n        ).getSelection()),\n        (doc = {\n          anchorNode: doc.anchorNode,\n          anchorOffset: doc.anchorOffset,\n          focusNode: doc.focusNode,\n          focusOffset: doc.focusOffset\n        })),\n    (lastSelection && shallowEqual(lastSelection, doc)) ||\n      ((lastSelection = doc),\n      (doc = accumulateTwoPhaseListeners(activeElementInst, \"onSelect\")),\n      0 < doc.length &&\n        ((nativeEvent = new SyntheticEvent(\n          \"onSelect\",\n          \"select\",\n          null,\n          nativeEvent,\n          nativeEventTarget\n        )),\n        dispatchQueue.push({ event: nativeEvent, listeners: doc }),\n        (nativeEvent.target = activeElement))));\n}\nfunction makePrefixMap(styleProp, eventName) {\n  var prefixes = {};\n  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();\n  prefixes[\"Webkit\" + styleProp] = \"webkit\" + eventName;\n  prefixes[\"Moz\" + styleProp] = \"moz\" + eventName;\n  return prefixes;\n}\nvar vendorPrefixes = {\n    animationend: makePrefixMap(\"Animation\", \"AnimationEnd\"),\n    animationiteration: makePrefixMap(\"Animation\", \"AnimationIteration\"),\n    animationstart: makePrefixMap(\"Animation\", \"AnimationStart\"),\n    transitionrun: makePrefixMap(\"Transition\", \"TransitionRun\"),\n    transitionstart: makePrefixMap(\"Transition\", \"TransitionStart\"),\n    transitioncancel: makePrefixMap(\"Transition\", \"TransitionCancel\"),\n    transitionend: makePrefixMap(\"Transition\", \"TransitionEnd\")\n  },\n  prefixedEventNames = {},\n  style = {};\ncanUseDOM &&\n  ((style = document.createElement(\"div\").style),\n  \"AnimationEvent\" in window ||\n    (delete vendorPrefixes.animationend.animation,\n    delete vendorPrefixes.animationiteration.animation,\n    delete vendorPrefixes.animationstart.animation),\n  \"TransitionEvent\" in window ||\n    delete vendorPrefixes.transitionend.transition);\nfunction getVendorPrefixedEventName(eventName) {\n  if (prefixedEventNames[eventName]) return prefixedEventNames[eventName];\n  if (!vendorPrefixes[eventName]) return eventName;\n  var prefixMap = vendorPrefixes[eventName],\n    styleProp;\n  for (styleProp in prefixMap)\n    if (prefixMap.hasOwnProperty(styleProp) && styleProp in style)\n      return (prefixedEventNames[eventName] = prefixMap[styleProp]);\n  return eventName;\n}\nvar ANIMATION_END = getVendorPrefixedEventName(\"animationend\"),\n  ANIMATION_ITERATION = getVendorPrefixedEventName(\"animationiteration\"),\n  ANIMATION_START = getVendorPrefixedEventName(\"animationstart\"),\n  TRANSITION_RUN = getVendorPrefixedEventName(\"transitionrun\"),\n  TRANSITION_START = getVendorPrefixedEventName(\"transitionstart\"),\n  TRANSITION_CANCEL = getVendorPrefixedEventName(\"transitioncancel\"),\n  TRANSITION_END = getVendorPrefixedEventName(\"transitionend\"),\n  topLevelEventsToReactNames = new Map(),\n  simpleEventPluginEvents =\n    \"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\n      \" \"\n    );\nsimpleEventPluginEvents.push(\"scrollEnd\");\nfunction registerSimpleEvent(domEventName, reactName) {\n  topLevelEventsToReactNames.set(domEventName, reactName);\n  registerTwoPhaseEvent(reactName, [domEventName]);\n}\nvar CapturedStacks = new WeakMap();\nfunction createCapturedValueAtFiber(value, source) {\n  if (\"object\" === typeof value && null !== value) {\n    var existing = CapturedStacks.get(value);\n    if (void 0 !== existing) return existing;\n    source = {\n      value: value,\n      source: source,\n      stack: getStackByFiberInDevAndProd(source)\n    };\n    CapturedStacks.set(value, source);\n    return source;\n  }\n  return {\n    value: value,\n    source: source,\n    stack: getStackByFiberInDevAndProd(source)\n  };\n}\nvar concurrentQueues = [],\n  concurrentQueuesIndex = 0,\n  concurrentlyUpdatedLanes = 0;\nfunction finishQueueingConcurrentUpdates() {\n  for (\n    var endIndex = concurrentQueuesIndex,\n      i = (concurrentlyUpdatedLanes = concurrentQueuesIndex = 0);\n    i < endIndex;\n\n  ) {\n    var fiber = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var queue = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var update = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    var lane = concurrentQueues[i];\n    concurrentQueues[i++] = null;\n    if (null !== queue && null !== update) {\n      var pending = queue.pending;\n      null === pending\n        ? (update.next = update)\n        : ((update.next = pending.next), (pending.next = update));\n      queue.pending = update;\n    }\n    0 !== lane && markUpdateLaneFromFiberToRoot(fiber, update, lane);\n  }\n}\nfunction enqueueUpdate$1(fiber, queue, update, lane) {\n  concurrentQueues[concurrentQueuesIndex++] = fiber;\n  concurrentQueues[concurrentQueuesIndex++] = queue;\n  concurrentQueues[concurrentQueuesIndex++] = update;\n  concurrentQueues[concurrentQueuesIndex++] = lane;\n  concurrentlyUpdatedLanes |= lane;\n  fiber.lanes |= lane;\n  fiber = fiber.alternate;\n  null !== fiber && (fiber.lanes |= lane);\n}\nfunction enqueueConcurrentHookUpdate(fiber, queue, update, lane) {\n  enqueueUpdate$1(fiber, queue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction enqueueConcurrentRenderForLane(fiber, lane) {\n  enqueueUpdate$1(fiber, null, null, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {\n  sourceFiber.lanes |= lane;\n  var alternate = sourceFiber.alternate;\n  null !== alternate && (alternate.lanes |= lane);\n  for (var isHidden = !1, parent = sourceFiber.return; null !== parent; )\n    (parent.childLanes |= lane),\n      (alternate = parent.alternate),\n      null !== alternate && (alternate.childLanes |= lane),\n      22 === parent.tag &&\n        ((sourceFiber = parent.stateNode),\n        null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),\n      (sourceFiber = parent),\n      (parent = parent.return);\n  return 3 === sourceFiber.tag\n    ? ((parent = sourceFiber.stateNode),\n      isHidden &&\n        null !== update &&\n        ((isHidden = 31 - clz32(lane)),\n        (sourceFiber = parent.hiddenUpdates),\n        (alternate = sourceFiber[isHidden]),\n        null === alternate\n          ? (sourceFiber[isHidden] = [update])\n          : alternate.push(update),\n        (update.lane = lane | 536870912)),\n      parent)\n    : null;\n}\nfunction getRootForUpdatedFiber(sourceFiber) {\n  if (50 < nestedUpdateCount)\n    throw (\n      ((nestedUpdateCount = 0),\n      (rootWithNestedUpdates = null),\n      Error(formatProdErrorMessage(185)))\n    );\n  for (var parent = sourceFiber.return; null !== parent; )\n    (sourceFiber = parent), (parent = sourceFiber.return);\n  return 3 === sourceFiber.tag ? sourceFiber.stateNode : null;\n}\nvar emptyContextObject = {};\nfunction FiberNode(tag, pendingProps, key, mode) {\n  this.tag = tag;\n  this.key = key;\n  this.sibling =\n    this.child =\n    this.return =\n    this.stateNode =\n    this.type =\n    this.elementType =\n      null;\n  this.index = 0;\n  this.refCleanup = this.ref = null;\n  this.pendingProps = pendingProps;\n  this.dependencies =\n    this.memoizedState =\n    this.updateQueue =\n    this.memoizedProps =\n      null;\n  this.mode = mode;\n  this.subtreeFlags = this.flags = 0;\n  this.deletions = null;\n  this.childLanes = this.lanes = 0;\n  this.alternate = null;\n}\nfunction createFiberImplClass(tag, pendingProps, key, mode) {\n  return new FiberNode(tag, pendingProps, key, mode);\n}\nfunction shouldConstruct(Component) {\n  Component = Component.prototype;\n  return !(!Component || !Component.isReactComponent);\n}\nfunction createWorkInProgress(current, pendingProps) {\n  var workInProgress = current.alternate;\n  null === workInProgress\n    ? ((workInProgress = createFiberImplClass(\n        current.tag,\n        pendingProps,\n        current.key,\n        current.mode\n      )),\n      (workInProgress.elementType = current.elementType),\n      (workInProgress.type = current.type),\n      (workInProgress.stateNode = current.stateNode),\n      (workInProgress.alternate = current),\n      (current.alternate = workInProgress))\n    : ((workInProgress.pendingProps = pendingProps),\n      (workInProgress.type = current.type),\n      (workInProgress.flags = 0),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null));\n  workInProgress.flags = current.flags & 65011712;\n  workInProgress.childLanes = current.childLanes;\n  workInProgress.lanes = current.lanes;\n  workInProgress.child = current.child;\n  workInProgress.memoizedProps = current.memoizedProps;\n  workInProgress.memoizedState = current.memoizedState;\n  workInProgress.updateQueue = current.updateQueue;\n  pendingProps = current.dependencies;\n  workInProgress.dependencies =\n    null === pendingProps\n      ? null\n      : { lanes: pendingProps.lanes, firstContext: pendingProps.firstContext };\n  workInProgress.sibling = current.sibling;\n  workInProgress.index = current.index;\n  workInProgress.ref = current.ref;\n  workInProgress.refCleanup = current.refCleanup;\n  return workInProgress;\n}\nfunction resetWorkInProgress(workInProgress, renderLanes) {\n  workInProgress.flags &= 65011714;\n  var current = workInProgress.alternate;\n  null === current\n    ? ((workInProgress.childLanes = 0),\n      (workInProgress.lanes = renderLanes),\n      (workInProgress.child = null),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.memoizedProps = null),\n      (workInProgress.memoizedState = null),\n      (workInProgress.updateQueue = null),\n      (workInProgress.dependencies = null),\n      (workInProgress.stateNode = null))\n    : ((workInProgress.childLanes = current.childLanes),\n      (workInProgress.lanes = current.lanes),\n      (workInProgress.child = current.child),\n      (workInProgress.subtreeFlags = 0),\n      (workInProgress.deletions = null),\n      (workInProgress.memoizedProps = current.memoizedProps),\n      (workInProgress.memoizedState = current.memoizedState),\n      (workInProgress.updateQueue = current.updateQueue),\n      (workInProgress.type = current.type),\n      (renderLanes = current.dependencies),\n      (workInProgress.dependencies =\n        null === renderLanes\n          ? null\n          : {\n              lanes: renderLanes.lanes,\n              firstContext: renderLanes.firstContext\n            }));\n  return workInProgress;\n}\nfunction createFiberFromTypeAndProps(\n  type,\n  key,\n  pendingProps,\n  owner,\n  mode,\n  lanes\n) {\n  var fiberTag = 0;\n  owner = type;\n  if (\"function\" === typeof type) shouldConstruct(type) && (fiberTag = 1);\n  else if (\"string\" === typeof type)\n    fiberTag = isHostHoistableType(\n      type,\n      pendingProps,\n      contextStackCursor.current\n    )\n      ? 26\n      : \"html\" === type || \"head\" === type || \"body\" === type\n        ? 27\n        : 5;\n  else\n    a: switch (type) {\n      case REACT_ACTIVITY_TYPE:\n        return (\n          (type = createFiberImplClass(31, pendingProps, key, mode)),\n          (type.elementType = REACT_ACTIVITY_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_FRAGMENT_TYPE:\n        return createFiberFromFragment(pendingProps.children, mode, lanes, key);\n      case REACT_STRICT_MODE_TYPE:\n        fiberTag = 8;\n        mode |= 24;\n        break;\n      case REACT_PROFILER_TYPE:\n        return (\n          (type = createFiberImplClass(12, pendingProps, key, mode | 2)),\n          (type.elementType = REACT_PROFILER_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_TYPE:\n        return (\n          (type = createFiberImplClass(13, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      case REACT_SUSPENSE_LIST_TYPE:\n        return (\n          (type = createFiberImplClass(19, pendingProps, key, mode)),\n          (type.elementType = REACT_SUSPENSE_LIST_TYPE),\n          (type.lanes = lanes),\n          type\n        );\n      default:\n        if (\"object\" === typeof type && null !== type)\n          switch (type.$$typeof) {\n            case REACT_PROVIDER_TYPE:\n            case REACT_CONTEXT_TYPE:\n              fiberTag = 10;\n              break a;\n            case REACT_CONSUMER_TYPE:\n              fiberTag = 9;\n              break a;\n            case REACT_FORWARD_REF_TYPE:\n              fiberTag = 11;\n              break a;\n            case REACT_MEMO_TYPE:\n              fiberTag = 14;\n              break a;\n            case REACT_LAZY_TYPE:\n              fiberTag = 16;\n              owner = null;\n              break a;\n          }\n        fiberTag = 29;\n        pendingProps = Error(\n          formatProdErrorMessage(130, null === type ? \"null\" : typeof type, \"\")\n        );\n        owner = null;\n    }\n  key = createFiberImplClass(fiberTag, pendingProps, key, mode);\n  key.elementType = type;\n  key.type = owner;\n  key.lanes = lanes;\n  return key;\n}\nfunction createFiberFromFragment(elements, mode, lanes, key) {\n  elements = createFiberImplClass(7, elements, key, mode);\n  elements.lanes = lanes;\n  return elements;\n}\nfunction createFiberFromText(content, mode, lanes) {\n  content = createFiberImplClass(6, content, null, mode);\n  content.lanes = lanes;\n  return content;\n}\nfunction createFiberFromPortal(portal, mode, lanes) {\n  mode = createFiberImplClass(\n    4,\n    null !== portal.children ? portal.children : [],\n    portal.key,\n    mode\n  );\n  mode.lanes = lanes;\n  mode.stateNode = {\n    containerInfo: portal.containerInfo,\n    pendingChildren: null,\n    implementation: portal.implementation\n  };\n  return mode;\n}\nvar forkStack = [],\n  forkStackIndex = 0,\n  treeForkProvider = null,\n  treeForkCount = 0,\n  idStack = [],\n  idStackIndex = 0,\n  treeContextProvider = null,\n  treeContextId = 1,\n  treeContextOverflow = \"\";\nfunction pushTreeFork(workInProgress, totalChildren) {\n  forkStack[forkStackIndex++] = treeForkCount;\n  forkStack[forkStackIndex++] = treeForkProvider;\n  treeForkProvider = workInProgress;\n  treeForkCount = totalChildren;\n}\nfunction pushTreeId(workInProgress, totalChildren, index) {\n  idStack[idStackIndex++] = treeContextId;\n  idStack[idStackIndex++] = treeContextOverflow;\n  idStack[idStackIndex++] = treeContextProvider;\n  treeContextProvider = workInProgress;\n  var baseIdWithLeadingBit = treeContextId;\n  workInProgress = treeContextOverflow;\n  var baseLength = 32 - clz32(baseIdWithLeadingBit) - 1;\n  baseIdWithLeadingBit &= ~(1 << baseLength);\n  index += 1;\n  var length = 32 - clz32(totalChildren) + baseLength;\n  if (30 < length) {\n    var numberOfOverflowBits = baseLength - (baseLength % 5);\n    length = (\n      baseIdWithLeadingBit &\n      ((1 << numberOfOverflowBits) - 1)\n    ).toString(32);\n    baseIdWithLeadingBit >>= numberOfOverflowBits;\n    baseLength -= numberOfOverflowBits;\n    treeContextId =\n      (1 << (32 - clz32(totalChildren) + baseLength)) |\n      (index << baseLength) |\n      baseIdWithLeadingBit;\n    treeContextOverflow = length + workInProgress;\n  } else\n    (treeContextId =\n      (1 << length) | (index << baseLength) | baseIdWithLeadingBit),\n      (treeContextOverflow = workInProgress);\n}\nfunction pushMaterializedTreeId(workInProgress) {\n  null !== workInProgress.return &&\n    (pushTreeFork(workInProgress, 1), pushTreeId(workInProgress, 1, 0));\n}\nfunction popTreeContext(workInProgress) {\n  for (; workInProgress === treeForkProvider; )\n    (treeForkProvider = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null),\n      (treeForkCount = forkStack[--forkStackIndex]),\n      (forkStack[forkStackIndex] = null);\n  for (; workInProgress === treeContextProvider; )\n    (treeContextProvider = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextOverflow = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null),\n      (treeContextId = idStack[--idStackIndex]),\n      (idStack[idStackIndex] = null);\n}\nvar hydrationParentFiber = null,\n  nextHydratableInstance = null,\n  isHydrating = !1,\n  hydrationErrors = null,\n  rootOrSingletonContext = !1,\n  HydrationMismatchException = Error(formatProdErrorMessage(519));\nfunction throwOnHydrationMismatch(fiber) {\n  var error = Error(formatProdErrorMessage(418, \"\"));\n  queueHydrationError(createCapturedValueAtFiber(error, fiber));\n  throw HydrationMismatchException;\n}\nfunction prepareToHydrateHostInstance(fiber) {\n  var instance = fiber.stateNode,\n    type = fiber.type,\n    props = fiber.memoizedProps;\n  instance[internalInstanceKey] = fiber;\n  instance[internalPropsKey] = props;\n  switch (type) {\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"cancel\", instance);\n      listenToNonDelegatedEvent(\"close\", instance);\n      break;\n    case \"iframe\":\n    case \"object\":\n    case \"embed\":\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (type = 0; type < mediaEventTypes.length; type++)\n        listenToNonDelegatedEvent(mediaEventTypes[type], instance);\n      break;\n    case \"source\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      break;\n    case \"img\":\n    case \"image\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", instance);\n      listenToNonDelegatedEvent(\"load\", instance);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", instance);\n      break;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      initInput(\n        instance,\n        props.value,\n        props.defaultValue,\n        props.checked,\n        props.defaultChecked,\n        props.type,\n        props.name,\n        !0\n      );\n      track(instance);\n      break;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", instance);\n      break;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", instance),\n        initTextarea(instance, props.value, props.defaultValue, props.children),\n        track(instance);\n  }\n  type = props.children;\n  (\"string\" !== typeof type &&\n    \"number\" !== typeof type &&\n    \"bigint\" !== typeof type) ||\n  instance.textContent === \"\" + type ||\n  !0 === props.suppressHydrationWarning ||\n  checkForUnmatchedText(instance.textContent, type)\n    ? (null != props.popover &&\n        (listenToNonDelegatedEvent(\"beforetoggle\", instance),\n        listenToNonDelegatedEvent(\"toggle\", instance)),\n      null != props.onScroll && listenToNonDelegatedEvent(\"scroll\", instance),\n      null != props.onScrollEnd &&\n        listenToNonDelegatedEvent(\"scrollend\", instance),\n      null != props.onClick && (instance.onclick = noop$1),\n      (instance = !0))\n    : (instance = !1);\n  instance || throwOnHydrationMismatch(fiber);\n}\nfunction popToNextHostParent(fiber) {\n  for (hydrationParentFiber = fiber.return; hydrationParentFiber; )\n    switch (hydrationParentFiber.tag) {\n      case 5:\n      case 13:\n        rootOrSingletonContext = !1;\n        return;\n      case 27:\n      case 3:\n        rootOrSingletonContext = !0;\n        return;\n      default:\n        hydrationParentFiber = hydrationParentFiber.return;\n    }\n}\nfunction popHydrationState(fiber) {\n  if (fiber !== hydrationParentFiber) return !1;\n  if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;\n  var tag = fiber.tag,\n    JSCompiler_temp;\n  if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {\n    if ((JSCompiler_temp = 5 === tag))\n      (JSCompiler_temp = fiber.type),\n        (JSCompiler_temp =\n          !(\"form\" !== JSCompiler_temp && \"button\" !== JSCompiler_temp) ||\n          shouldSetTextContent(fiber.type, fiber.memoizedProps));\n    JSCompiler_temp = !JSCompiler_temp;\n  }\n  JSCompiler_temp && nextHydratableInstance && throwOnHydrationMismatch(fiber);\n  popToNextHostParent(fiber);\n  if (13 === tag) {\n    fiber = fiber.memoizedState;\n    fiber = null !== fiber ? fiber.dehydrated : null;\n    if (!fiber) throw Error(formatProdErrorMessage(317));\n    a: {\n      fiber = fiber.nextSibling;\n      for (tag = 0; fiber; ) {\n        if (8 === fiber.nodeType)\n          if (((JSCompiler_temp = fiber.data), \"/$\" === JSCompiler_temp)) {\n            if (0 === tag) {\n              nextHydratableInstance = getNextHydratable(fiber.nextSibling);\n              break a;\n            }\n            tag--;\n          } else\n            (\"$\" !== JSCompiler_temp &&\n              \"$!\" !== JSCompiler_temp &&\n              \"$?\" !== JSCompiler_temp) ||\n              tag++;\n        fiber = fiber.nextSibling;\n      }\n      nextHydratableInstance = null;\n    }\n  } else\n    27 === tag\n      ? ((tag = nextHydratableInstance),\n        isSingletonScope(fiber.type)\n          ? ((fiber = previousHydratableOnEnteringScopedSingleton),\n            (previousHydratableOnEnteringScopedSingleton = null),\n            (nextHydratableInstance = fiber))\n          : (nextHydratableInstance = tag))\n      : (nextHydratableInstance = hydrationParentFiber\n          ? getNextHydratable(fiber.stateNode.nextSibling)\n          : null);\n  return !0;\n}\nfunction resetHydrationState() {\n  nextHydratableInstance = hydrationParentFiber = null;\n  isHydrating = !1;\n}\nfunction upgradeHydrationErrorsToRecoverable() {\n  var queuedErrors = hydrationErrors;\n  null !== queuedErrors &&\n    (null === workInProgressRootRecoverableErrors\n      ? (workInProgressRootRecoverableErrors = queuedErrors)\n      : workInProgressRootRecoverableErrors.push.apply(\n          workInProgressRootRecoverableErrors,\n          queuedErrors\n        ),\n    (hydrationErrors = null));\n  return queuedErrors;\n}\nfunction queueHydrationError(error) {\n  null === hydrationErrors\n    ? (hydrationErrors = [error])\n    : hydrationErrors.push(error);\n}\nvar valueCursor = createCursor(null),\n  currentlyRenderingFiber$1 = null,\n  lastContextDependency = null;\nfunction pushProvider(providerFiber, context, nextValue) {\n  push(valueCursor, context._currentValue);\n  context._currentValue = nextValue;\n}\nfunction popProvider(context) {\n  context._currentValue = valueCursor.current;\n  pop(valueCursor);\n}\nfunction scheduleContextWorkOnParentPath(parent, renderLanes, propagationRoot) {\n  for (; null !== parent; ) {\n    var alternate = parent.alternate;\n    (parent.childLanes & renderLanes) !== renderLanes\n      ? ((parent.childLanes |= renderLanes),\n        null !== alternate && (alternate.childLanes |= renderLanes))\n      : null !== alternate &&\n        (alternate.childLanes & renderLanes) !== renderLanes &&\n        (alternate.childLanes |= renderLanes);\n    if (parent === propagationRoot) break;\n    parent = parent.return;\n  }\n}\nfunction propagateContextChanges(\n  workInProgress,\n  contexts,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  var fiber = workInProgress.child;\n  null !== fiber && (fiber.return = workInProgress);\n  for (; null !== fiber; ) {\n    var list = fiber.dependencies;\n    if (null !== list) {\n      var nextFiber = fiber.child;\n      list = list.firstContext;\n      a: for (; null !== list; ) {\n        var dependency = list;\n        list = fiber;\n        for (var i = 0; i < contexts.length; i++)\n          if (dependency.context === contexts[i]) {\n            list.lanes |= renderLanes;\n            dependency = list.alternate;\n            null !== dependency && (dependency.lanes |= renderLanes);\n            scheduleContextWorkOnParentPath(\n              list.return,\n              renderLanes,\n              workInProgress\n            );\n            forcePropagateEntireTree || (nextFiber = null);\n            break a;\n          }\n        list = dependency.next;\n      }\n    } else if (18 === fiber.tag) {\n      nextFiber = fiber.return;\n      if (null === nextFiber) throw Error(formatProdErrorMessage(341));\n      nextFiber.lanes |= renderLanes;\n      list = nextFiber.alternate;\n      null !== list && (list.lanes |= renderLanes);\n      scheduleContextWorkOnParentPath(nextFiber, renderLanes, workInProgress);\n      nextFiber = null;\n    } else nextFiber = fiber.child;\n    if (null !== nextFiber) nextFiber.return = fiber;\n    else\n      for (nextFiber = fiber; null !== nextFiber; ) {\n        if (nextFiber === workInProgress) {\n          nextFiber = null;\n          break;\n        }\n        fiber = nextFiber.sibling;\n        if (null !== fiber) {\n          fiber.return = nextFiber.return;\n          nextFiber = fiber;\n          break;\n        }\n        nextFiber = nextFiber.return;\n      }\n    fiber = nextFiber;\n  }\n}\nfunction propagateParentContextChanges(\n  current,\n  workInProgress,\n  renderLanes,\n  forcePropagateEntireTree\n) {\n  current = null;\n  for (\n    var parent = workInProgress, isInsidePropagationBailout = !1;\n    null !== parent;\n\n  ) {\n    if (!isInsidePropagationBailout)\n      if (0 !== (parent.flags & 524288)) isInsidePropagationBailout = !0;\n      else if (0 !== (parent.flags & 262144)) break;\n    if (10 === parent.tag) {\n      var currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent = currentParent.memoizedProps;\n      if (null !== currentParent) {\n        var context = parent.type;\n        objectIs(parent.pendingProps.value, currentParent.value) ||\n          (null !== current ? current.push(context) : (current = [context]));\n      }\n    } else if (parent === hostTransitionProviderCursor.current) {\n      currentParent = parent.alternate;\n      if (null === currentParent) throw Error(formatProdErrorMessage(387));\n      currentParent.memoizedState.memoizedState !==\n        parent.memoizedState.memoizedState &&\n        (null !== current\n          ? current.push(HostTransitionContext)\n          : (current = [HostTransitionContext]));\n    }\n    parent = parent.return;\n  }\n  null !== current &&\n    propagateContextChanges(\n      workInProgress,\n      current,\n      renderLanes,\n      forcePropagateEntireTree\n    );\n  workInProgress.flags |= 262144;\n}\nfunction checkIfContextChanged(currentDependencies) {\n  for (\n    currentDependencies = currentDependencies.firstContext;\n    null !== currentDependencies;\n\n  ) {\n    if (\n      !objectIs(\n        currentDependencies.context._currentValue,\n        currentDependencies.memoizedValue\n      )\n    )\n      return !0;\n    currentDependencies = currentDependencies.next;\n  }\n  return !1;\n}\nfunction prepareToReadContext(workInProgress) {\n  currentlyRenderingFiber$1 = workInProgress;\n  lastContextDependency = null;\n  workInProgress = workInProgress.dependencies;\n  null !== workInProgress && (workInProgress.firstContext = null);\n}\nfunction readContext(context) {\n  return readContextForConsumer(currentlyRenderingFiber$1, context);\n}\nfunction readContextDuringReconciliation(consumer, context) {\n  null === currentlyRenderingFiber$1 && prepareToReadContext(consumer);\n  return readContextForConsumer(consumer, context);\n}\nfunction readContextForConsumer(consumer, context) {\n  var value = context._currentValue;\n  context = { context: context, memoizedValue: value, next: null };\n  if (null === lastContextDependency) {\n    if (null === consumer) throw Error(formatProdErrorMessage(308));\n    lastContextDependency = context;\n    consumer.dependencies = { lanes: 0, firstContext: context };\n    consumer.flags |= 524288;\n  } else lastContextDependency = lastContextDependency.next = context;\n  return value;\n}\nvar AbortControllerLocal =\n    \"undefined\" !== typeof AbortController\n      ? AbortController\n      : function () {\n          var listeners = [],\n            signal = (this.signal = {\n              aborted: !1,\n              addEventListener: function (type, listener) {\n                listeners.push(listener);\n              }\n            });\n          this.abort = function () {\n            signal.aborted = !0;\n            listeners.forEach(function (listener) {\n              return listener();\n            });\n          };\n        },\n  scheduleCallback$2 = Scheduler.unstable_scheduleCallback,\n  NormalPriority = Scheduler.unstable_NormalPriority,\n  CacheContext = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    Consumer: null,\n    Provider: null,\n    _currentValue: null,\n    _currentValue2: null,\n    _threadCount: 0\n  };\nfunction createCache() {\n  return {\n    controller: new AbortControllerLocal(),\n    data: new Map(),\n    refCount: 0\n  };\n}\nfunction releaseCache(cache) {\n  cache.refCount--;\n  0 === cache.refCount &&\n    scheduleCallback$2(NormalPriority, function () {\n      cache.controller.abort();\n    });\n}\nvar currentEntangledListeners = null,\n  currentEntangledPendingCount = 0,\n  currentEntangledLane = 0,\n  currentEntangledActionThenable = null;\nfunction entangleAsyncAction(transition, thenable) {\n  if (null === currentEntangledListeners) {\n    var entangledListeners = (currentEntangledListeners = []);\n    currentEntangledPendingCount = 0;\n    currentEntangledLane = requestTransitionLane();\n    currentEntangledActionThenable = {\n      status: \"pending\",\n      value: void 0,\n      then: function (resolve) {\n        entangledListeners.push(resolve);\n      }\n    };\n  }\n  currentEntangledPendingCount++;\n  thenable.then(pingEngtangledActionScope, pingEngtangledActionScope);\n  return thenable;\n}\nfunction pingEngtangledActionScope() {\n  if (\n    0 === --currentEntangledPendingCount &&\n    null !== currentEntangledListeners\n  ) {\n    null !== currentEntangledActionThenable &&\n      (currentEntangledActionThenable.status = \"fulfilled\");\n    var listeners = currentEntangledListeners;\n    currentEntangledListeners = null;\n    currentEntangledLane = 0;\n    currentEntangledActionThenable = null;\n    for (var i = 0; i < listeners.length; i++) (0, listeners[i])();\n  }\n}\nfunction chainThenableValue(thenable, result) {\n  var listeners = [],\n    thenableWithOverride = {\n      status: \"pending\",\n      value: null,\n      reason: null,\n      then: function (resolve) {\n        listeners.push(resolve);\n      }\n    };\n  thenable.then(\n    function () {\n      thenableWithOverride.status = \"fulfilled\";\n      thenableWithOverride.value = result;\n      for (var i = 0; i < listeners.length; i++) (0, listeners[i])(result);\n    },\n    function (error) {\n      thenableWithOverride.status = \"rejected\";\n      thenableWithOverride.reason = error;\n      for (error = 0; error < listeners.length; error++)\n        (0, listeners[error])(void 0);\n    }\n  );\n  return thenableWithOverride;\n}\nvar prevOnStartTransitionFinish = ReactSharedInternals.S;\nReactSharedInternals.S = function (transition, returnValue) {\n  \"object\" === typeof returnValue &&\n    null !== returnValue &&\n    \"function\" === typeof returnValue.then &&\n    entangleAsyncAction(transition, returnValue);\n  null !== prevOnStartTransitionFinish &&\n    prevOnStartTransitionFinish(transition, returnValue);\n};\nvar resumedCache = createCursor(null);\nfunction peekCacheFromPool() {\n  var cacheResumedFromPreviousRender = resumedCache.current;\n  return null !== cacheResumedFromPreviousRender\n    ? cacheResumedFromPreviousRender\n    : workInProgressRoot.pooledCache;\n}\nfunction pushTransition(offscreenWorkInProgress, prevCachePool) {\n  null === prevCachePool\n    ? push(resumedCache, resumedCache.current)\n    : push(resumedCache, prevCachePool.pool);\n}\nfunction getSuspendedCache() {\n  var cacheFromPool = peekCacheFromPool();\n  return null === cacheFromPool\n    ? null\n    : { parent: CacheContext._currentValue, pool: cacheFromPool };\n}\nvar SuspenseException = Error(formatProdErrorMessage(460)),\n  SuspenseyCommitException = Error(formatProdErrorMessage(474)),\n  SuspenseActionException = Error(formatProdErrorMessage(542)),\n  noopSuspenseyCommitThenable = { then: function () {} };\nfunction isThenableResolved(thenable) {\n  thenable = thenable.status;\n  return \"fulfilled\" === thenable || \"rejected\" === thenable;\n}\nfunction noop$3() {}\nfunction trackUsedThenable(thenableState, thenable, index) {\n  index = thenableState[index];\n  void 0 === index\n    ? thenableState.push(thenable)\n    : index !== thenable && (thenable.then(noop$3, noop$3), (thenable = index));\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw (\n        ((thenableState = thenable.reason),\n        checkIfUseWrappedInAsyncCatch(thenableState),\n        thenableState)\n      );\n    default:\n      if (\"string\" === typeof thenable.status) thenable.then(noop$3, noop$3);\n      else {\n        thenableState = workInProgressRoot;\n        if (null !== thenableState && 100 < thenableState.shellSuspendCounter)\n          throw Error(formatProdErrorMessage(482));\n        thenableState = thenable;\n        thenableState.status = \"pending\";\n        thenableState.then(\n          function (fulfilledValue) {\n            if (\"pending\" === thenable.status) {\n              var fulfilledThenable = thenable;\n              fulfilledThenable.status = \"fulfilled\";\n              fulfilledThenable.value = fulfilledValue;\n            }\n          },\n          function (error) {\n            if (\"pending\" === thenable.status) {\n              var rejectedThenable = thenable;\n              rejectedThenable.status = \"rejected\";\n              rejectedThenable.reason = error;\n            }\n          }\n        );\n      }\n      switch (thenable.status) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw (\n            ((thenableState = thenable.reason),\n            checkIfUseWrappedInAsyncCatch(thenableState),\n            thenableState)\n          );\n      }\n      suspendedThenable = thenable;\n      throw SuspenseException;\n  }\n}\nvar suspendedThenable = null;\nfunction getSuspendedThenable() {\n  if (null === suspendedThenable) throw Error(formatProdErrorMessage(459));\n  var thenable = suspendedThenable;\n  suspendedThenable = null;\n  return thenable;\n}\nfunction checkIfUseWrappedInAsyncCatch(rejectedReason) {\n  if (\n    rejectedReason === SuspenseException ||\n    rejectedReason === SuspenseActionException\n  )\n    throw Error(formatProdErrorMessage(483));\n}\nvar hasForceUpdate = !1;\nfunction initializeUpdateQueue(fiber) {\n  fiber.updateQueue = {\n    baseState: fiber.memoizedState,\n    firstBaseUpdate: null,\n    lastBaseUpdate: null,\n    shared: { pending: null, lanes: 0, hiddenCallbacks: null },\n    callbacks: null\n  };\n}\nfunction cloneUpdateQueue(current, workInProgress) {\n  current = current.updateQueue;\n  workInProgress.updateQueue === current &&\n    (workInProgress.updateQueue = {\n      baseState: current.baseState,\n      firstBaseUpdate: current.firstBaseUpdate,\n      lastBaseUpdate: current.lastBaseUpdate,\n      shared: current.shared,\n      callbacks: null\n    });\n}\nfunction createUpdate(lane) {\n  return { lane: lane, tag: 0, payload: null, callback: null, next: null };\n}\nfunction enqueueUpdate(fiber, update, lane) {\n  var updateQueue = fiber.updateQueue;\n  if (null === updateQueue) return null;\n  updateQueue = updateQueue.shared;\n  if (0 !== (executionContext & 2)) {\n    var pending = updateQueue.pending;\n    null === pending\n      ? (update.next = update)\n      : ((update.next = pending.next), (pending.next = update));\n    updateQueue.pending = update;\n    update = getRootForUpdatedFiber(fiber);\n    markUpdateLaneFromFiberToRoot(fiber, null, lane);\n    return update;\n  }\n  enqueueUpdate$1(fiber, updateQueue, update, lane);\n  return getRootForUpdatedFiber(fiber);\n}\nfunction entangleTransitions(root, fiber, lane) {\n  fiber = fiber.updateQueue;\n  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {\n    var queueLanes = fiber.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    fiber.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nfunction enqueueCapturedUpdate(workInProgress, capturedUpdate) {\n  var queue = workInProgress.updateQueue,\n    current = workInProgress.alternate;\n  if (\n    null !== current &&\n    ((current = current.updateQueue), queue === current)\n  ) {\n    var newFirst = null,\n      newLast = null;\n    queue = queue.firstBaseUpdate;\n    if (null !== queue) {\n      do {\n        var clone = {\n          lane: queue.lane,\n          tag: queue.tag,\n          payload: queue.payload,\n          callback: null,\n          next: null\n        };\n        null === newLast\n          ? (newFirst = newLast = clone)\n          : (newLast = newLast.next = clone);\n        queue = queue.next;\n      } while (null !== queue);\n      null === newLast\n        ? (newFirst = newLast = capturedUpdate)\n        : (newLast = newLast.next = capturedUpdate);\n    } else newFirst = newLast = capturedUpdate;\n    queue = {\n      baseState: current.baseState,\n      firstBaseUpdate: newFirst,\n      lastBaseUpdate: newLast,\n      shared: current.shared,\n      callbacks: current.callbacks\n    };\n    workInProgress.updateQueue = queue;\n    return;\n  }\n  workInProgress = queue.lastBaseUpdate;\n  null === workInProgress\n    ? (queue.firstBaseUpdate = capturedUpdate)\n    : (workInProgress.next = capturedUpdate);\n  queue.lastBaseUpdate = capturedUpdate;\n}\nvar didReadFromEntangledAsyncAction = !1;\nfunction suspendIfUpdateReadFromEntangledAsyncAction() {\n  if (didReadFromEntangledAsyncAction) {\n    var entangledActionThenable = currentEntangledActionThenable;\n    if (null !== entangledActionThenable) throw entangledActionThenable;\n  }\n}\nfunction processUpdateQueue(\n  workInProgress$jscomp$0,\n  props,\n  instance$jscomp$0,\n  renderLanes\n) {\n  didReadFromEntangledAsyncAction = !1;\n  var queue = workInProgress$jscomp$0.updateQueue;\n  hasForceUpdate = !1;\n  var firstBaseUpdate = queue.firstBaseUpdate,\n    lastBaseUpdate = queue.lastBaseUpdate,\n    pendingQueue = queue.shared.pending;\n  if (null !== pendingQueue) {\n    queue.shared.pending = null;\n    var lastPendingUpdate = pendingQueue,\n      firstPendingUpdate = lastPendingUpdate.next;\n    lastPendingUpdate.next = null;\n    null === lastBaseUpdate\n      ? (firstBaseUpdate = firstPendingUpdate)\n      : (lastBaseUpdate.next = firstPendingUpdate);\n    lastBaseUpdate = lastPendingUpdate;\n    var current = workInProgress$jscomp$0.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      (pendingQueue = current.lastBaseUpdate),\n      pendingQueue !== lastBaseUpdate &&\n        (null === pendingQueue\n          ? (current.firstBaseUpdate = firstPendingUpdate)\n          : (pendingQueue.next = firstPendingUpdate),\n        (current.lastBaseUpdate = lastPendingUpdate)));\n  }\n  if (null !== firstBaseUpdate) {\n    var newState = queue.baseState;\n    lastBaseUpdate = 0;\n    current = firstPendingUpdate = lastPendingUpdate = null;\n    pendingQueue = firstBaseUpdate;\n    do {\n      var updateLane = pendingQueue.lane & -536870913,\n        isHiddenUpdate = updateLane !== pendingQueue.lane;\n      if (\n        isHiddenUpdate\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        0 !== updateLane &&\n          updateLane === currentEntangledLane &&\n          (didReadFromEntangledAsyncAction = !0);\n        null !== current &&\n          (current = current.next =\n            {\n              lane: 0,\n              tag: pendingQueue.tag,\n              payload: pendingQueue.payload,\n              callback: null,\n              next: null\n            });\n        a: {\n          var workInProgress = workInProgress$jscomp$0,\n            update = pendingQueue;\n          updateLane = props;\n          var instance = instance$jscomp$0;\n          switch (update.tag) {\n            case 1:\n              workInProgress = update.payload;\n              if (\"function\" === typeof workInProgress) {\n                newState = workInProgress.call(instance, newState, updateLane);\n                break a;\n              }\n              newState = workInProgress;\n              break a;\n            case 3:\n              workInProgress.flags = (workInProgress.flags & -65537) | 128;\n            case 0:\n              workInProgress = update.payload;\n              updateLane =\n                \"function\" === typeof workInProgress\n                  ? workInProgress.call(instance, newState, updateLane)\n                  : workInProgress;\n              if (null === updateLane || void 0 === updateLane) break a;\n              newState = assign({}, newState, updateLane);\n              break a;\n            case 2:\n              hasForceUpdate = !0;\n          }\n        }\n        updateLane = pendingQueue.callback;\n        null !== updateLane &&\n          ((workInProgress$jscomp$0.flags |= 64),\n          isHiddenUpdate && (workInProgress$jscomp$0.flags |= 8192),\n          (isHiddenUpdate = queue.callbacks),\n          null === isHiddenUpdate\n            ? (queue.callbacks = [updateLane])\n            : isHiddenUpdate.push(updateLane));\n      } else\n        (isHiddenUpdate = {\n          lane: updateLane,\n          tag: pendingQueue.tag,\n          payload: pendingQueue.payload,\n          callback: pendingQueue.callback,\n          next: null\n        }),\n          null === current\n            ? ((firstPendingUpdate = current = isHiddenUpdate),\n              (lastPendingUpdate = newState))\n            : (current = current.next = isHiddenUpdate),\n          (lastBaseUpdate |= updateLane);\n      pendingQueue = pendingQueue.next;\n      if (null === pendingQueue)\n        if (((pendingQueue = queue.shared.pending), null === pendingQueue))\n          break;\n        else\n          (isHiddenUpdate = pendingQueue),\n            (pendingQueue = isHiddenUpdate.next),\n            (isHiddenUpdate.next = null),\n            (queue.lastBaseUpdate = isHiddenUpdate),\n            (queue.shared.pending = null);\n    } while (1);\n    null === current && (lastPendingUpdate = newState);\n    queue.baseState = lastPendingUpdate;\n    queue.firstBaseUpdate = firstPendingUpdate;\n    queue.lastBaseUpdate = current;\n    null === firstBaseUpdate && (queue.shared.lanes = 0);\n    workInProgressRootSkippedLanes |= lastBaseUpdate;\n    workInProgress$jscomp$0.lanes = lastBaseUpdate;\n    workInProgress$jscomp$0.memoizedState = newState;\n  }\n}\nfunction callCallback(callback, context) {\n  if (\"function\" !== typeof callback)\n    throw Error(formatProdErrorMessage(191, callback));\n  callback.call(context);\n}\nfunction commitCallbacks(updateQueue, context) {\n  var callbacks = updateQueue.callbacks;\n  if (null !== callbacks)\n    for (\n      updateQueue.callbacks = null, updateQueue = 0;\n      updateQueue < callbacks.length;\n      updateQueue++\n    )\n      callCallback(callbacks[updateQueue], context);\n}\nvar currentTreeHiddenStackCursor = createCursor(null),\n  prevEntangledRenderLanesCursor = createCursor(0);\nfunction pushHiddenContext(fiber, context) {\n  fiber = entangledRenderLanes;\n  push(prevEntangledRenderLanesCursor, fiber);\n  push(currentTreeHiddenStackCursor, context);\n  entangledRenderLanes = fiber | context.baseLanes;\n}\nfunction reuseHiddenContextOnStack() {\n  push(prevEntangledRenderLanesCursor, entangledRenderLanes);\n  push(currentTreeHiddenStackCursor, currentTreeHiddenStackCursor.current);\n}\nfunction popHiddenContext() {\n  entangledRenderLanes = prevEntangledRenderLanesCursor.current;\n  pop(currentTreeHiddenStackCursor);\n  pop(prevEntangledRenderLanesCursor);\n}\nvar renderLanes = 0,\n  currentlyRenderingFiber = null,\n  currentHook = null,\n  workInProgressHook = null,\n  didScheduleRenderPhaseUpdate = !1,\n  didScheduleRenderPhaseUpdateDuringThisPass = !1,\n  shouldDoubleInvokeUserFnsInHooksDEV = !1,\n  localIdCounter = 0,\n  thenableIndexCounter$1 = 0,\n  thenableState$1 = null,\n  globalClientIdCounter = 0;\nfunction throwInvalidHookError() {\n  throw Error(formatProdErrorMessage(321));\n}\nfunction areHookInputsEqual(nextDeps, prevDeps) {\n  if (null === prevDeps) return !1;\n  for (var i = 0; i < prevDeps.length && i < nextDeps.length; i++)\n    if (!objectIs(nextDeps[i], prevDeps[i])) return !1;\n  return !0;\n}\nfunction renderWithHooks(\n  current,\n  workInProgress,\n  Component,\n  props,\n  secondArg,\n  nextRenderLanes\n) {\n  renderLanes = nextRenderLanes;\n  currentlyRenderingFiber = workInProgress;\n  workInProgress.memoizedState = null;\n  workInProgress.updateQueue = null;\n  workInProgress.lanes = 0;\n  ReactSharedInternals.H =\n    null === current || null === current.memoizedState\n      ? HooksDispatcherOnMount\n      : HooksDispatcherOnUpdate;\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  nextRenderLanes = Component(props, secondArg);\n  shouldDoubleInvokeUserFnsInHooksDEV = !1;\n  didScheduleRenderPhaseUpdateDuringThisPass &&\n    (nextRenderLanes = renderWithHooksAgain(\n      workInProgress,\n      Component,\n      props,\n      secondArg\n    ));\n  finishRenderingHooks(current);\n  return nextRenderLanes;\n}\nfunction finishRenderingHooks(current) {\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  var didRenderTooFewHooks = null !== currentHook && null !== currentHook.next;\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdate = !1;\n  thenableIndexCounter$1 = 0;\n  thenableState$1 = null;\n  if (didRenderTooFewHooks) throw Error(formatProdErrorMessage(300));\n  null === current ||\n    didReceiveUpdate ||\n    ((current = current.dependencies),\n    null !== current &&\n      checkIfContextChanged(current) &&\n      (didReceiveUpdate = !0));\n}\nfunction renderWithHooksAgain(workInProgress, Component, props, secondArg) {\n  currentlyRenderingFiber = workInProgress;\n  var numberOfReRenders = 0;\n  do {\n    didScheduleRenderPhaseUpdateDuringThisPass && (thenableState$1 = null);\n    thenableIndexCounter$1 = 0;\n    didScheduleRenderPhaseUpdateDuringThisPass = !1;\n    if (25 <= numberOfReRenders) throw Error(formatProdErrorMessage(301));\n    numberOfReRenders += 1;\n    workInProgressHook = currentHook = null;\n    if (null != workInProgress.updateQueue) {\n      var children = workInProgress.updateQueue;\n      children.lastEffect = null;\n      children.events = null;\n      children.stores = null;\n      null != children.memoCache && (children.memoCache.index = 0);\n    }\n    ReactSharedInternals.H = HooksDispatcherOnRerender;\n    children = Component(props, secondArg);\n  } while (didScheduleRenderPhaseUpdateDuringThisPass);\n  return children;\n}\nfunction TransitionAwareHostComponent() {\n  var dispatcher = ReactSharedInternals.H,\n    maybeThenable = dispatcher.useState()[0];\n  maybeThenable =\n    \"function\" === typeof maybeThenable.then\n      ? useThenable(maybeThenable)\n      : maybeThenable;\n  dispatcher = dispatcher.useState()[0];\n  (null !== currentHook ? currentHook.memoizedState : null) !== dispatcher &&\n    (currentlyRenderingFiber.flags |= 1024);\n  return maybeThenable;\n}\nfunction checkDidRenderIdHook() {\n  var didRenderIdHook = 0 !== localIdCounter;\n  localIdCounter = 0;\n  return didRenderIdHook;\n}\nfunction bailoutHooks(current, workInProgress, lanes) {\n  workInProgress.updateQueue = current.updateQueue;\n  workInProgress.flags &= -2053;\n  current.lanes &= ~lanes;\n}\nfunction resetHooksOnUnwind(workInProgress) {\n  if (didScheduleRenderPhaseUpdate) {\n    for (\n      workInProgress = workInProgress.memoizedState;\n      null !== workInProgress;\n\n    ) {\n      var queue = workInProgress.queue;\n      null !== queue && (queue.pending = null);\n      workInProgress = workInProgress.next;\n    }\n    didScheduleRenderPhaseUpdate = !1;\n  }\n  renderLanes = 0;\n  workInProgressHook = currentHook = currentlyRenderingFiber = null;\n  didScheduleRenderPhaseUpdateDuringThisPass = !1;\n  thenableIndexCounter$1 = localIdCounter = 0;\n  thenableState$1 = null;\n}\nfunction mountWorkInProgressHook() {\n  var hook = {\n    memoizedState: null,\n    baseState: null,\n    baseQueue: null,\n    queue: null,\n    next: null\n  };\n  null === workInProgressHook\n    ? (currentlyRenderingFiber.memoizedState = workInProgressHook = hook)\n    : (workInProgressHook = workInProgressHook.next = hook);\n  return workInProgressHook;\n}\nfunction updateWorkInProgressHook() {\n  if (null === currentHook) {\n    var nextCurrentHook = currentlyRenderingFiber.alternate;\n    nextCurrentHook =\n      null !== nextCurrentHook ? nextCurrentHook.memoizedState : null;\n  } else nextCurrentHook = currentHook.next;\n  var nextWorkInProgressHook =\n    null === workInProgressHook\n      ? currentlyRenderingFiber.memoizedState\n      : workInProgressHook.next;\n  if (null !== nextWorkInProgressHook)\n    (workInProgressHook = nextWorkInProgressHook),\n      (currentHook = nextCurrentHook);\n  else {\n    if (null === nextCurrentHook) {\n      if (null === currentlyRenderingFiber.alternate)\n        throw Error(formatProdErrorMessage(467));\n      throw Error(formatProdErrorMessage(310));\n    }\n    currentHook = nextCurrentHook;\n    nextCurrentHook = {\n      memoizedState: currentHook.memoizedState,\n      baseState: currentHook.baseState,\n      baseQueue: currentHook.baseQueue,\n      queue: currentHook.queue,\n      next: null\n    };\n    null === workInProgressHook\n      ? (currentlyRenderingFiber.memoizedState = workInProgressHook =\n          nextCurrentHook)\n      : (workInProgressHook = workInProgressHook.next = nextCurrentHook);\n  }\n  return workInProgressHook;\n}\nfunction createFunctionComponentUpdateQueue() {\n  return { lastEffect: null, events: null, stores: null, memoCache: null };\n}\nfunction useThenable(thenable) {\n  var index = thenableIndexCounter$1;\n  thenableIndexCounter$1 += 1;\n  null === thenableState$1 && (thenableState$1 = []);\n  thenable = trackUsedThenable(thenableState$1, thenable, index);\n  index = currentlyRenderingFiber;\n  null ===\n    (null === workInProgressHook\n      ? index.memoizedState\n      : workInProgressHook.next) &&\n    ((index = index.alternate),\n    (ReactSharedInternals.H =\n      null === index || null === index.memoizedState\n        ? HooksDispatcherOnMount\n        : HooksDispatcherOnUpdate));\n  return thenable;\n}\nfunction use(usable) {\n  if (null !== usable && \"object\" === typeof usable) {\n    if (\"function\" === typeof usable.then) return useThenable(usable);\n    if (usable.$$typeof === REACT_CONTEXT_TYPE) return readContext(usable);\n  }\n  throw Error(formatProdErrorMessage(438, String(usable)));\n}\nfunction useMemoCache(size) {\n  var memoCache = null,\n    updateQueue = currentlyRenderingFiber.updateQueue;\n  null !== updateQueue && (memoCache = updateQueue.memoCache);\n  if (null == memoCache) {\n    var current = currentlyRenderingFiber.alternate;\n    null !== current &&\n      ((current = current.updateQueue),\n      null !== current &&\n        ((current = current.memoCache),\n        null != current &&\n          (memoCache = {\n            data: current.data.map(function (array) {\n              return array.slice();\n            }),\n            index: 0\n          })));\n  }\n  null == memoCache && (memoCache = { data: [], index: 0 });\n  null === updateQueue &&\n    ((updateQueue = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = updateQueue));\n  updateQueue.memoCache = memoCache;\n  updateQueue = memoCache.data[memoCache.index];\n  if (void 0 === updateQueue)\n    for (\n      updateQueue = memoCache.data[memoCache.index] = Array(size), current = 0;\n      current < size;\n      current++\n    )\n      updateQueue[current] = REACT_MEMO_CACHE_SENTINEL;\n  memoCache.index++;\n  return updateQueue;\n}\nfunction basicStateReducer(state, action) {\n  return \"function\" === typeof action ? action(state) : action;\n}\nfunction updateReducer(reducer) {\n  var hook = updateWorkInProgressHook();\n  return updateReducerImpl(hook, currentHook, reducer);\n}\nfunction updateReducerImpl(hook, current, reducer) {\n  var queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var baseQueue = hook.baseQueue,\n    pendingQueue = queue.pending;\n  if (null !== pendingQueue) {\n    if (null !== baseQueue) {\n      var baseFirst = baseQueue.next;\n      baseQueue.next = pendingQueue.next;\n      pendingQueue.next = baseFirst;\n    }\n    current.baseQueue = baseQueue = pendingQueue;\n    queue.pending = null;\n  }\n  pendingQueue = hook.baseState;\n  if (null === baseQueue) hook.memoizedState = pendingQueue;\n  else {\n    current = baseQueue.next;\n    var newBaseQueueFirst = (baseFirst = null),\n      newBaseQueueLast = null,\n      update = current,\n      didReadFromEntangledAsyncAction$32 = !1;\n    do {\n      var updateLane = update.lane & -536870913;\n      if (\n        updateLane !== update.lane\n          ? (workInProgressRootRenderLanes & updateLane) === updateLane\n          : (renderLanes & updateLane) === updateLane\n      ) {\n        var revertLane = update.revertLane;\n        if (0 === revertLane)\n          null !== newBaseQueueLast &&\n            (newBaseQueueLast = newBaseQueueLast.next =\n              {\n                lane: 0,\n                revertLane: 0,\n                action: update.action,\n                hasEagerState: update.hasEagerState,\n                eagerState: update.eagerState,\n                next: null\n              }),\n            updateLane === currentEntangledLane &&\n              (didReadFromEntangledAsyncAction$32 = !0);\n        else if ((renderLanes & revertLane) === revertLane) {\n          update = update.next;\n          revertLane === currentEntangledLane &&\n            (didReadFromEntangledAsyncAction$32 = !0);\n          continue;\n        } else\n          (updateLane = {\n            lane: 0,\n            revertLane: update.revertLane,\n            action: update.action,\n            hasEagerState: update.hasEagerState,\n            eagerState: update.eagerState,\n            next: null\n          }),\n            null === newBaseQueueLast\n              ? ((newBaseQueueFirst = newBaseQueueLast = updateLane),\n                (baseFirst = pendingQueue))\n              : (newBaseQueueLast = newBaseQueueLast.next = updateLane),\n            (currentlyRenderingFiber.lanes |= revertLane),\n            (workInProgressRootSkippedLanes |= revertLane);\n        updateLane = update.action;\n        shouldDoubleInvokeUserFnsInHooksDEV &&\n          reducer(pendingQueue, updateLane);\n        pendingQueue = update.hasEagerState\n          ? update.eagerState\n          : reducer(pendingQueue, updateLane);\n      } else\n        (revertLane = {\n          lane: updateLane,\n          revertLane: update.revertLane,\n          action: update.action,\n          hasEagerState: update.hasEagerState,\n          eagerState: update.eagerState,\n          next: null\n        }),\n          null === newBaseQueueLast\n            ? ((newBaseQueueFirst = newBaseQueueLast = revertLane),\n              (baseFirst = pendingQueue))\n            : (newBaseQueueLast = newBaseQueueLast.next = revertLane),\n          (currentlyRenderingFiber.lanes |= updateLane),\n          (workInProgressRootSkippedLanes |= updateLane);\n      update = update.next;\n    } while (null !== update && update !== current);\n    null === newBaseQueueLast\n      ? (baseFirst = pendingQueue)\n      : (newBaseQueueLast.next = newBaseQueueFirst);\n    if (\n      !objectIs(pendingQueue, hook.memoizedState) &&\n      ((didReceiveUpdate = !0),\n      didReadFromEntangledAsyncAction$32 &&\n        ((reducer = currentEntangledActionThenable), null !== reducer))\n    )\n      throw reducer;\n    hook.memoizedState = pendingQueue;\n    hook.baseState = baseFirst;\n    hook.baseQueue = newBaseQueueLast;\n    queue.lastRenderedState = pendingQueue;\n  }\n  null === baseQueue && (queue.lanes = 0);\n  return [hook.memoizedState, queue.dispatch];\n}\nfunction rerenderReducer(reducer) {\n  var hook = updateWorkInProgressHook(),\n    queue = hook.queue;\n  if (null === queue) throw Error(formatProdErrorMessage(311));\n  queue.lastRenderedReducer = reducer;\n  var dispatch = queue.dispatch,\n    lastRenderPhaseUpdate = queue.pending,\n    newState = hook.memoizedState;\n  if (null !== lastRenderPhaseUpdate) {\n    queue.pending = null;\n    var update = (lastRenderPhaseUpdate = lastRenderPhaseUpdate.next);\n    do (newState = reducer(newState, update.action)), (update = update.next);\n    while (update !== lastRenderPhaseUpdate);\n    objectIs(newState, hook.memoizedState) || (didReceiveUpdate = !0);\n    hook.memoizedState = newState;\n    null === hook.baseQueue && (hook.baseState = newState);\n    queue.lastRenderedState = newState;\n  }\n  return [newState, dispatch];\n}\nfunction updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var fiber = currentlyRenderingFiber,\n    hook = updateWorkInProgressHook(),\n    isHydrating$jscomp$0 = isHydrating;\n  if (isHydrating$jscomp$0) {\n    if (void 0 === getServerSnapshot) throw Error(formatProdErrorMessage(407));\n    getServerSnapshot = getServerSnapshot();\n  } else getServerSnapshot = getSnapshot();\n  var snapshotChanged = !objectIs(\n    (currentHook || hook).memoizedState,\n    getServerSnapshot\n  );\n  snapshotChanged &&\n    ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));\n  hook = hook.queue;\n  var create = subscribeToStore.bind(null, fiber, hook, subscribe);\n  updateEffectImpl(2048, 8, create, [subscribe]);\n  if (\n    hook.getSnapshot !== getSnapshot ||\n    snapshotChanged ||\n    (null !== workInProgressHook && workInProgressHook.memoizedState.tag & 1)\n  ) {\n    fiber.flags |= 2048;\n    pushSimpleEffect(\n      9,\n      createEffectInstance(),\n      updateStoreInstance.bind(\n        null,\n        fiber,\n        hook,\n        getServerSnapshot,\n        getSnapshot\n      ),\n      null\n    );\n    if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));\n    isHydrating$jscomp$0 ||\n      0 !== (renderLanes & 124) ||\n      pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n  }\n  return getServerSnapshot;\n}\nfunction pushStoreConsistencyCheck(fiber, getSnapshot, renderedSnapshot) {\n  fiber.flags |= 16384;\n  fiber = { getSnapshot: getSnapshot, value: renderedSnapshot };\n  getSnapshot = currentlyRenderingFiber.updateQueue;\n  null === getSnapshot\n    ? ((getSnapshot = createFunctionComponentUpdateQueue()),\n      (currentlyRenderingFiber.updateQueue = getSnapshot),\n      (getSnapshot.stores = [fiber]))\n    : ((renderedSnapshot = getSnapshot.stores),\n      null === renderedSnapshot\n        ? (getSnapshot.stores = [fiber])\n        : renderedSnapshot.push(fiber));\n}\nfunction updateStoreInstance(fiber, inst, nextSnapshot, getSnapshot) {\n  inst.value = nextSnapshot;\n  inst.getSnapshot = getSnapshot;\n  checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n}\nfunction subscribeToStore(fiber, inst, subscribe) {\n  return subscribe(function () {\n    checkIfSnapshotChanged(inst) && forceStoreRerender(fiber);\n  });\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction forceStoreRerender(fiber) {\n  var root = enqueueConcurrentRenderForLane(fiber, 2);\n  null !== root && scheduleUpdateOnFiber(root, fiber, 2);\n}\nfunction mountStateImpl(initialState) {\n  var hook = mountWorkInProgressHook();\n  if (\"function\" === typeof initialState) {\n    var initialStateInitializer = initialState;\n    initialState = initialStateInitializer();\n    if (shouldDoubleInvokeUserFnsInHooksDEV) {\n      setIsStrictModeForDevtools(!0);\n      try {\n        initialStateInitializer();\n      } finally {\n        setIsStrictModeForDevtools(!1);\n      }\n    }\n  }\n  hook.memoizedState = hook.baseState = initialState;\n  hook.queue = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: basicStateReducer,\n    lastRenderedState: initialState\n  };\n  return hook;\n}\nfunction updateOptimisticImpl(hook, current, passthrough, reducer) {\n  hook.baseState = passthrough;\n  return updateReducerImpl(\n    hook,\n    currentHook,\n    \"function\" === typeof reducer ? reducer : basicStateReducer\n  );\n}\nfunction dispatchActionState(\n  fiber,\n  actionQueue,\n  setPendingState,\n  setState,\n  payload\n) {\n  if (isRenderPhaseUpdate(fiber)) throw Error(formatProdErrorMessage(485));\n  fiber = actionQueue.action;\n  if (null !== fiber) {\n    var actionNode = {\n      payload: payload,\n      action: fiber,\n      next: null,\n      isTransition: !0,\n      status: \"pending\",\n      value: null,\n      reason: null,\n      listeners: [],\n      then: function (listener) {\n        actionNode.listeners.push(listener);\n      }\n    };\n    null !== ReactSharedInternals.T\n      ? setPendingState(!0)\n      : (actionNode.isTransition = !1);\n    setState(actionNode);\n    setPendingState = actionQueue.pending;\n    null === setPendingState\n      ? ((actionNode.next = actionQueue.pending = actionNode),\n        runActionStateAction(actionQueue, actionNode))\n      : ((actionNode.next = setPendingState.next),\n        (actionQueue.pending = setPendingState.next = actionNode));\n  }\n}\nfunction runActionStateAction(actionQueue, node) {\n  var action = node.action,\n    payload = node.payload,\n    prevState = actionQueue.state;\n  if (node.isTransition) {\n    var prevTransition = ReactSharedInternals.T,\n      currentTransition = {};\n    ReactSharedInternals.T = currentTransition;\n    try {\n      var returnValue = action(prevState, payload),\n        onStartTransitionFinish = ReactSharedInternals.S;\n      null !== onStartTransitionFinish &&\n        onStartTransitionFinish(currentTransition, returnValue);\n      handleActionReturnValue(actionQueue, node, returnValue);\n    } catch (error) {\n      onActionError(actionQueue, node, error);\n    } finally {\n      ReactSharedInternals.T = prevTransition;\n    }\n  } else\n    try {\n      (prevTransition = action(prevState, payload)),\n        handleActionReturnValue(actionQueue, node, prevTransition);\n    } catch (error$38) {\n      onActionError(actionQueue, node, error$38);\n    }\n}\nfunction handleActionReturnValue(actionQueue, node, returnValue) {\n  null !== returnValue &&\n  \"object\" === typeof returnValue &&\n  \"function\" === typeof returnValue.then\n    ? returnValue.then(\n        function (nextState) {\n          onActionSuccess(actionQueue, node, nextState);\n        },\n        function (error) {\n          return onActionError(actionQueue, node, error);\n        }\n      )\n    : onActionSuccess(actionQueue, node, returnValue);\n}\nfunction onActionSuccess(actionQueue, actionNode, nextState) {\n  actionNode.status = \"fulfilled\";\n  actionNode.value = nextState;\n  notifyActionListeners(actionNode);\n  actionQueue.state = nextState;\n  actionNode = actionQueue.pending;\n  null !== actionNode &&\n    ((nextState = actionNode.next),\n    nextState === actionNode\n      ? (actionQueue.pending = null)\n      : ((nextState = nextState.next),\n        (actionNode.next = nextState),\n        runActionStateAction(actionQueue, nextState)));\n}\nfunction onActionError(actionQueue, actionNode, error) {\n  var last = actionQueue.pending;\n  actionQueue.pending = null;\n  if (null !== last) {\n    last = last.next;\n    do\n      (actionNode.status = \"rejected\"),\n        (actionNode.reason = error),\n        notifyActionListeners(actionNode),\n        (actionNode = actionNode.next);\n    while (actionNode !== last);\n  }\n  actionQueue.action = null;\n}\nfunction notifyActionListeners(actionNode) {\n  actionNode = actionNode.listeners;\n  for (var i = 0; i < actionNode.length; i++) (0, actionNode[i])();\n}\nfunction actionStateReducer(oldState, newState) {\n  return newState;\n}\nfunction mountActionState(action, initialStateProp) {\n  if (isHydrating) {\n    var ssrFormState = workInProgressRoot.formState;\n    if (null !== ssrFormState) {\n      a: {\n        var JSCompiler_inline_result = currentlyRenderingFiber;\n        if (isHydrating) {\n          if (nextHydratableInstance) {\n            b: {\n              var JSCompiler_inline_result$jscomp$0 = nextHydratableInstance;\n              for (\n                var inRootOrSingleton = rootOrSingletonContext;\n                8 !== JSCompiler_inline_result$jscomp$0.nodeType;\n\n              ) {\n                if (!inRootOrSingleton) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n                JSCompiler_inline_result$jscomp$0 = getNextHydratable(\n                  JSCompiler_inline_result$jscomp$0.nextSibling\n                );\n                if (null === JSCompiler_inline_result$jscomp$0) {\n                  JSCompiler_inline_result$jscomp$0 = null;\n                  break b;\n                }\n              }\n              inRootOrSingleton = JSCompiler_inline_result$jscomp$0.data;\n              JSCompiler_inline_result$jscomp$0 =\n                \"F!\" === inRootOrSingleton || \"F\" === inRootOrSingleton\n                  ? JSCompiler_inline_result$jscomp$0\n                  : null;\n            }\n            if (JSCompiler_inline_result$jscomp$0) {\n              nextHydratableInstance = getNextHydratable(\n                JSCompiler_inline_result$jscomp$0.nextSibling\n              );\n              JSCompiler_inline_result =\n                \"F!\" === JSCompiler_inline_result$jscomp$0.data;\n              break a;\n            }\n          }\n          throwOnHydrationMismatch(JSCompiler_inline_result);\n        }\n        JSCompiler_inline_result = !1;\n      }\n      JSCompiler_inline_result && (initialStateProp = ssrFormState[0]);\n    }\n  }\n  ssrFormState = mountWorkInProgressHook();\n  ssrFormState.memoizedState = ssrFormState.baseState = initialStateProp;\n  JSCompiler_inline_result = {\n    pending: null,\n    lanes: 0,\n    dispatch: null,\n    lastRenderedReducer: actionStateReducer,\n    lastRenderedState: initialStateProp\n  };\n  ssrFormState.queue = JSCompiler_inline_result;\n  ssrFormState = dispatchSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result\n  );\n  JSCompiler_inline_result.dispatch = ssrFormState;\n  JSCompiler_inline_result = mountStateImpl(!1);\n  inRootOrSingleton = dispatchOptimisticSetState.bind(\n    null,\n    currentlyRenderingFiber,\n    !1,\n    JSCompiler_inline_result.queue\n  );\n  JSCompiler_inline_result = mountWorkInProgressHook();\n  JSCompiler_inline_result$jscomp$0 = {\n    state: initialStateProp,\n    dispatch: null,\n    action: action,\n    pending: null\n  };\n  JSCompiler_inline_result.queue = JSCompiler_inline_result$jscomp$0;\n  ssrFormState = dispatchActionState.bind(\n    null,\n    currentlyRenderingFiber,\n    JSCompiler_inline_result$jscomp$0,\n    inRootOrSingleton,\n    ssrFormState\n  );\n  JSCompiler_inline_result$jscomp$0.dispatch = ssrFormState;\n  JSCompiler_inline_result.memoizedState = action;\n  return [initialStateProp, ssrFormState, !1];\n}\nfunction updateActionState(action) {\n  var stateHook = updateWorkInProgressHook();\n  return updateActionStateImpl(stateHook, currentHook, action);\n}\nfunction updateActionStateImpl(stateHook, currentStateHook, action) {\n  currentStateHook = updateReducerImpl(\n    stateHook,\n    currentStateHook,\n    actionStateReducer\n  )[0];\n  stateHook = updateReducer(basicStateReducer)[0];\n  if (\n    \"object\" === typeof currentStateHook &&\n    null !== currentStateHook &&\n    \"function\" === typeof currentStateHook.then\n  )\n    try {\n      var state = useThenable(currentStateHook);\n    } catch (x) {\n      if (x === SuspenseException) throw SuspenseActionException;\n      throw x;\n    }\n  else state = currentStateHook;\n  currentStateHook = updateWorkInProgressHook();\n  var actionQueue = currentStateHook.queue,\n    dispatch = actionQueue.dispatch;\n  action !== currentStateHook.memoizedState &&\n    ((currentlyRenderingFiber.flags |= 2048),\n    pushSimpleEffect(\n      9,\n      createEffectInstance(),\n      actionStateActionEffect.bind(null, actionQueue, action),\n      null\n    ));\n  return [state, dispatch, stateHook];\n}\nfunction actionStateActionEffect(actionQueue, action) {\n  actionQueue.action = action;\n}\nfunction rerenderActionState(action) {\n  var stateHook = updateWorkInProgressHook(),\n    currentStateHook = currentHook;\n  if (null !== currentStateHook)\n    return updateActionStateImpl(stateHook, currentStateHook, action);\n  updateWorkInProgressHook();\n  stateHook = stateHook.memoizedState;\n  currentStateHook = updateWorkInProgressHook();\n  var dispatch = currentStateHook.queue.dispatch;\n  currentStateHook.memoizedState = action;\n  return [stateHook, dispatch, !1];\n}\nfunction pushSimpleEffect(tag, inst, create, createDeps) {\n  tag = { tag: tag, create: create, deps: createDeps, inst: inst, next: null };\n  inst = currentlyRenderingFiber.updateQueue;\n  null === inst &&\n    ((inst = createFunctionComponentUpdateQueue()),\n    (currentlyRenderingFiber.updateQueue = inst));\n  create = inst.lastEffect;\n  null === create\n    ? (inst.lastEffect = tag.next = tag)\n    : ((createDeps = create.next),\n      (create.next = tag),\n      (tag.next = createDeps),\n      (inst.lastEffect = tag));\n  return tag;\n}\nfunction createEffectInstance() {\n  return { destroy: void 0, resource: void 0 };\n}\nfunction updateRef() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction mountEffectImpl(fiberFlags, hookFlags, create, createDeps) {\n  var hook = mountWorkInProgressHook();\n  createDeps = void 0 === createDeps ? null : createDeps;\n  currentlyRenderingFiber.flags |= fiberFlags;\n  hook.memoizedState = pushSimpleEffect(\n    1 | hookFlags,\n    createEffectInstance(),\n    create,\n    createDeps\n  );\n}\nfunction updateEffectImpl(fiberFlags, hookFlags, create, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var inst = hook.memoizedState.inst;\n  null !== currentHook &&\n  null !== deps &&\n  areHookInputsEqual(deps, currentHook.memoizedState.deps)\n    ? (hook.memoizedState = pushSimpleEffect(hookFlags, inst, create, deps))\n    : ((currentlyRenderingFiber.flags |= fiberFlags),\n      (hook.memoizedState = pushSimpleEffect(\n        1 | hookFlags,\n        inst,\n        create,\n        deps\n      )));\n}\nfunction mountEffect(create, createDeps) {\n  mountEffectImpl(8390656, 8, create, createDeps);\n}\nfunction updateEffect(create, createDeps) {\n  updateEffectImpl(2048, 8, create, createDeps);\n}\nfunction updateInsertionEffect(create, deps) {\n  return updateEffectImpl(4, 2, create, deps);\n}\nfunction updateLayoutEffect(create, deps) {\n  return updateEffectImpl(4, 4, create, deps);\n}\nfunction imperativeHandleEffect(create, ref) {\n  if (\"function\" === typeof ref) {\n    create = create();\n    var refCleanup = ref(create);\n    return function () {\n      \"function\" === typeof refCleanup ? refCleanup() : ref(null);\n    };\n  }\n  if (null !== ref && void 0 !== ref)\n    return (\n      (create = create()),\n      (ref.current = create),\n      function () {\n        ref.current = null;\n      }\n    );\n}\nfunction updateImperativeHandle(ref, create, deps) {\n  deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n  updateEffectImpl(4, 4, imperativeHandleEffect.bind(null, create, ref), deps);\n}\nfunction mountDebugValue() {}\nfunction updateCallback(callback, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  hook.memoizedState = [callback, deps];\n  return callback;\n}\nfunction updateMemo(nextCreate, deps) {\n  var hook = updateWorkInProgressHook();\n  deps = void 0 === deps ? null : deps;\n  var prevState = hook.memoizedState;\n  if (null !== deps && areHookInputsEqual(deps, prevState[1]))\n    return prevState[0];\n  prevState = nextCreate();\n  if (shouldDoubleInvokeUserFnsInHooksDEV) {\n    setIsStrictModeForDevtools(!0);\n    try {\n      nextCreate();\n    } finally {\n      setIsStrictModeForDevtools(!1);\n    }\n  }\n  hook.memoizedState = [prevState, deps];\n  return prevState;\n}\nfunction mountDeferredValueImpl(hook, value, initialValue) {\n  if (void 0 === initialValue || 0 !== (renderLanes & 1073741824))\n    return (hook.memoizedState = value);\n  hook.memoizedState = initialValue;\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return initialValue;\n}\nfunction updateDeferredValueImpl(hook, prevValue, value, initialValue) {\n  if (objectIs(value, prevValue)) return value;\n  if (null !== currentTreeHiddenStackCursor.current)\n    return (\n      (hook = mountDeferredValueImpl(hook, value, initialValue)),\n      objectIs(hook, prevValue) || (didReceiveUpdate = !0),\n      hook\n    );\n  if (0 === (renderLanes & 42))\n    return (didReceiveUpdate = !0), (hook.memoizedState = value);\n  hook = requestDeferredLane();\n  currentlyRenderingFiber.lanes |= hook;\n  workInProgressRootSkippedLanes |= hook;\n  return prevValue;\n}\nfunction startTransition(fiber, queue, pendingState, finishedState, callback) {\n  var previousPriority = ReactDOMSharedInternals.p;\n  ReactDOMSharedInternals.p =\n    0 !== previousPriority && 8 > previousPriority ? previousPriority : 8;\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  dispatchOptimisticSetState(fiber, !1, queue, pendingState);\n  try {\n    var returnValue = callback(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    if (\n      null !== returnValue &&\n      \"object\" === typeof returnValue &&\n      \"function\" === typeof returnValue.then\n    ) {\n      var thenableForFinishedState = chainThenableValue(\n        returnValue,\n        finishedState\n      );\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        thenableForFinishedState,\n        requestUpdateLane(fiber)\n      );\n    } else\n      dispatchSetStateInternal(\n        fiber,\n        queue,\n        finishedState,\n        requestUpdateLane(fiber)\n      );\n  } catch (error) {\n    dispatchSetStateInternal(\n      fiber,\n      queue,\n      { then: function () {}, status: \"rejected\", reason: error },\n      requestUpdateLane()\n    );\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction noop$2() {}\nfunction startHostTransition(formFiber, pendingState, action, formData) {\n  if (5 !== formFiber.tag) throw Error(formatProdErrorMessage(476));\n  var queue = ensureFormComponentIsStateful(formFiber).queue;\n  startTransition(\n    formFiber,\n    queue,\n    pendingState,\n    sharedNotPendingObject,\n    null === action\n      ? noop$2\n      : function () {\n          requestFormReset$1(formFiber);\n          return action(formData);\n        }\n  );\n}\nfunction ensureFormComponentIsStateful(formFiber) {\n  var existingStateHook = formFiber.memoizedState;\n  if (null !== existingStateHook) return existingStateHook;\n  existingStateHook = {\n    memoizedState: sharedNotPendingObject,\n    baseState: sharedNotPendingObject,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: sharedNotPendingObject\n    },\n    next: null\n  };\n  var initialResetState = {};\n  existingStateHook.next = {\n    memoizedState: initialResetState,\n    baseState: initialResetState,\n    baseQueue: null,\n    queue: {\n      pending: null,\n      lanes: 0,\n      dispatch: null,\n      lastRenderedReducer: basicStateReducer,\n      lastRenderedState: initialResetState\n    },\n    next: null\n  };\n  formFiber.memoizedState = existingStateHook;\n  formFiber = formFiber.alternate;\n  null !== formFiber && (formFiber.memoizedState = existingStateHook);\n  return existingStateHook;\n}\nfunction requestFormReset$1(formFiber) {\n  var resetStateQueue = ensureFormComponentIsStateful(formFiber).next.queue;\n  dispatchSetStateInternal(formFiber, resetStateQueue, {}, requestUpdateLane());\n}\nfunction useHostTransitionStatus() {\n  return readContext(HostTransitionContext);\n}\nfunction updateId() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction updateRefresh() {\n  return updateWorkInProgressHook().memoizedState;\n}\nfunction refreshCache(fiber) {\n  for (var provider = fiber.return; null !== provider; ) {\n    switch (provider.tag) {\n      case 24:\n      case 3:\n        var lane = requestUpdateLane();\n        fiber = createUpdate(lane);\n        var root$41 = enqueueUpdate(provider, fiber, lane);\n        null !== root$41 &&\n          (scheduleUpdateOnFiber(root$41, provider, lane),\n          entangleTransitions(root$41, provider, lane));\n        provider = { cache: createCache() };\n        fiber.payload = provider;\n        return;\n    }\n    provider = provider.return;\n  }\n}\nfunction dispatchReducerAction(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  action = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  isRenderPhaseUpdate(fiber)\n    ? enqueueRenderPhaseUpdate(queue, action)\n    : ((action = enqueueConcurrentHookUpdate(fiber, queue, action, lane)),\n      null !== action &&\n        (scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane)));\n}\nfunction dispatchSetState(fiber, queue, action) {\n  var lane = requestUpdateLane();\n  dispatchSetStateInternal(fiber, queue, action, lane);\n}\nfunction dispatchSetStateInternal(fiber, queue, action, lane) {\n  var update = {\n    lane: lane,\n    revertLane: 0,\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) enqueueRenderPhaseUpdate(queue, update);\n  else {\n    var alternate = fiber.alternate;\n    if (\n      0 === fiber.lanes &&\n      (null === alternate || 0 === alternate.lanes) &&\n      ((alternate = queue.lastRenderedReducer), null !== alternate)\n    )\n      try {\n        var currentState = queue.lastRenderedState,\n          eagerState = alternate(currentState, action);\n        update.hasEagerState = !0;\n        update.eagerState = eagerState;\n        if (objectIs(eagerState, currentState))\n          return (\n            enqueueUpdate$1(fiber, queue, update, 0),\n            null === workInProgressRoot && finishQueueingConcurrentUpdates(),\n            !1\n          );\n      } catch (error) {\n      } finally {\n      }\n    action = enqueueConcurrentHookUpdate(fiber, queue, update, lane);\n    if (null !== action)\n      return (\n        scheduleUpdateOnFiber(action, fiber, lane),\n        entangleTransitionUpdate(action, queue, lane),\n        !0\n      );\n  }\n  return !1;\n}\nfunction dispatchOptimisticSetState(fiber, throwIfDuringRender, queue, action) {\n  action = {\n    lane: 2,\n    revertLane: requestTransitionLane(),\n    action: action,\n    hasEagerState: !1,\n    eagerState: null,\n    next: null\n  };\n  if (isRenderPhaseUpdate(fiber)) {\n    if (throwIfDuringRender) throw Error(formatProdErrorMessage(479));\n  } else\n    (throwIfDuringRender = enqueueConcurrentHookUpdate(\n      fiber,\n      queue,\n      action,\n      2\n    )),\n      null !== throwIfDuringRender &&\n        scheduleUpdateOnFiber(throwIfDuringRender, fiber, 2);\n}\nfunction isRenderPhaseUpdate(fiber) {\n  var alternate = fiber.alternate;\n  return (\n    fiber === currentlyRenderingFiber ||\n    (null !== alternate && alternate === currentlyRenderingFiber)\n  );\n}\nfunction enqueueRenderPhaseUpdate(queue, update) {\n  didScheduleRenderPhaseUpdateDuringThisPass = didScheduleRenderPhaseUpdate =\n    !0;\n  var pending = queue.pending;\n  null === pending\n    ? (update.next = update)\n    : ((update.next = pending.next), (pending.next = update));\n  queue.pending = update;\n}\nfunction entangleTransitionUpdate(root, queue, lane) {\n  if (0 !== (lane & 4194048)) {\n    var queueLanes = queue.lanes;\n    queueLanes &= root.pendingLanes;\n    lane |= queueLanes;\n    queue.lanes = lane;\n    markRootEntangled(root, lane);\n  }\n}\nvar ContextOnlyDispatcher = {\n    readContext: readContext,\n    use: use,\n    useCallback: throwInvalidHookError,\n    useContext: throwInvalidHookError,\n    useEffect: throwInvalidHookError,\n    useImperativeHandle: throwInvalidHookError,\n    useLayoutEffect: throwInvalidHookError,\n    useInsertionEffect: throwInvalidHookError,\n    useMemo: throwInvalidHookError,\n    useReducer: throwInvalidHookError,\n    useRef: throwInvalidHookError,\n    useState: throwInvalidHookError,\n    useDebugValue: throwInvalidHookError,\n    useDeferredValue: throwInvalidHookError,\n    useTransition: throwInvalidHookError,\n    useSyncExternalStore: throwInvalidHookError,\n    useId: throwInvalidHookError,\n    useHostTransitionStatus: throwInvalidHookError,\n    useFormState: throwInvalidHookError,\n    useActionState: throwInvalidHookError,\n    useOptimistic: throwInvalidHookError,\n    useMemoCache: throwInvalidHookError,\n    useCacheRefresh: throwInvalidHookError\n  },\n  HooksDispatcherOnMount = {\n    readContext: readContext,\n    use: use,\n    useCallback: function (callback, deps) {\n      mountWorkInProgressHook().memoizedState = [\n        callback,\n        void 0 === deps ? null : deps\n      ];\n      return callback;\n    },\n    useContext: readContext,\n    useEffect: mountEffect,\n    useImperativeHandle: function (ref, create, deps) {\n      deps = null !== deps && void 0 !== deps ? deps.concat([ref]) : null;\n      mountEffectImpl(\n        4194308,\n        4,\n        imperativeHandleEffect.bind(null, create, ref),\n        deps\n      );\n    },\n    useLayoutEffect: function (create, deps) {\n      return mountEffectImpl(4194308, 4, create, deps);\n    },\n    useInsertionEffect: function (create, deps) {\n      mountEffectImpl(4, 2, create, deps);\n    },\n    useMemo: function (nextCreate, deps) {\n      var hook = mountWorkInProgressHook();\n      deps = void 0 === deps ? null : deps;\n      var nextValue = nextCreate();\n      if (shouldDoubleInvokeUserFnsInHooksDEV) {\n        setIsStrictModeForDevtools(!0);\n        try {\n          nextCreate();\n        } finally {\n          setIsStrictModeForDevtools(!1);\n        }\n      }\n      hook.memoizedState = [nextValue, deps];\n      return nextValue;\n    },\n    useReducer: function (reducer, initialArg, init) {\n      var hook = mountWorkInProgressHook();\n      if (void 0 !== init) {\n        var initialState = init(initialArg);\n        if (shouldDoubleInvokeUserFnsInHooksDEV) {\n          setIsStrictModeForDevtools(!0);\n          try {\n            init(initialArg);\n          } finally {\n            setIsStrictModeForDevtools(!1);\n          }\n        }\n      } else initialState = initialArg;\n      hook.memoizedState = hook.baseState = initialState;\n      reducer = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: reducer,\n        lastRenderedState: initialState\n      };\n      hook.queue = reducer;\n      reducer = reducer.dispatch = dispatchReducerAction.bind(\n        null,\n        currentlyRenderingFiber,\n        reducer\n      );\n      return [hook.memoizedState, reducer];\n    },\n    useRef: function (initialValue) {\n      var hook = mountWorkInProgressHook();\n      initialValue = { current: initialValue };\n      return (hook.memoizedState = initialValue);\n    },\n    useState: function (initialState) {\n      initialState = mountStateImpl(initialState);\n      var queue = initialState.queue,\n        dispatch = dispatchSetState.bind(null, currentlyRenderingFiber, queue);\n      queue.dispatch = dispatch;\n      return [initialState.memoizedState, dispatch];\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = mountWorkInProgressHook();\n      return mountDeferredValueImpl(hook, value, initialValue);\n    },\n    useTransition: function () {\n      var stateHook = mountStateImpl(!1);\n      stateHook = startTransition.bind(\n        null,\n        currentlyRenderingFiber,\n        stateHook.queue,\n        !0,\n        !1\n      );\n      mountWorkInProgressHook().memoizedState = stateHook;\n      return [!1, stateHook];\n    },\n    useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {\n      var fiber = currentlyRenderingFiber,\n        hook = mountWorkInProgressHook();\n      if (isHydrating) {\n        if (void 0 === getServerSnapshot)\n          throw Error(formatProdErrorMessage(407));\n        getServerSnapshot = getServerSnapshot();\n      } else {\n        getServerSnapshot = getSnapshot();\n        if (null === workInProgressRoot)\n          throw Error(formatProdErrorMessage(349));\n        0 !== (workInProgressRootRenderLanes & 124) ||\n          pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);\n      }\n      hook.memoizedState = getServerSnapshot;\n      var inst = { value: getServerSnapshot, getSnapshot: getSnapshot };\n      hook.queue = inst;\n      mountEffect(subscribeToStore.bind(null, fiber, inst, subscribe), [\n        subscribe\n      ]);\n      fiber.flags |= 2048;\n      pushSimpleEffect(\n        9,\n        createEffectInstance(),\n        updateStoreInstance.bind(\n          null,\n          fiber,\n          inst,\n          getServerSnapshot,\n          getSnapshot\n        ),\n        null\n      );\n      return getServerSnapshot;\n    },\n    useId: function () {\n      var hook = mountWorkInProgressHook(),\n        identifierPrefix = workInProgressRoot.identifierPrefix;\n      if (isHydrating) {\n        var JSCompiler_inline_result = treeContextOverflow;\n        var idWithLeadingBit = treeContextId;\n        JSCompiler_inline_result =\n          (\n            idWithLeadingBit & ~(1 << (32 - clz32(idWithLeadingBit) - 1))\n          ).toString(32) + JSCompiler_inline_result;\n        identifierPrefix =\n          \"\\u00ab\" + identifierPrefix + \"R\" + JSCompiler_inline_result;\n        JSCompiler_inline_result = localIdCounter++;\n        0 < JSCompiler_inline_result &&\n          (identifierPrefix += \"H\" + JSCompiler_inline_result.toString(32));\n        identifierPrefix += \"\\u00bb\";\n      } else\n        (JSCompiler_inline_result = globalClientIdCounter++),\n          (identifierPrefix =\n            \"\\u00ab\" +\n            identifierPrefix +\n            \"r\" +\n            JSCompiler_inline_result.toString(32) +\n            \"\\u00bb\");\n      return (hook.memoizedState = identifierPrefix);\n    },\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: mountActionState,\n    useActionState: mountActionState,\n    useOptimistic: function (passthrough) {\n      var hook = mountWorkInProgressHook();\n      hook.memoizedState = hook.baseState = passthrough;\n      var queue = {\n        pending: null,\n        lanes: 0,\n        dispatch: null,\n        lastRenderedReducer: null,\n        lastRenderedState: null\n      };\n      hook.queue = queue;\n      hook = dispatchOptimisticSetState.bind(\n        null,\n        currentlyRenderingFiber,\n        !0,\n        queue\n      );\n      queue.dispatch = hook;\n      return [passthrough, hook];\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: function () {\n      return (mountWorkInProgressHook().memoizedState = refreshCache.bind(\n        null,\n        currentlyRenderingFiber\n      ));\n    }\n  },\n  HooksDispatcherOnUpdate = {\n    readContext: readContext,\n    use: use,\n    useCallback: updateCallback,\n    useContext: readContext,\n    useEffect: updateEffect,\n    useImperativeHandle: updateImperativeHandle,\n    useInsertionEffect: updateInsertionEffect,\n    useLayoutEffect: updateLayoutEffect,\n    useMemo: updateMemo,\n    useReducer: updateReducer,\n    useRef: updateRef,\n    useState: function () {\n      return updateReducer(basicStateReducer);\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return updateDeferredValueImpl(\n        hook,\n        currentHook.memoizedState,\n        value,\n        initialValue\n      );\n    },\n    useTransition: function () {\n      var booleanOrThenable = updateReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    },\n    useSyncExternalStore: updateSyncExternalStore,\n    useId: updateId,\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: updateActionState,\n    useActionState: updateActionState,\n    useOptimistic: function (passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: updateRefresh\n  },\n  HooksDispatcherOnRerender = {\n    readContext: readContext,\n    use: use,\n    useCallback: updateCallback,\n    useContext: readContext,\n    useEffect: updateEffect,\n    useImperativeHandle: updateImperativeHandle,\n    useInsertionEffect: updateInsertionEffect,\n    useLayoutEffect: updateLayoutEffect,\n    useMemo: updateMemo,\n    useReducer: rerenderReducer,\n    useRef: updateRef,\n    useState: function () {\n      return rerenderReducer(basicStateReducer);\n    },\n    useDebugValue: mountDebugValue,\n    useDeferredValue: function (value, initialValue) {\n      var hook = updateWorkInProgressHook();\n      return null === currentHook\n        ? mountDeferredValueImpl(hook, value, initialValue)\n        : updateDeferredValueImpl(\n            hook,\n            currentHook.memoizedState,\n            value,\n            initialValue\n          );\n    },\n    useTransition: function () {\n      var booleanOrThenable = rerenderReducer(basicStateReducer)[0],\n        start = updateWorkInProgressHook().memoizedState;\n      return [\n        \"boolean\" === typeof booleanOrThenable\n          ? booleanOrThenable\n          : useThenable(booleanOrThenable),\n        start\n      ];\n    },\n    useSyncExternalStore: updateSyncExternalStore,\n    useId: updateId,\n    useHostTransitionStatus: useHostTransitionStatus,\n    useFormState: rerenderActionState,\n    useActionState: rerenderActionState,\n    useOptimistic: function (passthrough, reducer) {\n      var hook = updateWorkInProgressHook();\n      if (null !== currentHook)\n        return updateOptimisticImpl(hook, currentHook, passthrough, reducer);\n      hook.baseState = passthrough;\n      return [passthrough, hook.queue.dispatch];\n    },\n    useMemoCache: useMemoCache,\n    useCacheRefresh: updateRefresh\n  },\n  thenableState = null,\n  thenableIndexCounter = 0;\nfunction unwrapThenable(thenable) {\n  var index = thenableIndexCounter;\n  thenableIndexCounter += 1;\n  null === thenableState && (thenableState = []);\n  return trackUsedThenable(thenableState, thenable, index);\n}\nfunction coerceRef(workInProgress, element) {\n  element = element.props.ref;\n  workInProgress.ref = void 0 !== element ? element : null;\n}\nfunction throwOnInvalidObjectType(returnFiber, newChild) {\n  if (newChild.$$typeof === REACT_LEGACY_ELEMENT_TYPE)\n    throw Error(formatProdErrorMessage(525));\n  returnFiber = Object.prototype.toString.call(newChild);\n  throw Error(\n    formatProdErrorMessage(\n      31,\n      \"[object Object]\" === returnFiber\n        ? \"object with keys {\" + Object.keys(newChild).join(\", \") + \"}\"\n        : returnFiber\n    )\n  );\n}\nfunction resolveLazy(lazyType) {\n  var init = lazyType._init;\n  return init(lazyType._payload);\n}\nfunction createChildReconciler(shouldTrackSideEffects) {\n  function deleteChild(returnFiber, childToDelete) {\n    if (shouldTrackSideEffects) {\n      var deletions = returnFiber.deletions;\n      null === deletions\n        ? ((returnFiber.deletions = [childToDelete]), (returnFiber.flags |= 16))\n        : deletions.push(childToDelete);\n    }\n  }\n  function deleteRemainingChildren(returnFiber, currentFirstChild) {\n    if (!shouldTrackSideEffects) return null;\n    for (; null !== currentFirstChild; )\n      deleteChild(returnFiber, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return null;\n  }\n  function mapRemainingChildren(currentFirstChild) {\n    for (var existingChildren = new Map(); null !== currentFirstChild; )\n      null !== currentFirstChild.key\n        ? existingChildren.set(currentFirstChild.key, currentFirstChild)\n        : existingChildren.set(currentFirstChild.index, currentFirstChild),\n        (currentFirstChild = currentFirstChild.sibling);\n    return existingChildren;\n  }\n  function useFiber(fiber, pendingProps) {\n    fiber = createWorkInProgress(fiber, pendingProps);\n    fiber.index = 0;\n    fiber.sibling = null;\n    return fiber;\n  }\n  function placeChild(newFiber, lastPlacedIndex, newIndex) {\n    newFiber.index = newIndex;\n    if (!shouldTrackSideEffects)\n      return (newFiber.flags |= 1048576), lastPlacedIndex;\n    newIndex = newFiber.alternate;\n    if (null !== newIndex)\n      return (\n        (newIndex = newIndex.index),\n        newIndex < lastPlacedIndex\n          ? ((newFiber.flags |= 67108866), lastPlacedIndex)\n          : newIndex\n      );\n    newFiber.flags |= 67108866;\n    return lastPlacedIndex;\n  }\n  function placeSingleChild(newFiber) {\n    shouldTrackSideEffects &&\n      null === newFiber.alternate &&\n      (newFiber.flags |= 67108866);\n    return newFiber;\n  }\n  function updateTextNode(returnFiber, current, textContent, lanes) {\n    if (null === current || 6 !== current.tag)\n      return (\n        (current = createFiberFromText(textContent, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, textContent);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateElement(returnFiber, current, element, lanes) {\n    var elementType = element.type;\n    if (elementType === REACT_FRAGMENT_TYPE)\n      return updateFragment(\n        returnFiber,\n        current,\n        element.props.children,\n        lanes,\n        element.key\n      );\n    if (\n      null !== current &&\n      (current.elementType === elementType ||\n        (\"object\" === typeof elementType &&\n          null !== elementType &&\n          elementType.$$typeof === REACT_LAZY_TYPE &&\n          resolveLazy(elementType) === current.type))\n    )\n      return (\n        (current = useFiber(current, element.props)),\n        coerceRef(current, element),\n        (current.return = returnFiber),\n        current\n      );\n    current = createFiberFromTypeAndProps(\n      element.type,\n      element.key,\n      element.props,\n      null,\n      returnFiber.mode,\n      lanes\n    );\n    coerceRef(current, element);\n    current.return = returnFiber;\n    return current;\n  }\n  function updatePortal(returnFiber, current, portal, lanes) {\n    if (\n      null === current ||\n      4 !== current.tag ||\n      current.stateNode.containerInfo !== portal.containerInfo ||\n      current.stateNode.implementation !== portal.implementation\n    )\n      return (\n        (current = createFiberFromPortal(portal, returnFiber.mode, lanes)),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, portal.children || []);\n    current.return = returnFiber;\n    return current;\n  }\n  function updateFragment(returnFiber, current, fragment, lanes, key) {\n    if (null === current || 7 !== current.tag)\n      return (\n        (current = createFiberFromFragment(\n          fragment,\n          returnFiber.mode,\n          lanes,\n          key\n        )),\n        (current.return = returnFiber),\n        current\n      );\n    current = useFiber(current, fragment);\n    current.return = returnFiber;\n    return current;\n  }\n  function createChild(returnFiber, newChild, lanes) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (newChild = createFiberFromText(\n          \"\" + newChild,\n          returnFiber.mode,\n          lanes\n        )),\n        (newChild.return = returnFiber),\n        newChild\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (lanes = createFiberFromTypeAndProps(\n              newChild.type,\n              newChild.key,\n              newChild.props,\n              null,\n              returnFiber.mode,\n              lanes\n            )),\n            coerceRef(lanes, newChild),\n            (lanes.return = returnFiber),\n            lanes\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (newChild = createFiberFromPortal(\n              newChild,\n              returnFiber.mode,\n              lanes\n            )),\n            (newChild.return = returnFiber),\n            newChild\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return createChild(returnFiber, newChild, lanes);\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (newChild = createFiberFromFragment(\n            newChild,\n            returnFiber.mode,\n            lanes,\n            null\n          )),\n          (newChild.return = returnFiber),\n          newChild\n        );\n      if (\"function\" === typeof newChild.then)\n        return createChild(returnFiber, unwrapThenable(newChild), lanes);\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return createChild(\n          returnFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateSlot(returnFiber, oldFiber, newChild, lanes) {\n    var key = null !== oldFiber ? oldFiber.key : null;\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return null !== key\n        ? null\n        : updateTextNode(returnFiber, oldFiber, \"\" + newChild, lanes);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return newChild.key === key\n            ? updateElement(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_PORTAL_TYPE:\n          return newChild.key === key\n            ? updatePortal(returnFiber, oldFiber, newChild, lanes)\n            : null;\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            updateSlot(returnFiber, oldFiber, newChild, lanes)\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return null !== key\n          ? null\n          : updateFragment(returnFiber, oldFiber, newChild, lanes, null);\n      if (\"function\" === typeof newChild.then)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateSlot(\n          returnFiber,\n          oldFiber,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function updateFromMap(\n    existingChildren,\n    returnFiber,\n    newIdx,\n    newChild,\n    lanes\n  ) {\n    if (\n      (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n    )\n      return (\n        (existingChildren = existingChildren.get(newIdx) || null),\n        updateTextNode(returnFiber, existingChildren, \"\" + newChild, lanes)\n      );\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updateElement(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_PORTAL_TYPE:\n          return (\n            (existingChildren =\n              existingChildren.get(\n                null === newChild.key ? newIdx : newChild.key\n              ) || null),\n            updatePortal(returnFiber, existingChildren, newChild, lanes)\n          );\n        case REACT_LAZY_TYPE:\n          var init = newChild._init;\n          newChild = init(newChild._payload);\n          return updateFromMap(\n            existingChildren,\n            returnFiber,\n            newIdx,\n            newChild,\n            lanes\n          );\n      }\n      if (isArrayImpl(newChild) || getIteratorFn(newChild))\n        return (\n          (existingChildren = existingChildren.get(newIdx) || null),\n          updateFragment(returnFiber, existingChildren, newChild, lanes, null)\n        );\n      if (\"function\" === typeof newChild.then)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return updateFromMap(\n          existingChildren,\n          returnFiber,\n          newIdx,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return null;\n  }\n  function reconcileChildrenArray(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null;\n      null !== oldFiber && newIdx < newChildren.length;\n      newIdx++\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(\n        returnFiber,\n        oldFiber,\n        newChildren[newIdx],\n        lanes\n      );\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (newIdx === newChildren.length)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; newIdx < newChildren.length; newIdx++)\n        (oldFiber = createChild(returnFiber, newChildren[newIdx], lanes)),\n          null !== oldFiber &&\n            ((currentFirstChild = placeChild(\n              oldFiber,\n              currentFirstChild,\n              newIdx\n            )),\n            null === previousNewFiber\n              ? (resultingFirstChild = oldFiber)\n              : (previousNewFiber.sibling = oldFiber),\n            (previousNewFiber = oldFiber));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      newIdx < newChildren.length;\n      newIdx++\n    )\n      (nextOldFiber = updateFromMap(\n        oldFiber,\n        returnFiber,\n        newIdx,\n        newChildren[newIdx],\n        lanes\n      )),\n        null !== nextOldFiber &&\n          (shouldTrackSideEffects &&\n            null !== nextOldFiber.alternate &&\n            oldFiber.delete(\n              null === nextOldFiber.key ? newIdx : nextOldFiber.key\n            ),\n          (currentFirstChild = placeChild(\n            nextOldFiber,\n            currentFirstChild,\n            newIdx\n          )),\n          null === previousNewFiber\n            ? (resultingFirstChild = nextOldFiber)\n            : (previousNewFiber.sibling = nextOldFiber),\n          (previousNewFiber = nextOldFiber));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildrenIterator(\n    returnFiber,\n    currentFirstChild,\n    newChildren,\n    lanes\n  ) {\n    if (null == newChildren) throw Error(formatProdErrorMessage(151));\n    for (\n      var resultingFirstChild = null,\n        previousNewFiber = null,\n        oldFiber = currentFirstChild,\n        newIdx = (currentFirstChild = 0),\n        nextOldFiber = null,\n        step = newChildren.next();\n      null !== oldFiber && !step.done;\n      newIdx++, step = newChildren.next()\n    ) {\n      oldFiber.index > newIdx\n        ? ((nextOldFiber = oldFiber), (oldFiber = null))\n        : (nextOldFiber = oldFiber.sibling);\n      var newFiber = updateSlot(returnFiber, oldFiber, step.value, lanes);\n      if (null === newFiber) {\n        null === oldFiber && (oldFiber = nextOldFiber);\n        break;\n      }\n      shouldTrackSideEffects &&\n        oldFiber &&\n        null === newFiber.alternate &&\n        deleteChild(returnFiber, oldFiber);\n      currentFirstChild = placeChild(newFiber, currentFirstChild, newIdx);\n      null === previousNewFiber\n        ? (resultingFirstChild = newFiber)\n        : (previousNewFiber.sibling = newFiber);\n      previousNewFiber = newFiber;\n      oldFiber = nextOldFiber;\n    }\n    if (step.done)\n      return (\n        deleteRemainingChildren(returnFiber, oldFiber),\n        isHydrating && pushTreeFork(returnFiber, newIdx),\n        resultingFirstChild\n      );\n    if (null === oldFiber) {\n      for (; !step.done; newIdx++, step = newChildren.next())\n        (step = createChild(returnFiber, step.value, lanes)),\n          null !== step &&\n            ((currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n            null === previousNewFiber\n              ? (resultingFirstChild = step)\n              : (previousNewFiber.sibling = step),\n            (previousNewFiber = step));\n      isHydrating && pushTreeFork(returnFiber, newIdx);\n      return resultingFirstChild;\n    }\n    for (\n      oldFiber = mapRemainingChildren(oldFiber);\n      !step.done;\n      newIdx++, step = newChildren.next()\n    )\n      (step = updateFromMap(oldFiber, returnFiber, newIdx, step.value, lanes)),\n        null !== step &&\n          (shouldTrackSideEffects &&\n            null !== step.alternate &&\n            oldFiber.delete(null === step.key ? newIdx : step.key),\n          (currentFirstChild = placeChild(step, currentFirstChild, newIdx)),\n          null === previousNewFiber\n            ? (resultingFirstChild = step)\n            : (previousNewFiber.sibling = step),\n          (previousNewFiber = step));\n    shouldTrackSideEffects &&\n      oldFiber.forEach(function (child) {\n        return deleteChild(returnFiber, child);\n      });\n    isHydrating && pushTreeFork(returnFiber, newIdx);\n    return resultingFirstChild;\n  }\n  function reconcileChildFibersImpl(\n    returnFiber,\n    currentFirstChild,\n    newChild,\n    lanes\n  ) {\n    \"object\" === typeof newChild &&\n      null !== newChild &&\n      newChild.type === REACT_FRAGMENT_TYPE &&\n      null === newChild.key &&\n      (newChild = newChild.props.children);\n    if (\"object\" === typeof newChild && null !== newChild) {\n      switch (newChild.$$typeof) {\n        case REACT_ELEMENT_TYPE:\n          a: {\n            for (var key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key) {\n                key = newChild.type;\n                if (key === REACT_FRAGMENT_TYPE) {\n                  if (7 === currentFirstChild.tag) {\n                    deleteRemainingChildren(\n                      returnFiber,\n                      currentFirstChild.sibling\n                    );\n                    lanes = useFiber(\n                      currentFirstChild,\n                      newChild.props.children\n                    );\n                    lanes.return = returnFiber;\n                    returnFiber = lanes;\n                    break a;\n                  }\n                } else if (\n                  currentFirstChild.elementType === key ||\n                  (\"object\" === typeof key &&\n                    null !== key &&\n                    key.$$typeof === REACT_LAZY_TYPE &&\n                    resolveLazy(key) === currentFirstChild.type)\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.props);\n                  coerceRef(lanes, newChild);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                }\n                deleteRemainingChildren(returnFiber, currentFirstChild);\n                break;\n              } else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            newChild.type === REACT_FRAGMENT_TYPE\n              ? ((lanes = createFiberFromFragment(\n                  newChild.props.children,\n                  returnFiber.mode,\n                  lanes,\n                  newChild.key\n                )),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes))\n              : ((lanes = createFiberFromTypeAndProps(\n                  newChild.type,\n                  newChild.key,\n                  newChild.props,\n                  null,\n                  returnFiber.mode,\n                  lanes\n                )),\n                coerceRef(lanes, newChild),\n                (lanes.return = returnFiber),\n                (returnFiber = lanes));\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_PORTAL_TYPE:\n          a: {\n            for (key = newChild.key; null !== currentFirstChild; ) {\n              if (currentFirstChild.key === key)\n                if (\n                  4 === currentFirstChild.tag &&\n                  currentFirstChild.stateNode.containerInfo ===\n                    newChild.containerInfo &&\n                  currentFirstChild.stateNode.implementation ===\n                    newChild.implementation\n                ) {\n                  deleteRemainingChildren(\n                    returnFiber,\n                    currentFirstChild.sibling\n                  );\n                  lanes = useFiber(currentFirstChild, newChild.children || []);\n                  lanes.return = returnFiber;\n                  returnFiber = lanes;\n                  break a;\n                } else {\n                  deleteRemainingChildren(returnFiber, currentFirstChild);\n                  break;\n                }\n              else deleteChild(returnFiber, currentFirstChild);\n              currentFirstChild = currentFirstChild.sibling;\n            }\n            lanes = createFiberFromPortal(newChild, returnFiber.mode, lanes);\n            lanes.return = returnFiber;\n            returnFiber = lanes;\n          }\n          return placeSingleChild(returnFiber);\n        case REACT_LAZY_TYPE:\n          return (\n            (key = newChild._init),\n            (newChild = key(newChild._payload)),\n            reconcileChildFibersImpl(\n              returnFiber,\n              currentFirstChild,\n              newChild,\n              lanes\n            )\n          );\n      }\n      if (isArrayImpl(newChild))\n        return reconcileChildrenArray(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      if (getIteratorFn(newChild)) {\n        key = getIteratorFn(newChild);\n        if (\"function\" !== typeof key) throw Error(formatProdErrorMessage(150));\n        newChild = key.call(newChild);\n        return reconcileChildrenIterator(\n          returnFiber,\n          currentFirstChild,\n          newChild,\n          lanes\n        );\n      }\n      if (\"function\" === typeof newChild.then)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          unwrapThenable(newChild),\n          lanes\n        );\n      if (newChild.$$typeof === REACT_CONTEXT_TYPE)\n        return reconcileChildFibersImpl(\n          returnFiber,\n          currentFirstChild,\n          readContextDuringReconciliation(returnFiber, newChild),\n          lanes\n        );\n      throwOnInvalidObjectType(returnFiber, newChild);\n    }\n    return (\"string\" === typeof newChild && \"\" !== newChild) ||\n      \"number\" === typeof newChild ||\n      \"bigint\" === typeof newChild\n      ? ((newChild = \"\" + newChild),\n        null !== currentFirstChild && 6 === currentFirstChild.tag\n          ? (deleteRemainingChildren(returnFiber, currentFirstChild.sibling),\n            (lanes = useFiber(currentFirstChild, newChild)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes))\n          : (deleteRemainingChildren(returnFiber, currentFirstChild),\n            (lanes = createFiberFromText(newChild, returnFiber.mode, lanes)),\n            (lanes.return = returnFiber),\n            (returnFiber = lanes)),\n        placeSingleChild(returnFiber))\n      : deleteRemainingChildren(returnFiber, currentFirstChild);\n  }\n  return function (returnFiber, currentFirstChild, newChild, lanes) {\n    try {\n      thenableIndexCounter = 0;\n      var firstChildFiber = reconcileChildFibersImpl(\n        returnFiber,\n        currentFirstChild,\n        newChild,\n        lanes\n      );\n      thenableState = null;\n      return firstChildFiber;\n    } catch (x) {\n      if (x === SuspenseException || x === SuspenseActionException) throw x;\n      var fiber = createFiberImplClass(29, x, null, returnFiber.mode);\n      fiber.lanes = lanes;\n      fiber.return = returnFiber;\n      return fiber;\n    } finally {\n    }\n  };\n}\nvar reconcileChildFibers = createChildReconciler(!0),\n  mountChildFibers = createChildReconciler(!1),\n  suspenseHandlerStackCursor = createCursor(null),\n  shellBoundary = null;\nfunction pushPrimaryTreeSuspenseHandler(handler) {\n  var current = handler.alternate;\n  push(suspenseStackCursor, suspenseStackCursor.current & 1);\n  push(suspenseHandlerStackCursor, handler);\n  null === shellBoundary &&\n    (null === current || null !== currentTreeHiddenStackCursor.current\n      ? (shellBoundary = handler)\n      : null !== current.memoizedState && (shellBoundary = handler));\n}\nfunction pushOffscreenSuspenseHandler(fiber) {\n  if (22 === fiber.tag) {\n    if (\n      (push(suspenseStackCursor, suspenseStackCursor.current),\n      push(suspenseHandlerStackCursor, fiber),\n      null === shellBoundary)\n    ) {\n      var current = fiber.alternate;\n      null !== current &&\n        null !== current.memoizedState &&\n        (shellBoundary = fiber);\n    }\n  } else reuseSuspenseHandlerOnStack(fiber);\n}\nfunction reuseSuspenseHandlerOnStack() {\n  push(suspenseStackCursor, suspenseStackCursor.current);\n  push(suspenseHandlerStackCursor, suspenseHandlerStackCursor.current);\n}\nfunction popSuspenseHandler(fiber) {\n  pop(suspenseHandlerStackCursor);\n  shellBoundary === fiber && (shellBoundary = null);\n  pop(suspenseStackCursor);\n}\nvar suspenseStackCursor = createCursor(0);\nfunction findFirstSuspended(row) {\n  for (var node = row; null !== node; ) {\n    if (13 === node.tag) {\n      var state = node.memoizedState;\n      if (\n        null !== state &&\n        ((state = state.dehydrated),\n        null === state ||\n          \"$?\" === state.data ||\n          isSuspenseInstanceFallback(state))\n      )\n        return node;\n    } else if (19 === node.tag && void 0 !== node.memoizedProps.revealOrder) {\n      if (0 !== (node.flags & 128)) return node;\n    } else if (null !== node.child) {\n      node.child.return = node;\n      node = node.child;\n      continue;\n    }\n    if (node === row) break;\n    for (; null === node.sibling; ) {\n      if (null === node.return || node.return === row) return null;\n      node = node.return;\n    }\n    node.sibling.return = node.return;\n    node = node.sibling;\n  }\n  return null;\n}\nfunction applyDerivedStateFromProps(\n  workInProgress,\n  ctor,\n  getDerivedStateFromProps,\n  nextProps\n) {\n  ctor = workInProgress.memoizedState;\n  getDerivedStateFromProps = getDerivedStateFromProps(nextProps, ctor);\n  getDerivedStateFromProps =\n    null === getDerivedStateFromProps || void 0 === getDerivedStateFromProps\n      ? ctor\n      : assign({}, ctor, getDerivedStateFromProps);\n  workInProgress.memoizedState = getDerivedStateFromProps;\n  0 === workInProgress.lanes &&\n    (workInProgress.updateQueue.baseState = getDerivedStateFromProps);\n}\nvar classComponentUpdater = {\n  enqueueSetState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueReplaceState: function (inst, payload, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 1;\n    update.payload = payload;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    payload = enqueueUpdate(inst, update, lane);\n    null !== payload &&\n      (scheduleUpdateOnFiber(payload, inst, lane),\n      entangleTransitions(payload, inst, lane));\n  },\n  enqueueForceUpdate: function (inst, callback) {\n    inst = inst._reactInternals;\n    var lane = requestUpdateLane(),\n      update = createUpdate(lane);\n    update.tag = 2;\n    void 0 !== callback && null !== callback && (update.callback = callback);\n    callback = enqueueUpdate(inst, update, lane);\n    null !== callback &&\n      (scheduleUpdateOnFiber(callback, inst, lane),\n      entangleTransitions(callback, inst, lane));\n  }\n};\nfunction checkShouldComponentUpdate(\n  workInProgress,\n  ctor,\n  oldProps,\n  newProps,\n  oldState,\n  newState,\n  nextContext\n) {\n  workInProgress = workInProgress.stateNode;\n  return \"function\" === typeof workInProgress.shouldComponentUpdate\n    ? workInProgress.shouldComponentUpdate(newProps, newState, nextContext)\n    : ctor.prototype && ctor.prototype.isPureReactComponent\n      ? !shallowEqual(oldProps, newProps) || !shallowEqual(oldState, newState)\n      : !0;\n}\nfunction callComponentWillReceiveProps(\n  workInProgress,\n  instance,\n  newProps,\n  nextContext\n) {\n  workInProgress = instance.state;\n  \"function\" === typeof instance.componentWillReceiveProps &&\n    instance.componentWillReceiveProps(newProps, nextContext);\n  \"function\" === typeof instance.UNSAFE_componentWillReceiveProps &&\n    instance.UNSAFE_componentWillReceiveProps(newProps, nextContext);\n  instance.state !== workInProgress &&\n    classComponentUpdater.enqueueReplaceState(instance, instance.state, null);\n}\nfunction resolveClassComponentProps(Component, baseProps) {\n  var newProps = baseProps;\n  if (\"ref\" in baseProps) {\n    newProps = {};\n    for (var propName in baseProps)\n      \"ref\" !== propName && (newProps[propName] = baseProps[propName]);\n  }\n  if ((Component = Component.defaultProps)) {\n    newProps === baseProps && (newProps = assign({}, newProps));\n    for (var propName$73 in Component)\n      void 0 === newProps[propName$73] &&\n        (newProps[propName$73] = Component[propName$73]);\n  }\n  return newProps;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction defaultOnUncaughtError(error) {\n  reportGlobalError(error);\n}\nfunction defaultOnCaughtError(error) {\n  console.error(error);\n}\nfunction defaultOnRecoverableError(error) {\n  reportGlobalError(error);\n}\nfunction logUncaughtError(root, errorInfo) {\n  try {\n    var onUncaughtError = root.onUncaughtError;\n    onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });\n  } catch (e$74) {\n    setTimeout(function () {\n      throw e$74;\n    });\n  }\n}\nfunction logCaughtError(root, boundary, errorInfo) {\n  try {\n    var onCaughtError = root.onCaughtError;\n    onCaughtError(errorInfo.value, {\n      componentStack: errorInfo.stack,\n      errorBoundary: 1 === boundary.tag ? boundary.stateNode : null\n    });\n  } catch (e$75) {\n    setTimeout(function () {\n      throw e$75;\n    });\n  }\n}\nfunction createRootErrorUpdate(root, errorInfo, lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  lane.payload = { element: null };\n  lane.callback = function () {\n    logUncaughtError(root, errorInfo);\n  };\n  return lane;\n}\nfunction createClassErrorUpdate(lane) {\n  lane = createUpdate(lane);\n  lane.tag = 3;\n  return lane;\n}\nfunction initializeClassErrorUpdate(update, root, fiber, errorInfo) {\n  var getDerivedStateFromError = fiber.type.getDerivedStateFromError;\n  if (\"function\" === typeof getDerivedStateFromError) {\n    var error = errorInfo.value;\n    update.payload = function () {\n      return getDerivedStateFromError(error);\n    };\n    update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n    };\n  }\n  var inst = fiber.stateNode;\n  null !== inst &&\n    \"function\" === typeof inst.componentDidCatch &&\n    (update.callback = function () {\n      logCaughtError(root, fiber, errorInfo);\n      \"function\" !== typeof getDerivedStateFromError &&\n        (null === legacyErrorBoundariesThatAlreadyFailed\n          ? (legacyErrorBoundariesThatAlreadyFailed = new Set([this]))\n          : legacyErrorBoundariesThatAlreadyFailed.add(this));\n      var stack = errorInfo.stack;\n      this.componentDidCatch(errorInfo.value, {\n        componentStack: null !== stack ? stack : \"\"\n      });\n    });\n}\nfunction throwException(\n  root,\n  returnFiber,\n  sourceFiber,\n  value,\n  rootRenderLanes\n) {\n  sourceFiber.flags |= 32768;\n  if (\n    null !== value &&\n    \"object\" === typeof value &&\n    \"function\" === typeof value.then\n  ) {\n    returnFiber = sourceFiber.alternate;\n    null !== returnFiber &&\n      propagateParentContextChanges(\n        returnFiber,\n        sourceFiber,\n        rootRenderLanes,\n        !0\n      );\n    sourceFiber = suspenseHandlerStackCursor.current;\n    if (null !== sourceFiber) {\n      switch (sourceFiber.tag) {\n        case 13:\n          return (\n            null === shellBoundary\n              ? renderDidSuspendDelayIfPossible()\n              : null === sourceFiber.alternate &&\n                0 === workInProgressRootExitStatus &&\n                (workInProgressRootExitStatus = 3),\n            (sourceFiber.flags &= -257),\n            (sourceFiber.flags |= 65536),\n            (sourceFiber.lanes = rootRenderLanes),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? (sourceFiber.updateQueue = new Set([value]))\n                  : returnFiber.add(value),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n        case 22:\n          return (\n            (sourceFiber.flags |= 65536),\n            value === noopSuspenseyCommitThenable\n              ? (sourceFiber.flags |= 16384)\n              : ((returnFiber = sourceFiber.updateQueue),\n                null === returnFiber\n                  ? ((returnFiber = {\n                      transitions: null,\n                      markerInstances: null,\n                      retryQueue: new Set([value])\n                    }),\n                    (sourceFiber.updateQueue = returnFiber))\n                  : ((sourceFiber = returnFiber.retryQueue),\n                    null === sourceFiber\n                      ? (returnFiber.retryQueue = new Set([value]))\n                      : sourceFiber.add(value)),\n                attachPingListener(root, value, rootRenderLanes)),\n            !1\n          );\n      }\n      throw Error(formatProdErrorMessage(435, sourceFiber.tag));\n    }\n    attachPingListener(root, value, rootRenderLanes);\n    renderDidSuspendDelayIfPossible();\n    return !1;\n  }\n  if (isHydrating)\n    return (\n      (returnFiber = suspenseHandlerStackCursor.current),\n      null !== returnFiber\n        ? (0 === (returnFiber.flags & 65536) && (returnFiber.flags |= 256),\n          (returnFiber.flags |= 65536),\n          (returnFiber.lanes = rootRenderLanes),\n          value !== HydrationMismatchException &&\n            ((root = Error(formatProdErrorMessage(422), { cause: value })),\n            queueHydrationError(createCapturedValueAtFiber(root, sourceFiber))))\n        : (value !== HydrationMismatchException &&\n            ((returnFiber = Error(formatProdErrorMessage(423), {\n              cause: value\n            })),\n            queueHydrationError(\n              createCapturedValueAtFiber(returnFiber, sourceFiber)\n            )),\n          (root = root.current.alternate),\n          (root.flags |= 65536),\n          (rootRenderLanes &= -rootRenderLanes),\n          (root.lanes |= rootRenderLanes),\n          (value = createCapturedValueAtFiber(value, sourceFiber)),\n          (rootRenderLanes = createRootErrorUpdate(\n            root.stateNode,\n            value,\n            rootRenderLanes\n          )),\n          enqueueCapturedUpdate(root, rootRenderLanes),\n          4 !== workInProgressRootExitStatus &&\n            (workInProgressRootExitStatus = 2)),\n      !1\n    );\n  var wrapperError = Error(formatProdErrorMessage(520), { cause: value });\n  wrapperError = createCapturedValueAtFiber(wrapperError, sourceFiber);\n  null === workInProgressRootConcurrentErrors\n    ? (workInProgressRootConcurrentErrors = [wrapperError])\n    : workInProgressRootConcurrentErrors.push(wrapperError);\n  4 !== workInProgressRootExitStatus && (workInProgressRootExitStatus = 2);\n  if (null === returnFiber) return !0;\n  value = createCapturedValueAtFiber(value, sourceFiber);\n  sourceFiber = returnFiber;\n  do {\n    switch (sourceFiber.tag) {\n      case 3:\n        return (\n          (sourceFiber.flags |= 65536),\n          (root = rootRenderLanes & -rootRenderLanes),\n          (sourceFiber.lanes |= root),\n          (root = createRootErrorUpdate(sourceFiber.stateNode, value, root)),\n          enqueueCapturedUpdate(sourceFiber, root),\n          !1\n        );\n      case 1:\n        if (\n          ((returnFiber = sourceFiber.type),\n          (wrapperError = sourceFiber.stateNode),\n          0 === (sourceFiber.flags & 128) &&\n            (\"function\" === typeof returnFiber.getDerivedStateFromError ||\n              (null !== wrapperError &&\n                \"function\" === typeof wrapperError.componentDidCatch &&\n                (null === legacyErrorBoundariesThatAlreadyFailed ||\n                  !legacyErrorBoundariesThatAlreadyFailed.has(wrapperError)))))\n        )\n          return (\n            (sourceFiber.flags |= 65536),\n            (rootRenderLanes &= -rootRenderLanes),\n            (sourceFiber.lanes |= rootRenderLanes),\n            (rootRenderLanes = createClassErrorUpdate(rootRenderLanes)),\n            initializeClassErrorUpdate(\n              rootRenderLanes,\n              root,\n              sourceFiber,\n              value\n            ),\n            enqueueCapturedUpdate(sourceFiber, rootRenderLanes),\n            !1\n          );\n    }\n    sourceFiber = sourceFiber.return;\n  } while (null !== sourceFiber);\n  return !1;\n}\nvar SelectiveHydrationException = Error(formatProdErrorMessage(461)),\n  didReceiveUpdate = !1;\nfunction reconcileChildren(current, workInProgress, nextChildren, renderLanes) {\n  workInProgress.child =\n    null === current\n      ? mountChildFibers(workInProgress, null, nextChildren, renderLanes)\n      : reconcileChildFibers(\n          workInProgress,\n          current.child,\n          nextChildren,\n          renderLanes\n        );\n}\nfunction updateForwardRef(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  Component = Component.render;\n  var ref = workInProgress.ref;\n  if (\"ref\" in nextProps) {\n    var propsWithoutRef = {};\n    for (var key in nextProps)\n      \"ref\" !== key && (propsWithoutRef[key] = nextProps[key]);\n  } else propsWithoutRef = nextProps;\n  prepareToReadContext(workInProgress);\n  nextProps = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    propsWithoutRef,\n    ref,\n    renderLanes\n  );\n  key = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && key && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null === current) {\n    var type = Component.type;\n    if (\n      \"function\" === typeof type &&\n      !shouldConstruct(type) &&\n      void 0 === type.defaultProps &&\n      null === Component.compare\n    )\n      return (\n        (workInProgress.tag = 15),\n        (workInProgress.type = type),\n        updateSimpleMemoComponent(\n          current,\n          workInProgress,\n          type,\n          nextProps,\n          renderLanes\n        )\n      );\n    current = createFiberFromTypeAndProps(\n      Component.type,\n      null,\n      nextProps,\n      workInProgress,\n      workInProgress.mode,\n      renderLanes\n    );\n    current.ref = workInProgress.ref;\n    current.return = workInProgress;\n    return (workInProgress.child = current);\n  }\n  type = current.child;\n  if (!checkScheduledUpdateOrContext(current, renderLanes)) {\n    var prevProps = type.memoizedProps;\n    Component = Component.compare;\n    Component = null !== Component ? Component : shallowEqual;\n    if (Component(prevProps, nextProps) && current.ref === workInProgress.ref)\n      return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n  }\n  workInProgress.flags |= 1;\n  current = createWorkInProgress(type, nextProps);\n  current.ref = workInProgress.ref;\n  current.return = workInProgress;\n  return (workInProgress.child = current);\n}\nfunction updateSimpleMemoComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  if (null !== current) {\n    var prevProps = current.memoizedProps;\n    if (\n      shallowEqual(prevProps, nextProps) &&\n      current.ref === workInProgress.ref\n    )\n      if (\n        ((didReceiveUpdate = !1),\n        (workInProgress.pendingProps = nextProps = prevProps),\n        checkScheduledUpdateOrContext(current, renderLanes))\n      )\n        0 !== (current.flags & 131072) && (didReceiveUpdate = !0);\n      else\n        return (\n          (workInProgress.lanes = current.lanes),\n          bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n        );\n  }\n  return updateFunctionComponent(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    renderLanes\n  );\n}\nfunction updateOffscreenComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    nextChildren = nextProps.children,\n    prevState = null !== current ? current.memoizedState : null;\n  if (\"hidden\" === nextProps.mode) {\n    if (0 !== (workInProgress.flags & 128)) {\n      nextProps =\n        null !== prevState ? prevState.baseLanes | renderLanes : renderLanes;\n      if (null !== current) {\n        nextChildren = workInProgress.child = current.child;\n        for (prevState = 0; null !== nextChildren; )\n          (prevState =\n            prevState | nextChildren.lanes | nextChildren.childLanes),\n            (nextChildren = nextChildren.sibling);\n        workInProgress.childLanes = prevState & ~nextProps;\n      } else (workInProgress.childLanes = 0), (workInProgress.child = null);\n      return deferHiddenOffscreenComponent(\n        current,\n        workInProgress,\n        nextProps,\n        renderLanes\n      );\n    }\n    if (0 !== (renderLanes & 536870912))\n      (workInProgress.memoizedState = { baseLanes: 0, cachePool: null }),\n        null !== current &&\n          pushTransition(\n            workInProgress,\n            null !== prevState ? prevState.cachePool : null\n          ),\n        null !== prevState\n          ? pushHiddenContext(workInProgress, prevState)\n          : reuseHiddenContextOnStack(),\n        pushOffscreenSuspenseHandler(workInProgress);\n    else\n      return (\n        (workInProgress.lanes = workInProgress.childLanes = 536870912),\n        deferHiddenOffscreenComponent(\n          current,\n          workInProgress,\n          null !== prevState ? prevState.baseLanes | renderLanes : renderLanes,\n          renderLanes\n        )\n      );\n  } else\n    null !== prevState\n      ? (pushTransition(workInProgress, prevState.cachePool),\n        pushHiddenContext(workInProgress, prevState),\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (workInProgress.memoizedState = null))\n      : (null !== current && pushTransition(workInProgress, null),\n        reuseHiddenContextOnStack(),\n        reuseSuspenseHandlerOnStack(workInProgress));\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nfunction deferHiddenOffscreenComponent(\n  current,\n  workInProgress,\n  nextBaseLanes,\n  renderLanes\n) {\n  var JSCompiler_inline_result = peekCacheFromPool();\n  JSCompiler_inline_result =\n    null === JSCompiler_inline_result\n      ? null\n      : { parent: CacheContext._currentValue, pool: JSCompiler_inline_result };\n  workInProgress.memoizedState = {\n    baseLanes: nextBaseLanes,\n    cachePool: JSCompiler_inline_result\n  };\n  null !== current && pushTransition(workInProgress, null);\n  reuseHiddenContextOnStack();\n  pushOffscreenSuspenseHandler(workInProgress);\n  null !== current &&\n    propagateParentContextChanges(current, workInProgress, renderLanes, !0);\n  return null;\n}\nfunction markRef(current, workInProgress) {\n  var ref = workInProgress.ref;\n  if (null === ref)\n    null !== current &&\n      null !== current.ref &&\n      (workInProgress.flags |= 4194816);\n  else {\n    if (\"function\" !== typeof ref && \"object\" !== typeof ref)\n      throw Error(formatProdErrorMessage(284));\n    if (null === current || current.ref !== ref)\n      workInProgress.flags |= 4194816;\n  }\n}\nfunction updateFunctionComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  Component = renderWithHooks(\n    current,\n    workInProgress,\n    Component,\n    nextProps,\n    void 0,\n    renderLanes\n  );\n  nextProps = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && nextProps && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, Component, renderLanes);\n  return workInProgress.child;\n}\nfunction replayFunctionComponent(\n  current,\n  workInProgress,\n  nextProps,\n  Component,\n  secondArg,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  workInProgress.updateQueue = null;\n  nextProps = renderWithHooksAgain(\n    workInProgress,\n    Component,\n    nextProps,\n    secondArg\n  );\n  finishRenderingHooks(current);\n  Component = checkDidRenderIdHook();\n  if (null !== current && !didReceiveUpdate)\n    return (\n      bailoutHooks(current, workInProgress, renderLanes),\n      bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes)\n    );\n  isHydrating && Component && pushMaterializedTreeId(workInProgress);\n  workInProgress.flags |= 1;\n  reconcileChildren(current, workInProgress, nextProps, renderLanes);\n  return workInProgress.child;\n}\nfunction updateClassComponent(\n  current,\n  workInProgress,\n  Component,\n  nextProps,\n  renderLanes\n) {\n  prepareToReadContext(workInProgress);\n  if (null === workInProgress.stateNode) {\n    var context = emptyContextObject,\n      contextType = Component.contextType;\n    \"object\" === typeof contextType &&\n      null !== contextType &&\n      (context = readContext(contextType));\n    context = new Component(nextProps, context);\n    workInProgress.memoizedState =\n      null !== context.state && void 0 !== context.state ? context.state : null;\n    context.updater = classComponentUpdater;\n    workInProgress.stateNode = context;\n    context._reactInternals = workInProgress;\n    context = workInProgress.stateNode;\n    context.props = nextProps;\n    context.state = workInProgress.memoizedState;\n    context.refs = {};\n    initializeUpdateQueue(workInProgress);\n    contextType = Component.contextType;\n    context.context =\n      \"object\" === typeof contextType && null !== contextType\n        ? readContext(contextType)\n        : emptyContextObject;\n    context.state = workInProgress.memoizedState;\n    contextType = Component.getDerivedStateFromProps;\n    \"function\" === typeof contextType &&\n      (applyDerivedStateFromProps(\n        workInProgress,\n        Component,\n        contextType,\n        nextProps\n      ),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof Component.getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate ||\n      (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n        \"function\" !== typeof context.componentWillMount) ||\n      ((contextType = context.state),\n      \"function\" === typeof context.componentWillMount &&\n        context.componentWillMount(),\n      \"function\" === typeof context.UNSAFE_componentWillMount &&\n        context.UNSAFE_componentWillMount(),\n      contextType !== context.state &&\n        classComponentUpdater.enqueueReplaceState(context, context.state, null),\n      processUpdateQueue(workInProgress, nextProps, context, renderLanes),\n      suspendIfUpdateReadFromEntangledAsyncAction(),\n      (context.state = workInProgress.memoizedState));\n    \"function\" === typeof context.componentDidMount &&\n      (workInProgress.flags |= 4194308);\n    nextProps = !0;\n  } else if (null === current) {\n    context = workInProgress.stateNode;\n    var unresolvedOldProps = workInProgress.memoizedProps,\n      oldProps = resolveClassComponentProps(Component, unresolvedOldProps);\n    context.props = oldProps;\n    var oldContext = context.context,\n      contextType$jscomp$0 = Component.contextType;\n    contextType = emptyContextObject;\n    \"object\" === typeof contextType$jscomp$0 &&\n      null !== contextType$jscomp$0 &&\n      (contextType = readContext(contextType$jscomp$0));\n    var getDerivedStateFromProps = Component.getDerivedStateFromProps;\n    contextType$jscomp$0 =\n      \"function\" === typeof getDerivedStateFromProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate;\n    unresolvedOldProps = workInProgress.pendingProps !== unresolvedOldProps;\n    contextType$jscomp$0 ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((unresolvedOldProps || oldContext !== contextType) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          contextType\n        ));\n    hasForceUpdate = !1;\n    var oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    oldContext = workInProgress.memoizedState;\n    unresolvedOldProps || oldState !== oldContext || hasForceUpdate\n      ? (\"function\" === typeof getDerivedStateFromProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            getDerivedStateFromProps,\n            nextProps\n          ),\n          (oldContext = workInProgress.memoizedState)),\n        (oldProps =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            oldProps,\n            nextProps,\n            oldState,\n            oldContext,\n            contextType\n          ))\n          ? (contextType$jscomp$0 ||\n              (\"function\" !== typeof context.UNSAFE_componentWillMount &&\n                \"function\" !== typeof context.componentWillMount) ||\n              (\"function\" === typeof context.componentWillMount &&\n                context.componentWillMount(),\n              \"function\" === typeof context.UNSAFE_componentWillMount &&\n                context.UNSAFE_componentWillMount()),\n            \"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308))\n          : (\"function\" === typeof context.componentDidMount &&\n              (workInProgress.flags |= 4194308),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = oldContext)),\n        (context.props = nextProps),\n        (context.state = oldContext),\n        (context.context = contextType),\n        (nextProps = oldProps))\n      : (\"function\" === typeof context.componentDidMount &&\n          (workInProgress.flags |= 4194308),\n        (nextProps = !1));\n  } else {\n    context = workInProgress.stateNode;\n    cloneUpdateQueue(current, workInProgress);\n    contextType = workInProgress.memoizedProps;\n    contextType$jscomp$0 = resolveClassComponentProps(Component, contextType);\n    context.props = contextType$jscomp$0;\n    getDerivedStateFromProps = workInProgress.pendingProps;\n    oldState = context.context;\n    oldContext = Component.contextType;\n    oldProps = emptyContextObject;\n    \"object\" === typeof oldContext &&\n      null !== oldContext &&\n      (oldProps = readContext(oldContext));\n    unresolvedOldProps = Component.getDerivedStateFromProps;\n    (oldContext =\n      \"function\" === typeof unresolvedOldProps ||\n      \"function\" === typeof context.getSnapshotBeforeUpdate) ||\n      (\"function\" !== typeof context.UNSAFE_componentWillReceiveProps &&\n        \"function\" !== typeof context.componentWillReceiveProps) ||\n      ((contextType !== getDerivedStateFromProps || oldState !== oldProps) &&\n        callComponentWillReceiveProps(\n          workInProgress,\n          context,\n          nextProps,\n          oldProps\n        ));\n    hasForceUpdate = !1;\n    oldState = workInProgress.memoizedState;\n    context.state = oldState;\n    processUpdateQueue(workInProgress, nextProps, context, renderLanes);\n    suspendIfUpdateReadFromEntangledAsyncAction();\n    var newState = workInProgress.memoizedState;\n    contextType !== getDerivedStateFromProps ||\n    oldState !== newState ||\n    hasForceUpdate ||\n    (null !== current &&\n      null !== current.dependencies &&\n      checkIfContextChanged(current.dependencies))\n      ? (\"function\" === typeof unresolvedOldProps &&\n          (applyDerivedStateFromProps(\n            workInProgress,\n            Component,\n            unresolvedOldProps,\n            nextProps\n          ),\n          (newState = workInProgress.memoizedState)),\n        (contextType$jscomp$0 =\n          hasForceUpdate ||\n          checkShouldComponentUpdate(\n            workInProgress,\n            Component,\n            contextType$jscomp$0,\n            nextProps,\n            oldState,\n            newState,\n            oldProps\n          ) ||\n          (null !== current &&\n            null !== current.dependencies &&\n            checkIfContextChanged(current.dependencies)))\n          ? (oldContext ||\n              (\"function\" !== typeof context.UNSAFE_componentWillUpdate &&\n                \"function\" !== typeof context.componentWillUpdate) ||\n              (\"function\" === typeof context.componentWillUpdate &&\n                context.componentWillUpdate(nextProps, newState, oldProps),\n              \"function\" === typeof context.UNSAFE_componentWillUpdate &&\n                context.UNSAFE_componentWillUpdate(\n                  nextProps,\n                  newState,\n                  oldProps\n                )),\n            \"function\" === typeof context.componentDidUpdate &&\n              (workInProgress.flags |= 4),\n            \"function\" === typeof context.getSnapshotBeforeUpdate &&\n              (workInProgress.flags |= 1024))\n          : (\"function\" !== typeof context.componentDidUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 4),\n            \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n              (contextType === current.memoizedProps &&\n                oldState === current.memoizedState) ||\n              (workInProgress.flags |= 1024),\n            (workInProgress.memoizedProps = nextProps),\n            (workInProgress.memoizedState = newState)),\n        (context.props = nextProps),\n        (context.state = newState),\n        (context.context = oldProps),\n        (nextProps = contextType$jscomp$0))\n      : (\"function\" !== typeof context.componentDidUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 4),\n        \"function\" !== typeof context.getSnapshotBeforeUpdate ||\n          (contextType === current.memoizedProps &&\n            oldState === current.memoizedState) ||\n          (workInProgress.flags |= 1024),\n        (nextProps = !1));\n  }\n  context = nextProps;\n  markRef(current, workInProgress);\n  nextProps = 0 !== (workInProgress.flags & 128);\n  context || nextProps\n    ? ((context = workInProgress.stateNode),\n      (Component =\n        nextProps && \"function\" !== typeof Component.getDerivedStateFromError\n          ? null\n          : context.render()),\n      (workInProgress.flags |= 1),\n      null !== current && nextProps\n        ? ((workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            current.child,\n            null,\n            renderLanes\n          )),\n          (workInProgress.child = reconcileChildFibers(\n            workInProgress,\n            null,\n            Component,\n            renderLanes\n          )))\n        : reconcileChildren(current, workInProgress, Component, renderLanes),\n      (workInProgress.memoizedState = context.state),\n      (current = workInProgress.child))\n    : (current = bailoutOnAlreadyFinishedWork(\n        current,\n        workInProgress,\n        renderLanes\n      ));\n  return current;\n}\nfunction mountHostRootWithoutHydrating(\n  current,\n  workInProgress,\n  nextChildren,\n  renderLanes\n) {\n  resetHydrationState();\n  workInProgress.flags |= 256;\n  reconcileChildren(current, workInProgress, nextChildren, renderLanes);\n  return workInProgress.child;\n}\nvar SUSPENDED_MARKER = {\n  dehydrated: null,\n  treeContext: null,\n  retryLane: 0,\n  hydrationErrors: null\n};\nfunction mountSuspenseOffscreenState(renderLanes) {\n  return { baseLanes: renderLanes, cachePool: getSuspendedCache() };\n}\nfunction getRemainingWorkInPrimaryTree(\n  current,\n  primaryTreeDidDefer,\n  renderLanes\n) {\n  current = null !== current ? current.childLanes & ~renderLanes : 0;\n  primaryTreeDidDefer && (current |= workInProgressDeferredLane);\n  return current;\n}\nfunction updateSuspenseComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    showFallback = !1,\n    didSuspend = 0 !== (workInProgress.flags & 128),\n    JSCompiler_temp;\n  (JSCompiler_temp = didSuspend) ||\n    (JSCompiler_temp =\n      null !== current && null === current.memoizedState\n        ? !1\n        : 0 !== (suspenseStackCursor.current & 2));\n  JSCompiler_temp && ((showFallback = !0), (workInProgress.flags &= -129));\n  JSCompiler_temp = 0 !== (workInProgress.flags & 32);\n  workInProgress.flags &= -33;\n  if (null === current) {\n    if (isHydrating) {\n      showFallback\n        ? pushPrimaryTreeSuspenseHandler(workInProgress)\n        : reuseSuspenseHandlerOnStack(workInProgress);\n      if (isHydrating) {\n        var nextInstance = nextHydratableInstance,\n          JSCompiler_temp$jscomp$0;\n        if ((JSCompiler_temp$jscomp$0 = nextInstance)) {\n          c: {\n            JSCompiler_temp$jscomp$0 = nextInstance;\n            for (\n              nextInstance = rootOrSingletonContext;\n              8 !== JSCompiler_temp$jscomp$0.nodeType;\n\n            ) {\n              if (!nextInstance) {\n                nextInstance = null;\n                break c;\n              }\n              JSCompiler_temp$jscomp$0 = getNextHydratable(\n                JSCompiler_temp$jscomp$0.nextSibling\n              );\n              if (null === JSCompiler_temp$jscomp$0) {\n                nextInstance = null;\n                break c;\n              }\n            }\n            nextInstance = JSCompiler_temp$jscomp$0;\n          }\n          null !== nextInstance\n            ? ((workInProgress.memoizedState = {\n                dehydrated: nextInstance,\n                treeContext:\n                  null !== treeContextProvider\n                    ? { id: treeContextId, overflow: treeContextOverflow }\n                    : null,\n                retryLane: 536870912,\n                hydrationErrors: null\n              }),\n              (JSCompiler_temp$jscomp$0 = createFiberImplClass(\n                18,\n                null,\n                null,\n                0\n              )),\n              (JSCompiler_temp$jscomp$0.stateNode = nextInstance),\n              (JSCompiler_temp$jscomp$0.return = workInProgress),\n              (workInProgress.child = JSCompiler_temp$jscomp$0),\n              (hydrationParentFiber = workInProgress),\n              (nextHydratableInstance = null),\n              (JSCompiler_temp$jscomp$0 = !0))\n            : (JSCompiler_temp$jscomp$0 = !1);\n        }\n        JSCompiler_temp$jscomp$0 || throwOnHydrationMismatch(workInProgress);\n      }\n      nextInstance = workInProgress.memoizedState;\n      if (\n        null !== nextInstance &&\n        ((nextInstance = nextInstance.dehydrated), null !== nextInstance)\n      )\n        return (\n          isSuspenseInstanceFallback(nextInstance)\n            ? (workInProgress.lanes = 32)\n            : (workInProgress.lanes = 536870912),\n          null\n        );\n      popSuspenseHandler(workInProgress);\n    }\n    nextInstance = nextProps.children;\n    nextProps = nextProps.fallback;\n    if (showFallback)\n      return (\n        reuseSuspenseHandlerOnStack(workInProgress),\n        (showFallback = workInProgress.mode),\n        (nextInstance = mountWorkInProgressOffscreenFiber(\n          { mode: \"hidden\", children: nextInstance },\n          showFallback\n        )),\n        (nextProps = createFiberFromFragment(\n          nextProps,\n          showFallback,\n          renderLanes,\n          null\n        )),\n        (nextInstance.return = workInProgress),\n        (nextProps.return = workInProgress),\n        (nextInstance.sibling = nextProps),\n        (workInProgress.child = nextInstance),\n        (showFallback = workInProgress.child),\n        (showFallback.memoizedState = mountSuspenseOffscreenState(renderLanes)),\n        (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n          current,\n          JSCompiler_temp,\n          renderLanes\n        )),\n        (workInProgress.memoizedState = SUSPENDED_MARKER),\n        nextProps\n      );\n    pushPrimaryTreeSuspenseHandler(workInProgress);\n    return mountSuspensePrimaryChildren(workInProgress, nextInstance);\n  }\n  JSCompiler_temp$jscomp$0 = current.memoizedState;\n  if (\n    null !== JSCompiler_temp$jscomp$0 &&\n    ((nextInstance = JSCompiler_temp$jscomp$0.dehydrated),\n    null !== nextInstance)\n  ) {\n    if (didSuspend)\n      workInProgress.flags & 256\n        ? (pushPrimaryTreeSuspenseHandler(workInProgress),\n          (workInProgress.flags &= -257),\n          (workInProgress = retrySuspenseComponentWithoutHydrating(\n            current,\n            workInProgress,\n            renderLanes\n          )))\n        : null !== workInProgress.memoizedState\n          ? (reuseSuspenseHandlerOnStack(workInProgress),\n            (workInProgress.child = current.child),\n            (workInProgress.flags |= 128),\n            (workInProgress = null))\n          : (reuseSuspenseHandlerOnStack(workInProgress),\n            (showFallback = nextProps.fallback),\n            (nextInstance = workInProgress.mode),\n            (nextProps = mountWorkInProgressOffscreenFiber(\n              { mode: \"visible\", children: nextProps.children },\n              nextInstance\n            )),\n            (showFallback = createFiberFromFragment(\n              showFallback,\n              nextInstance,\n              renderLanes,\n              null\n            )),\n            (showFallback.flags |= 2),\n            (nextProps.return = workInProgress),\n            (showFallback.return = workInProgress),\n            (nextProps.sibling = showFallback),\n            (workInProgress.child = nextProps),\n            reconcileChildFibers(\n              workInProgress,\n              current.child,\n              null,\n              renderLanes\n            ),\n            (nextProps = workInProgress.child),\n            (nextProps.memoizedState =\n              mountSuspenseOffscreenState(renderLanes)),\n            (nextProps.childLanes = getRemainingWorkInPrimaryTree(\n              current,\n              JSCompiler_temp,\n              renderLanes\n            )),\n            (workInProgress.memoizedState = SUSPENDED_MARKER),\n            (workInProgress = showFallback));\n    else if (\n      (pushPrimaryTreeSuspenseHandler(workInProgress),\n      isSuspenseInstanceFallback(nextInstance))\n    ) {\n      JSCompiler_temp =\n        nextInstance.nextSibling && nextInstance.nextSibling.dataset;\n      if (JSCompiler_temp) var digest = JSCompiler_temp.dgst;\n      JSCompiler_temp = digest;\n      nextProps = Error(formatProdErrorMessage(419));\n      nextProps.stack = \"\";\n      nextProps.digest = JSCompiler_temp;\n      queueHydrationError({ value: nextProps, source: null, stack: null });\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else if (\n      (didReceiveUpdate ||\n        propagateParentContextChanges(current, workInProgress, renderLanes, !1),\n      (JSCompiler_temp = 0 !== (renderLanes & current.childLanes)),\n      didReceiveUpdate || JSCompiler_temp)\n    ) {\n      JSCompiler_temp = workInProgressRoot;\n      if (\n        null !== JSCompiler_temp &&\n        ((nextProps = renderLanes & -renderLanes),\n        (nextProps =\n          0 !== (nextProps & 42)\n            ? 1\n            : getBumpedLaneForHydrationByLane(nextProps)),\n        (nextProps =\n          0 !== (nextProps & (JSCompiler_temp.suspendedLanes | renderLanes))\n            ? 0\n            : nextProps),\n        0 !== nextProps && nextProps !== JSCompiler_temp$jscomp$0.retryLane)\n      )\n        throw (\n          ((JSCompiler_temp$jscomp$0.retryLane = nextProps),\n          enqueueConcurrentRenderForLane(current, nextProps),\n          scheduleUpdateOnFiber(JSCompiler_temp, current, nextProps),\n          SelectiveHydrationException)\n        );\n      \"$?\" === nextInstance.data || renderDidSuspendDelayIfPossible();\n      workInProgress = retrySuspenseComponentWithoutHydrating(\n        current,\n        workInProgress,\n        renderLanes\n      );\n    } else\n      \"$?\" === nextInstance.data\n        ? ((workInProgress.flags |= 192),\n          (workInProgress.child = current.child),\n          (workInProgress = null))\n        : ((current = JSCompiler_temp$jscomp$0.treeContext),\n          (nextHydratableInstance = getNextHydratable(\n            nextInstance.nextSibling\n          )),\n          (hydrationParentFiber = workInProgress),\n          (isHydrating = !0),\n          (hydrationErrors = null),\n          (rootOrSingletonContext = !1),\n          null !== current &&\n            ((idStack[idStackIndex++] = treeContextId),\n            (idStack[idStackIndex++] = treeContextOverflow),\n            (idStack[idStackIndex++] = treeContextProvider),\n            (treeContextId = current.id),\n            (treeContextOverflow = current.overflow),\n            (treeContextProvider = workInProgress)),\n          (workInProgress = mountSuspensePrimaryChildren(\n            workInProgress,\n            nextProps.children\n          )),\n          (workInProgress.flags |= 4096));\n    return workInProgress;\n  }\n  if (showFallback)\n    return (\n      reuseSuspenseHandlerOnStack(workInProgress),\n      (showFallback = nextProps.fallback),\n      (nextInstance = workInProgress.mode),\n      (JSCompiler_temp$jscomp$0 = current.child),\n      (digest = JSCompiler_temp$jscomp$0.sibling),\n      (nextProps = createWorkInProgress(JSCompiler_temp$jscomp$0, {\n        mode: \"hidden\",\n        children: nextProps.children\n      })),\n      (nextProps.subtreeFlags =\n        JSCompiler_temp$jscomp$0.subtreeFlags & 65011712),\n      null !== digest\n        ? (showFallback = createWorkInProgress(digest, showFallback))\n        : ((showFallback = createFiberFromFragment(\n            showFallback,\n            nextInstance,\n            renderLanes,\n            null\n          )),\n          (showFallback.flags |= 2)),\n      (showFallback.return = workInProgress),\n      (nextProps.return = workInProgress),\n      (nextProps.sibling = showFallback),\n      (workInProgress.child = nextProps),\n      (nextProps = showFallback),\n      (showFallback = workInProgress.child),\n      (nextInstance = current.child.memoizedState),\n      null === nextInstance\n        ? (nextInstance = mountSuspenseOffscreenState(renderLanes))\n        : ((JSCompiler_temp$jscomp$0 = nextInstance.cachePool),\n          null !== JSCompiler_temp$jscomp$0\n            ? ((digest = CacheContext._currentValue),\n              (JSCompiler_temp$jscomp$0 =\n                JSCompiler_temp$jscomp$0.parent !== digest\n                  ? { parent: digest, pool: digest }\n                  : JSCompiler_temp$jscomp$0))\n            : (JSCompiler_temp$jscomp$0 = getSuspendedCache()),\n          (nextInstance = {\n            baseLanes: nextInstance.baseLanes | renderLanes,\n            cachePool: JSCompiler_temp$jscomp$0\n          })),\n      (showFallback.memoizedState = nextInstance),\n      (showFallback.childLanes = getRemainingWorkInPrimaryTree(\n        current,\n        JSCompiler_temp,\n        renderLanes\n      )),\n      (workInProgress.memoizedState = SUSPENDED_MARKER),\n      nextProps\n    );\n  pushPrimaryTreeSuspenseHandler(workInProgress);\n  renderLanes = current.child;\n  current = renderLanes.sibling;\n  renderLanes = createWorkInProgress(renderLanes, {\n    mode: \"visible\",\n    children: nextProps.children\n  });\n  renderLanes.return = workInProgress;\n  renderLanes.sibling = null;\n  null !== current &&\n    ((JSCompiler_temp = workInProgress.deletions),\n    null === JSCompiler_temp\n      ? ((workInProgress.deletions = [current]), (workInProgress.flags |= 16))\n      : JSCompiler_temp.push(current));\n  workInProgress.child = renderLanes;\n  workInProgress.memoizedState = null;\n  return renderLanes;\n}\nfunction mountSuspensePrimaryChildren(workInProgress, primaryChildren) {\n  primaryChildren = mountWorkInProgressOffscreenFiber(\n    { mode: \"visible\", children: primaryChildren },\n    workInProgress.mode\n  );\n  primaryChildren.return = workInProgress;\n  return (workInProgress.child = primaryChildren);\n}\nfunction mountWorkInProgressOffscreenFiber(offscreenProps, mode) {\n  offscreenProps = createFiberImplClass(22, offscreenProps, null, mode);\n  offscreenProps.lanes = 0;\n  offscreenProps.stateNode = {\n    _visibility: 1,\n    _pendingMarkers: null,\n    _retryCache: null,\n    _transitions: null\n  };\n  return offscreenProps;\n}\nfunction retrySuspenseComponentWithoutHydrating(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  reconcileChildFibers(workInProgress, current.child, null, renderLanes);\n  current = mountSuspensePrimaryChildren(\n    workInProgress,\n    workInProgress.pendingProps.children\n  );\n  current.flags |= 2;\n  workInProgress.memoizedState = null;\n  return current;\n}\nfunction scheduleSuspenseWorkOnFiber(fiber, renderLanes, propagationRoot) {\n  fiber.lanes |= renderLanes;\n  var alternate = fiber.alternate;\n  null !== alternate && (alternate.lanes |= renderLanes);\n  scheduleContextWorkOnParentPath(fiber.return, renderLanes, propagationRoot);\n}\nfunction initSuspenseListRenderState(\n  workInProgress,\n  isBackwards,\n  tail,\n  lastContentRow,\n  tailMode\n) {\n  var renderState = workInProgress.memoizedState;\n  null === renderState\n    ? (workInProgress.memoizedState = {\n        isBackwards: isBackwards,\n        rendering: null,\n        renderingStartTime: 0,\n        last: lastContentRow,\n        tail: tail,\n        tailMode: tailMode\n      })\n    : ((renderState.isBackwards = isBackwards),\n      (renderState.rendering = null),\n      (renderState.renderingStartTime = 0),\n      (renderState.last = lastContentRow),\n      (renderState.tail = tail),\n      (renderState.tailMode = tailMode));\n}\nfunction updateSuspenseListComponent(current, workInProgress, renderLanes) {\n  var nextProps = workInProgress.pendingProps,\n    revealOrder = nextProps.revealOrder,\n    tailMode = nextProps.tail;\n  reconcileChildren(current, workInProgress, nextProps.children, renderLanes);\n  nextProps = suspenseStackCursor.current;\n  if (0 !== (nextProps & 2))\n    (nextProps = (nextProps & 1) | 2), (workInProgress.flags |= 128);\n  else {\n    if (null !== current && 0 !== (current.flags & 128))\n      a: for (current = workInProgress.child; null !== current; ) {\n        if (13 === current.tag)\n          null !== current.memoizedState &&\n            scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (19 === current.tag)\n          scheduleSuspenseWorkOnFiber(current, renderLanes, workInProgress);\n        else if (null !== current.child) {\n          current.child.return = current;\n          current = current.child;\n          continue;\n        }\n        if (current === workInProgress) break a;\n        for (; null === current.sibling; ) {\n          if (null === current.return || current.return === workInProgress)\n            break a;\n          current = current.return;\n        }\n        current.sibling.return = current.return;\n        current = current.sibling;\n      }\n    nextProps &= 1;\n  }\n  push(suspenseStackCursor, nextProps);\n  switch (revealOrder) {\n    case \"forwards\":\n      renderLanes = workInProgress.child;\n      for (revealOrder = null; null !== renderLanes; )\n        (current = renderLanes.alternate),\n          null !== current &&\n            null === findFirstSuspended(current) &&\n            (revealOrder = renderLanes),\n          (renderLanes = renderLanes.sibling);\n      renderLanes = revealOrder;\n      null === renderLanes\n        ? ((revealOrder = workInProgress.child), (workInProgress.child = null))\n        : ((revealOrder = renderLanes.sibling), (renderLanes.sibling = null));\n      initSuspenseListRenderState(\n        workInProgress,\n        !1,\n        revealOrder,\n        renderLanes,\n        tailMode\n      );\n      break;\n    case \"backwards\":\n      renderLanes = null;\n      revealOrder = workInProgress.child;\n      for (workInProgress.child = null; null !== revealOrder; ) {\n        current = revealOrder.alternate;\n        if (null !== current && null === findFirstSuspended(current)) {\n          workInProgress.child = revealOrder;\n          break;\n        }\n        current = revealOrder.sibling;\n        revealOrder.sibling = renderLanes;\n        renderLanes = revealOrder;\n        revealOrder = current;\n      }\n      initSuspenseListRenderState(\n        workInProgress,\n        !0,\n        renderLanes,\n        null,\n        tailMode\n      );\n      break;\n    case \"together\":\n      initSuspenseListRenderState(workInProgress, !1, null, null, void 0);\n      break;\n    default:\n      workInProgress.memoizedState = null;\n  }\n  return workInProgress.child;\n}\nfunction bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes) {\n  null !== current && (workInProgress.dependencies = current.dependencies);\n  workInProgressRootSkippedLanes |= workInProgress.lanes;\n  if (0 === (renderLanes & workInProgress.childLanes))\n    if (null !== current) {\n      if (\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        0 === (renderLanes & workInProgress.childLanes))\n      )\n        return null;\n    } else return null;\n  if (null !== current && workInProgress.child !== current.child)\n    throw Error(formatProdErrorMessage(153));\n  if (null !== workInProgress.child) {\n    current = workInProgress.child;\n    renderLanes = createWorkInProgress(current, current.pendingProps);\n    workInProgress.child = renderLanes;\n    for (renderLanes.return = workInProgress; null !== current.sibling; )\n      (current = current.sibling),\n        (renderLanes = renderLanes.sibling =\n          createWorkInProgress(current, current.pendingProps)),\n        (renderLanes.return = workInProgress);\n    renderLanes.sibling = null;\n  }\n  return workInProgress.child;\n}\nfunction checkScheduledUpdateOrContext(current, renderLanes) {\n  if (0 !== (current.lanes & renderLanes)) return !0;\n  current = current.dependencies;\n  return null !== current && checkIfContextChanged(current) ? !0 : !1;\n}\nfunction attemptEarlyBailoutIfNoScheduledUpdate(\n  current,\n  workInProgress,\n  renderLanes\n) {\n  switch (workInProgress.tag) {\n    case 3:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n      resetHydrationState();\n      break;\n    case 27:\n    case 5:\n      pushHostContext(workInProgress);\n      break;\n    case 4:\n      pushHostContainer(workInProgress, workInProgress.stateNode.containerInfo);\n      break;\n    case 10:\n      pushProvider(\n        workInProgress,\n        workInProgress.type,\n        workInProgress.memoizedProps.value\n      );\n      break;\n    case 13:\n      var state = workInProgress.memoizedState;\n      if (null !== state) {\n        if (null !== state.dehydrated)\n          return (\n            pushPrimaryTreeSuspenseHandler(workInProgress),\n            (workInProgress.flags |= 128),\n            null\n          );\n        if (0 !== (renderLanes & workInProgress.child.childLanes))\n          return updateSuspenseComponent(current, workInProgress, renderLanes);\n        pushPrimaryTreeSuspenseHandler(workInProgress);\n        current = bailoutOnAlreadyFinishedWork(\n          current,\n          workInProgress,\n          renderLanes\n        );\n        return null !== current ? current.sibling : null;\n      }\n      pushPrimaryTreeSuspenseHandler(workInProgress);\n      break;\n    case 19:\n      var didSuspendBefore = 0 !== (current.flags & 128);\n      state = 0 !== (renderLanes & workInProgress.childLanes);\n      state ||\n        (propagateParentContextChanges(\n          current,\n          workInProgress,\n          renderLanes,\n          !1\n        ),\n        (state = 0 !== (renderLanes & workInProgress.childLanes)));\n      if (didSuspendBefore) {\n        if (state)\n          return updateSuspenseListComponent(\n            current,\n            workInProgress,\n            renderLanes\n          );\n        workInProgress.flags |= 128;\n      }\n      didSuspendBefore = workInProgress.memoizedState;\n      null !== didSuspendBefore &&\n        ((didSuspendBefore.rendering = null),\n        (didSuspendBefore.tail = null),\n        (didSuspendBefore.lastEffect = null));\n      push(suspenseStackCursor, suspenseStackCursor.current);\n      if (state) break;\n      else return null;\n    case 22:\n    case 23:\n      return (\n        (workInProgress.lanes = 0),\n        updateOffscreenComponent(current, workInProgress, renderLanes)\n      );\n    case 24:\n      pushProvider(workInProgress, CacheContext, current.memoizedState.cache);\n  }\n  return bailoutOnAlreadyFinishedWork(current, workInProgress, renderLanes);\n}\nfunction beginWork(current, workInProgress, renderLanes) {\n  if (null !== current)\n    if (current.memoizedProps !== workInProgress.pendingProps)\n      didReceiveUpdate = !0;\n    else {\n      if (\n        !checkScheduledUpdateOrContext(current, renderLanes) &&\n        0 === (workInProgress.flags & 128)\n      )\n        return (\n          (didReceiveUpdate = !1),\n          attemptEarlyBailoutIfNoScheduledUpdate(\n            current,\n            workInProgress,\n            renderLanes\n          )\n        );\n      didReceiveUpdate = 0 !== (current.flags & 131072) ? !0 : !1;\n    }\n  else\n    (didReceiveUpdate = !1),\n      isHydrating &&\n        0 !== (workInProgress.flags & 1048576) &&\n        pushTreeId(workInProgress, treeForkCount, workInProgress.index);\n  workInProgress.lanes = 0;\n  switch (workInProgress.tag) {\n    case 16:\n      a: {\n        current = workInProgress.pendingProps;\n        var lazyComponent = workInProgress.elementType,\n          init = lazyComponent._init;\n        lazyComponent = init(lazyComponent._payload);\n        workInProgress.type = lazyComponent;\n        if (\"function\" === typeof lazyComponent)\n          shouldConstruct(lazyComponent)\n            ? ((current = resolveClassComponentProps(lazyComponent, current)),\n              (workInProgress.tag = 1),\n              (workInProgress = updateClassComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )))\n            : ((workInProgress.tag = 0),\n              (workInProgress = updateFunctionComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              )));\n        else {\n          if (void 0 !== lazyComponent && null !== lazyComponent)\n            if (\n              ((init = lazyComponent.$$typeof), init === REACT_FORWARD_REF_TYPE)\n            ) {\n              workInProgress.tag = 11;\n              workInProgress = updateForwardRef(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            } else if (init === REACT_MEMO_TYPE) {\n              workInProgress.tag = 14;\n              workInProgress = updateMemoComponent(\n                null,\n                workInProgress,\n                lazyComponent,\n                current,\n                renderLanes\n              );\n              break a;\n            }\n          workInProgress =\n            getComponentNameFromType(lazyComponent) || lazyComponent;\n          throw Error(formatProdErrorMessage(306, workInProgress, \"\"));\n        }\n      }\n      return workInProgress;\n    case 0:\n      return updateFunctionComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 1:\n      return (\n        (lazyComponent = workInProgress.type),\n        (init = resolveClassComponentProps(\n          lazyComponent,\n          workInProgress.pendingProps\n        )),\n        updateClassComponent(\n          current,\n          workInProgress,\n          lazyComponent,\n          init,\n          renderLanes\n        )\n      );\n    case 3:\n      a: {\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        );\n        if (null === current) throw Error(formatProdErrorMessage(387));\n        lazyComponent = workInProgress.pendingProps;\n        var prevState = workInProgress.memoizedState;\n        init = prevState.element;\n        cloneUpdateQueue(current, workInProgress);\n        processUpdateQueue(workInProgress, lazyComponent, null, renderLanes);\n        var nextState = workInProgress.memoizedState;\n        lazyComponent = nextState.cache;\n        pushProvider(workInProgress, CacheContext, lazyComponent);\n        lazyComponent !== prevState.cache &&\n          propagateContextChanges(\n            workInProgress,\n            [CacheContext],\n            renderLanes,\n            !0\n          );\n        suspendIfUpdateReadFromEntangledAsyncAction();\n        lazyComponent = nextState.element;\n        if (prevState.isDehydrated)\n          if (\n            ((prevState = {\n              element: lazyComponent,\n              isDehydrated: !1,\n              cache: nextState.cache\n            }),\n            (workInProgress.updateQueue.baseState = prevState),\n            (workInProgress.memoizedState = prevState),\n            workInProgress.flags & 256)\n          ) {\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            );\n            break a;\n          } else if (lazyComponent !== init) {\n            init = createCapturedValueAtFiber(\n              Error(formatProdErrorMessage(424)),\n              workInProgress\n            );\n            queueHydrationError(init);\n            workInProgress = mountHostRootWithoutHydrating(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            );\n            break a;\n          } else {\n            current = workInProgress.stateNode.containerInfo;\n            switch (current.nodeType) {\n              case 9:\n                current = current.body;\n                break;\n              default:\n                current =\n                  \"HTML\" === current.nodeName\n                    ? current.ownerDocument.body\n                    : current;\n            }\n            nextHydratableInstance = getNextHydratable(current.firstChild);\n            hydrationParentFiber = workInProgress;\n            isHydrating = !0;\n            hydrationErrors = null;\n            rootOrSingletonContext = !0;\n            renderLanes = mountChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            );\n            for (workInProgress.child = renderLanes; renderLanes; )\n              (renderLanes.flags = (renderLanes.flags & -3) | 4096),\n                (renderLanes = renderLanes.sibling);\n          }\n        else {\n          resetHydrationState();\n          if (lazyComponent === init) {\n            workInProgress = bailoutOnAlreadyFinishedWork(\n              current,\n              workInProgress,\n              renderLanes\n            );\n            break a;\n          }\n          reconcileChildren(\n            current,\n            workInProgress,\n            lazyComponent,\n            renderLanes\n          );\n        }\n        workInProgress = workInProgress.child;\n      }\n      return workInProgress;\n    case 26:\n      return (\n        markRef(current, workInProgress),\n        null === current\n          ? (renderLanes = getResource(\n              workInProgress.type,\n              null,\n              workInProgress.pendingProps,\n              null\n            ))\n            ? (workInProgress.memoizedState = renderLanes)\n            : isHydrating ||\n              ((renderLanes = workInProgress.type),\n              (current = workInProgress.pendingProps),\n              (lazyComponent = getOwnerDocumentFromRootContainer(\n                rootInstanceStackCursor.current\n              ).createElement(renderLanes)),\n              (lazyComponent[internalInstanceKey] = workInProgress),\n              (lazyComponent[internalPropsKey] = current),\n              setInitialProperties(lazyComponent, renderLanes, current),\n              markNodeAsHoistable(lazyComponent),\n              (workInProgress.stateNode = lazyComponent))\n          : (workInProgress.memoizedState = getResource(\n              workInProgress.type,\n              current.memoizedProps,\n              workInProgress.pendingProps,\n              current.memoizedState\n            )),\n        null\n      );\n    case 27:\n      return (\n        pushHostContext(workInProgress),\n        null === current &&\n          isHydrating &&\n          ((lazyComponent = workInProgress.stateNode =\n            resolveSingletonInstance(\n              workInProgress.type,\n              workInProgress.pendingProps,\n              rootInstanceStackCursor.current\n            )),\n          (hydrationParentFiber = workInProgress),\n          (rootOrSingletonContext = !0),\n          (init = nextHydratableInstance),\n          isSingletonScope(workInProgress.type)\n            ? ((previousHydratableOnEnteringScopedSingleton = init),\n              (nextHydratableInstance = getNextHydratable(\n                lazyComponent.firstChild\n              )))\n            : (nextHydratableInstance = init)),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        markRef(current, workInProgress),\n        null === current && (workInProgress.flags |= 4194304),\n        workInProgress.child\n      );\n    case 5:\n      if (null === current && isHydrating) {\n        if ((init = lazyComponent = nextHydratableInstance))\n          (lazyComponent = canHydrateInstance(\n            lazyComponent,\n            workInProgress.type,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== lazyComponent\n              ? ((workInProgress.stateNode = lazyComponent),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = getNextHydratable(\n                  lazyComponent.firstChild\n                )),\n                (rootOrSingletonContext = !1),\n                (init = !0))\n              : (init = !1);\n        init || throwOnHydrationMismatch(workInProgress);\n      }\n      pushHostContext(workInProgress);\n      init = workInProgress.type;\n      prevState = workInProgress.pendingProps;\n      nextState = null !== current ? current.memoizedProps : null;\n      lazyComponent = prevState.children;\n      shouldSetTextContent(init, prevState)\n        ? (lazyComponent = null)\n        : null !== nextState &&\n          shouldSetTextContent(init, nextState) &&\n          (workInProgress.flags |= 32);\n      null !== workInProgress.memoizedState &&\n        ((init = renderWithHooks(\n          current,\n          workInProgress,\n          TransitionAwareHostComponent,\n          null,\n          null,\n          renderLanes\n        )),\n        (HostTransitionContext._currentValue = init));\n      markRef(current, workInProgress);\n      reconcileChildren(current, workInProgress, lazyComponent, renderLanes);\n      return workInProgress.child;\n    case 6:\n      if (null === current && isHydrating) {\n        if ((current = renderLanes = nextHydratableInstance))\n          (renderLanes = canHydrateTextInstance(\n            renderLanes,\n            workInProgress.pendingProps,\n            rootOrSingletonContext\n          )),\n            null !== renderLanes\n              ? ((workInProgress.stateNode = renderLanes),\n                (hydrationParentFiber = workInProgress),\n                (nextHydratableInstance = null),\n                (current = !0))\n              : (current = !1);\n        current || throwOnHydrationMismatch(workInProgress);\n      }\n      return null;\n    case 13:\n      return updateSuspenseComponent(current, workInProgress, renderLanes);\n    case 4:\n      return (\n        pushHostContainer(\n          workInProgress,\n          workInProgress.stateNode.containerInfo\n        ),\n        (lazyComponent = workInProgress.pendingProps),\n        null === current\n          ? (workInProgress.child = reconcileChildFibers(\n              workInProgress,\n              null,\n              lazyComponent,\n              renderLanes\n            ))\n          : reconcileChildren(\n              current,\n              workInProgress,\n              lazyComponent,\n              renderLanes\n            ),\n        workInProgress.child\n      );\n    case 11:\n      return updateForwardRef(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 7:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 8:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 12:\n      return (\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 10:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        pushProvider(workInProgress, workInProgress.type, lazyComponent.value),\n        reconcileChildren(\n          current,\n          workInProgress,\n          lazyComponent.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 9:\n      return (\n        (init = workInProgress.type._context),\n        (lazyComponent = workInProgress.pendingProps.children),\n        prepareToReadContext(workInProgress),\n        (init = readContext(init)),\n        (lazyComponent = lazyComponent(init)),\n        (workInProgress.flags |= 1),\n        reconcileChildren(current, workInProgress, lazyComponent, renderLanes),\n        workInProgress.child\n      );\n    case 14:\n      return updateMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 15:\n      return updateSimpleMemoComponent(\n        current,\n        workInProgress,\n        workInProgress.type,\n        workInProgress.pendingProps,\n        renderLanes\n      );\n    case 19:\n      return updateSuspenseListComponent(current, workInProgress, renderLanes);\n    case 31:\n      return (\n        (lazyComponent = workInProgress.pendingProps),\n        (renderLanes = workInProgress.mode),\n        (lazyComponent = {\n          mode: lazyComponent.mode,\n          children: lazyComponent.children\n        }),\n        null === current\n          ? ((renderLanes = mountWorkInProgressOffscreenFiber(\n              lazyComponent,\n              renderLanes\n            )),\n            (renderLanes.ref = workInProgress.ref),\n            (workInProgress.child = renderLanes),\n            (renderLanes.return = workInProgress),\n            (workInProgress = renderLanes))\n          : ((renderLanes = createWorkInProgress(current.child, lazyComponent)),\n            (renderLanes.ref = workInProgress.ref),\n            (workInProgress.child = renderLanes),\n            (renderLanes.return = workInProgress),\n            (workInProgress = renderLanes)),\n        workInProgress\n      );\n    case 22:\n      return updateOffscreenComponent(current, workInProgress, renderLanes);\n    case 24:\n      return (\n        prepareToReadContext(workInProgress),\n        (lazyComponent = readContext(CacheContext)),\n        null === current\n          ? ((init = peekCacheFromPool()),\n            null === init &&\n              ((init = workInProgressRoot),\n              (prevState = createCache()),\n              (init.pooledCache = prevState),\n              prevState.refCount++,\n              null !== prevState && (init.pooledCacheLanes |= renderLanes),\n              (init = prevState)),\n            (workInProgress.memoizedState = {\n              parent: lazyComponent,\n              cache: init\n            }),\n            initializeUpdateQueue(workInProgress),\n            pushProvider(workInProgress, CacheContext, init))\n          : (0 !== (current.lanes & renderLanes) &&\n              (cloneUpdateQueue(current, workInProgress),\n              processUpdateQueue(workInProgress, null, null, renderLanes),\n              suspendIfUpdateReadFromEntangledAsyncAction()),\n            (init = current.memoizedState),\n            (prevState = workInProgress.memoizedState),\n            init.parent !== lazyComponent\n              ? ((init = { parent: lazyComponent, cache: lazyComponent }),\n                (workInProgress.memoizedState = init),\n                0 === workInProgress.lanes &&\n                  (workInProgress.memoizedState =\n                    workInProgress.updateQueue.baseState =\n                      init),\n                pushProvider(workInProgress, CacheContext, lazyComponent))\n              : ((lazyComponent = prevState.cache),\n                pushProvider(workInProgress, CacheContext, lazyComponent),\n                lazyComponent !== init.cache &&\n                  propagateContextChanges(\n                    workInProgress,\n                    [CacheContext],\n                    renderLanes,\n                    !0\n                  ))),\n        reconcileChildren(\n          current,\n          workInProgress,\n          workInProgress.pendingProps.children,\n          renderLanes\n        ),\n        workInProgress.child\n      );\n    case 29:\n      throw workInProgress.pendingProps;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction markUpdate(workInProgress) {\n  workInProgress.flags |= 4;\n}\nfunction preloadResourceAndSuspendIfNeeded(workInProgress, resource) {\n  if (\"stylesheet\" !== resource.type || 0 !== (resource.state.loading & 4))\n    workInProgress.flags &= -16777217;\n  else if (((workInProgress.flags |= 16777216), !preloadResource(resource))) {\n    resource = suspenseHandlerStackCursor.current;\n    if (\n      null !== resource &&\n      ((workInProgressRootRenderLanes & 4194048) ===\n      workInProgressRootRenderLanes\n        ? null !== shellBoundary\n        : ((workInProgressRootRenderLanes & 62914560) !==\n            workInProgressRootRenderLanes &&\n            0 === (workInProgressRootRenderLanes & 536870912)) ||\n          resource !== shellBoundary)\n    )\n      throw (\n        ((suspendedThenable = noopSuspenseyCommitThenable),\n        SuspenseyCommitException)\n      );\n    workInProgress.flags |= 8192;\n  }\n}\nfunction scheduleRetryEffect(workInProgress, retryQueue) {\n  null !== retryQueue && (workInProgress.flags |= 4);\n  workInProgress.flags & 16384 &&\n    ((retryQueue =\n      22 !== workInProgress.tag ? claimNextRetryLane() : 536870912),\n    (workInProgress.lanes |= retryQueue),\n    (workInProgressSuspendedRetryLanes |= retryQueue));\n}\nfunction cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {\n  if (!isHydrating)\n    switch (renderState.tailMode) {\n      case \"hidden\":\n        hasRenderedATailFallback = renderState.tail;\n        for (var lastTailNode = null; null !== hasRenderedATailFallback; )\n          null !== hasRenderedATailFallback.alternate &&\n            (lastTailNode = hasRenderedATailFallback),\n            (hasRenderedATailFallback = hasRenderedATailFallback.sibling);\n        null === lastTailNode\n          ? (renderState.tail = null)\n          : (lastTailNode.sibling = null);\n        break;\n      case \"collapsed\":\n        lastTailNode = renderState.tail;\n        for (var lastTailNode$113 = null; null !== lastTailNode; )\n          null !== lastTailNode.alternate && (lastTailNode$113 = lastTailNode),\n            (lastTailNode = lastTailNode.sibling);\n        null === lastTailNode$113\n          ? hasRenderedATailFallback || null === renderState.tail\n            ? (renderState.tail = null)\n            : (renderState.tail.sibling = null)\n          : (lastTailNode$113.sibling = null);\n    }\n}\nfunction bubbleProperties(completedWork) {\n  var didBailout =\n      null !== completedWork.alternate &&\n      completedWork.alternate.child === completedWork.child,\n    newChildLanes = 0,\n    subtreeFlags = 0;\n  if (didBailout)\n    for (var child$114 = completedWork.child; null !== child$114; )\n      (newChildLanes |= child$114.lanes | child$114.childLanes),\n        (subtreeFlags |= child$114.subtreeFlags & 65011712),\n        (subtreeFlags |= child$114.flags & 65011712),\n        (child$114.return = completedWork),\n        (child$114 = child$114.sibling);\n  else\n    for (child$114 = completedWork.child; null !== child$114; )\n      (newChildLanes |= child$114.lanes | child$114.childLanes),\n        (subtreeFlags |= child$114.subtreeFlags),\n        (subtreeFlags |= child$114.flags),\n        (child$114.return = completedWork),\n        (child$114 = child$114.sibling);\n  completedWork.subtreeFlags |= subtreeFlags;\n  completedWork.childLanes = newChildLanes;\n  return didBailout;\n}\nfunction completeWork(current, workInProgress, renderLanes) {\n  var newProps = workInProgress.pendingProps;\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 31:\n    case 16:\n    case 15:\n    case 0:\n    case 11:\n    case 7:\n    case 8:\n    case 12:\n    case 9:\n    case 14:\n      return bubbleProperties(workInProgress), null;\n    case 1:\n      return bubbleProperties(workInProgress), null;\n    case 3:\n      renderLanes = workInProgress.stateNode;\n      newProps = null;\n      null !== current && (newProps = current.memoizedState.cache);\n      workInProgress.memoizedState.cache !== newProps &&\n        (workInProgress.flags |= 2048);\n      popProvider(CacheContext);\n      popHostContainer();\n      renderLanes.pendingContext &&\n        ((renderLanes.context = renderLanes.pendingContext),\n        (renderLanes.pendingContext = null));\n      if (null === current || null === current.child)\n        popHydrationState(workInProgress)\n          ? markUpdate(workInProgress)\n          : null === current ||\n            (current.memoizedState.isDehydrated &&\n              0 === (workInProgress.flags & 256)) ||\n            ((workInProgress.flags |= 1024),\n            upgradeHydrationErrorsToRecoverable());\n      bubbleProperties(workInProgress);\n      return null;\n    case 26:\n      return (\n        (renderLanes = workInProgress.memoizedState),\n        null === current\n          ? (markUpdate(workInProgress),\n            null !== renderLanes\n              ? (bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217)))\n          : renderLanes\n            ? renderLanes !== current.memoizedState\n              ? (markUpdate(workInProgress),\n                bubbleProperties(workInProgress),\n                preloadResourceAndSuspendIfNeeded(workInProgress, renderLanes))\n              : (bubbleProperties(workInProgress),\n                (workInProgress.flags &= -16777217))\n            : (current.memoizedProps !== newProps && markUpdate(workInProgress),\n              bubbleProperties(workInProgress),\n              (workInProgress.flags &= -16777217)),\n        null\n      );\n    case 27:\n      popHostContext(workInProgress);\n      renderLanes = rootInstanceStackCursor.current;\n      var type = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        popHydrationState(workInProgress)\n          ? prepareToHydrateHostInstance(workInProgress, current)\n          : ((current = resolveSingletonInstance(type, newProps, renderLanes)),\n            (workInProgress.stateNode = current),\n            markUpdate(workInProgress));\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 5:\n      popHostContext(workInProgress);\n      renderLanes = workInProgress.type;\n      if (null !== current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (!newProps) {\n          if (null === workInProgress.stateNode)\n            throw Error(formatProdErrorMessage(166));\n          bubbleProperties(workInProgress);\n          return null;\n        }\n        current = contextStackCursor.current;\n        if (popHydrationState(workInProgress))\n          prepareToHydrateHostInstance(workInProgress, current);\n        else {\n          type = getOwnerDocumentFromRootContainer(\n            rootInstanceStackCursor.current\n          );\n          switch (current) {\n            case 1:\n              current = type.createElementNS(\n                \"http://www.w3.org/2000/svg\",\n                renderLanes\n              );\n              break;\n            case 2:\n              current = type.createElementNS(\n                \"http://www.w3.org/1998/Math/MathML\",\n                renderLanes\n              );\n              break;\n            default:\n              switch (renderLanes) {\n                case \"svg\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/2000/svg\",\n                    renderLanes\n                  );\n                  break;\n                case \"math\":\n                  current = type.createElementNS(\n                    \"http://www.w3.org/1998/Math/MathML\",\n                    renderLanes\n                  );\n                  break;\n                case \"script\":\n                  current = type.createElement(\"div\");\n                  current.innerHTML = \"<script>\\x3c/script>\";\n                  current = current.removeChild(current.firstChild);\n                  break;\n                case \"select\":\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(\"select\", { is: newProps.is })\n                      : type.createElement(\"select\");\n                  newProps.multiple\n                    ? (current.multiple = !0)\n                    : newProps.size && (current.size = newProps.size);\n                  break;\n                default:\n                  current =\n                    \"string\" === typeof newProps.is\n                      ? type.createElement(renderLanes, { is: newProps.is })\n                      : type.createElement(renderLanes);\n              }\n          }\n          current[internalInstanceKey] = workInProgress;\n          current[internalPropsKey] = newProps;\n          a: for (type = workInProgress.child; null !== type; ) {\n            if (5 === type.tag || 6 === type.tag)\n              current.appendChild(type.stateNode);\n            else if (4 !== type.tag && 27 !== type.tag && null !== type.child) {\n              type.child.return = type;\n              type = type.child;\n              continue;\n            }\n            if (type === workInProgress) break a;\n            for (; null === type.sibling; ) {\n              if (null === type.return || type.return === workInProgress)\n                break a;\n              type = type.return;\n            }\n            type.sibling.return = type.return;\n            type = type.sibling;\n          }\n          workInProgress.stateNode = current;\n          a: switch (\n            (setInitialProperties(current, renderLanes, newProps), renderLanes)\n          ) {\n            case \"button\":\n            case \"input\":\n            case \"select\":\n            case \"textarea\":\n              current = !!newProps.autoFocus;\n              break a;\n            case \"img\":\n              current = !0;\n              break a;\n            default:\n              current = !1;\n          }\n          current && markUpdate(workInProgress);\n        }\n      }\n      bubbleProperties(workInProgress);\n      workInProgress.flags &= -16777217;\n      return null;\n    case 6:\n      if (current && null != workInProgress.stateNode)\n        current.memoizedProps !== newProps && markUpdate(workInProgress);\n      else {\n        if (\"string\" !== typeof newProps && null === workInProgress.stateNode)\n          throw Error(formatProdErrorMessage(166));\n        current = rootInstanceStackCursor.current;\n        if (popHydrationState(workInProgress)) {\n          current = workInProgress.stateNode;\n          renderLanes = workInProgress.memoizedProps;\n          newProps = null;\n          type = hydrationParentFiber;\n          if (null !== type)\n            switch (type.tag) {\n              case 27:\n              case 5:\n                newProps = type.memoizedProps;\n            }\n          current[internalInstanceKey] = workInProgress;\n          current =\n            current.nodeValue === renderLanes ||\n            (null !== newProps && !0 === newProps.suppressHydrationWarning) ||\n            checkForUnmatchedText(current.nodeValue, renderLanes)\n              ? !0\n              : !1;\n          current || throwOnHydrationMismatch(workInProgress);\n        } else\n          (current =\n            getOwnerDocumentFromRootContainer(current).createTextNode(\n              newProps\n            )),\n            (current[internalInstanceKey] = workInProgress),\n            (workInProgress.stateNode = current);\n      }\n      bubbleProperties(workInProgress);\n      return null;\n    case 13:\n      newProps = workInProgress.memoizedState;\n      if (\n        null === current ||\n        (null !== current.memoizedState &&\n          null !== current.memoizedState.dehydrated)\n      ) {\n        type = popHydrationState(workInProgress);\n        if (null !== newProps && null !== newProps.dehydrated) {\n          if (null === current) {\n            if (!type) throw Error(formatProdErrorMessage(318));\n            type = workInProgress.memoizedState;\n            type = null !== type ? type.dehydrated : null;\n            if (!type) throw Error(formatProdErrorMessage(317));\n            type[internalInstanceKey] = workInProgress;\n          } else\n            resetHydrationState(),\n              0 === (workInProgress.flags & 128) &&\n                (workInProgress.memoizedState = null),\n              (workInProgress.flags |= 4);\n          bubbleProperties(workInProgress);\n          type = !1;\n        } else\n          (type = upgradeHydrationErrorsToRecoverable()),\n            null !== current &&\n              null !== current.memoizedState &&\n              (current.memoizedState.hydrationErrors = type),\n            (type = !0);\n        if (!type) {\n          if (workInProgress.flags & 256)\n            return popSuspenseHandler(workInProgress), workInProgress;\n          popSuspenseHandler(workInProgress);\n          return null;\n        }\n      }\n      popSuspenseHandler(workInProgress);\n      if (0 !== (workInProgress.flags & 128))\n        return (workInProgress.lanes = renderLanes), workInProgress;\n      renderLanes = null !== newProps;\n      current = null !== current && null !== current.memoizedState;\n      if (renderLanes) {\n        newProps = workInProgress.child;\n        type = null;\n        null !== newProps.alternate &&\n          null !== newProps.alternate.memoizedState &&\n          null !== newProps.alternate.memoizedState.cachePool &&\n          (type = newProps.alternate.memoizedState.cachePool.pool);\n        var cache$127 = null;\n        null !== newProps.memoizedState &&\n          null !== newProps.memoizedState.cachePool &&\n          (cache$127 = newProps.memoizedState.cachePool.pool);\n        cache$127 !== type && (newProps.flags |= 2048);\n      }\n      renderLanes !== current &&\n        renderLanes &&\n        (workInProgress.child.flags |= 8192);\n      scheduleRetryEffect(workInProgress, workInProgress.updateQueue);\n      bubbleProperties(workInProgress);\n      return null;\n    case 4:\n      return (\n        popHostContainer(),\n        null === current &&\n          listenToAllSupportedEvents(workInProgress.stateNode.containerInfo),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 10:\n      return (\n        popProvider(workInProgress.type), bubbleProperties(workInProgress), null\n      );\n    case 19:\n      pop(suspenseStackCursor);\n      type = workInProgress.memoizedState;\n      if (null === type) return bubbleProperties(workInProgress), null;\n      newProps = 0 !== (workInProgress.flags & 128);\n      cache$127 = type.rendering;\n      if (null === cache$127)\n        if (newProps) cutOffTailIfNeeded(type, !1);\n        else {\n          if (\n            0 !== workInProgressRootExitStatus ||\n            (null !== current && 0 !== (current.flags & 128))\n          )\n            for (current = workInProgress.child; null !== current; ) {\n              cache$127 = findFirstSuspended(current);\n              if (null !== cache$127) {\n                workInProgress.flags |= 128;\n                cutOffTailIfNeeded(type, !1);\n                current = cache$127.updateQueue;\n                workInProgress.updateQueue = current;\n                scheduleRetryEffect(workInProgress, current);\n                workInProgress.subtreeFlags = 0;\n                current = renderLanes;\n                for (renderLanes = workInProgress.child; null !== renderLanes; )\n                  resetWorkInProgress(renderLanes, current),\n                    (renderLanes = renderLanes.sibling);\n                push(\n                  suspenseStackCursor,\n                  (suspenseStackCursor.current & 1) | 2\n                );\n                return workInProgress.child;\n              }\n              current = current.sibling;\n            }\n          null !== type.tail &&\n            now() > workInProgressRootRenderTargetTime &&\n            ((workInProgress.flags |= 128),\n            (newProps = !0),\n            cutOffTailIfNeeded(type, !1),\n            (workInProgress.lanes = 4194304));\n        }\n      else {\n        if (!newProps)\n          if (((current = findFirstSuspended(cache$127)), null !== current)) {\n            if (\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              (current = current.updateQueue),\n              (workInProgress.updateQueue = current),\n              scheduleRetryEffect(workInProgress, current),\n              cutOffTailIfNeeded(type, !0),\n              null === type.tail &&\n                \"hidden\" === type.tailMode &&\n                !cache$127.alternate &&\n                !isHydrating)\n            )\n              return bubbleProperties(workInProgress), null;\n          } else\n            2 * now() - type.renderingStartTime >\n              workInProgressRootRenderTargetTime &&\n              536870912 !== renderLanes &&\n              ((workInProgress.flags |= 128),\n              (newProps = !0),\n              cutOffTailIfNeeded(type, !1),\n              (workInProgress.lanes = 4194304));\n        type.isBackwards\n          ? ((cache$127.sibling = workInProgress.child),\n            (workInProgress.child = cache$127))\n          : ((current = type.last),\n            null !== current\n              ? (current.sibling = cache$127)\n              : (workInProgress.child = cache$127),\n            (type.last = cache$127));\n      }\n      if (null !== type.tail)\n        return (\n          (workInProgress = type.tail),\n          (type.rendering = workInProgress),\n          (type.tail = workInProgress.sibling),\n          (type.renderingStartTime = now()),\n          (workInProgress.sibling = null),\n          (current = suspenseStackCursor.current),\n          push(suspenseStackCursor, newProps ? (current & 1) | 2 : current & 1),\n          workInProgress\n        );\n      bubbleProperties(workInProgress);\n      return null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        (newProps = null !== workInProgress.memoizedState),\n        null !== current\n          ? (null !== current.memoizedState) !== newProps &&\n            (workInProgress.flags |= 8192)\n          : newProps && (workInProgress.flags |= 8192),\n        newProps\n          ? 0 !== (renderLanes & 536870912) &&\n            0 === (workInProgress.flags & 128) &&\n            (bubbleProperties(workInProgress),\n            workInProgress.subtreeFlags & 6 && (workInProgress.flags |= 8192))\n          : bubbleProperties(workInProgress),\n        (renderLanes = workInProgress.updateQueue),\n        null !== renderLanes &&\n          scheduleRetryEffect(workInProgress, renderLanes.retryQueue),\n        (renderLanes = null),\n        null !== current &&\n          null !== current.memoizedState &&\n          null !== current.memoizedState.cachePool &&\n          (renderLanes = current.memoizedState.cachePool.pool),\n        (newProps = null),\n        null !== workInProgress.memoizedState &&\n          null !== workInProgress.memoizedState.cachePool &&\n          (newProps = workInProgress.memoizedState.cachePool.pool),\n        newProps !== renderLanes && (workInProgress.flags |= 2048),\n        null !== current && pop(resumedCache),\n        null\n      );\n    case 24:\n      return (\n        (renderLanes = null),\n        null !== current && (renderLanes = current.memoizedState.cache),\n        workInProgress.memoizedState.cache !== renderLanes &&\n          (workInProgress.flags |= 2048),\n        popProvider(CacheContext),\n        bubbleProperties(workInProgress),\n        null\n      );\n    case 25:\n      return null;\n    case 30:\n      return null;\n  }\n  throw Error(formatProdErrorMessage(156, workInProgress.tag));\n}\nfunction unwindWork(current, workInProgress) {\n  popTreeContext(workInProgress);\n  switch (workInProgress.tag) {\n    case 1:\n      return (\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 3:\n      return (\n        popProvider(CacheContext),\n        popHostContainer(),\n        (current = workInProgress.flags),\n        0 !== (current & 65536) && 0 === (current & 128)\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 26:\n    case 27:\n    case 5:\n      return popHostContext(workInProgress), null;\n    case 13:\n      popSuspenseHandler(workInProgress);\n      current = workInProgress.memoizedState;\n      if (null !== current && null !== current.dehydrated) {\n        if (null === workInProgress.alternate)\n          throw Error(formatProdErrorMessage(340));\n        resetHydrationState();\n      }\n      current = workInProgress.flags;\n      return current & 65536\n        ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n        : null;\n    case 19:\n      return pop(suspenseStackCursor), null;\n    case 4:\n      return popHostContainer(), null;\n    case 10:\n      return popProvider(workInProgress.type), null;\n    case 22:\n    case 23:\n      return (\n        popSuspenseHandler(workInProgress),\n        popHiddenContext(),\n        null !== current && pop(resumedCache),\n        (current = workInProgress.flags),\n        current & 65536\n          ? ((workInProgress.flags = (current & -65537) | 128), workInProgress)\n          : null\n      );\n    case 24:\n      return popProvider(CacheContext), null;\n    case 25:\n      return null;\n    default:\n      return null;\n  }\n}\nfunction unwindInterruptedWork(current, interruptedWork) {\n  popTreeContext(interruptedWork);\n  switch (interruptedWork.tag) {\n    case 3:\n      popProvider(CacheContext);\n      popHostContainer();\n      break;\n    case 26:\n    case 27:\n    case 5:\n      popHostContext(interruptedWork);\n      break;\n    case 4:\n      popHostContainer();\n      break;\n    case 13:\n      popSuspenseHandler(interruptedWork);\n      break;\n    case 19:\n      pop(suspenseStackCursor);\n      break;\n    case 10:\n      popProvider(interruptedWork.type);\n      break;\n    case 22:\n    case 23:\n      popSuspenseHandler(interruptedWork);\n      popHiddenContext();\n      null !== current && pop(resumedCache);\n      break;\n    case 24:\n      popProvider(CacheContext);\n  }\n}\nfunction commitHookEffectListMount(flags, finishedWork) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          lastEffect = void 0;\n          var create = updateQueue.create,\n            inst = updateQueue.inst;\n          lastEffect = create();\n          inst.destroy = lastEffect;\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHookEffectListUnmount(\n  flags,\n  finishedWork,\n  nearestMountedAncestor$jscomp$0\n) {\n  try {\n    var updateQueue = finishedWork.updateQueue,\n      lastEffect = null !== updateQueue ? updateQueue.lastEffect : null;\n    if (null !== lastEffect) {\n      var firstEffect = lastEffect.next;\n      updateQueue = firstEffect;\n      do {\n        if ((updateQueue.tag & flags) === flags) {\n          var inst = updateQueue.inst,\n            destroy = inst.destroy;\n          if (void 0 !== destroy) {\n            inst.destroy = void 0;\n            lastEffect = finishedWork;\n            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0,\n              destroy_ = destroy;\n            try {\n              destroy_();\n            } catch (error) {\n              captureCommitPhaseError(\n                lastEffect,\n                nearestMountedAncestor,\n                error\n              );\n            }\n          }\n        }\n        updateQueue = updateQueue.next;\n      } while (updateQueue !== firstEffect);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitClassCallbacks(finishedWork) {\n  var updateQueue = finishedWork.updateQueue;\n  if (null !== updateQueue) {\n    var instance = finishedWork.stateNode;\n    try {\n      commitCallbacks(updateQueue, instance);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n  }\n}\nfunction safelyCallComponentWillUnmount(\n  current,\n  nearestMountedAncestor,\n  instance\n) {\n  instance.props = resolveClassComponentProps(\n    current.type,\n    current.memoizedProps\n  );\n  instance.state = current.memoizedState;\n  try {\n    instance.componentWillUnmount();\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyAttachRef(current, nearestMountedAncestor) {\n  try {\n    var ref = current.ref;\n    if (null !== ref) {\n      switch (current.tag) {\n        case 26:\n        case 27:\n        case 5:\n          var instanceToUse = current.stateNode;\n          break;\n        case 30:\n          instanceToUse = current.stateNode;\n          break;\n        default:\n          instanceToUse = current.stateNode;\n      }\n      \"function\" === typeof ref\n        ? (current.refCleanup = ref(instanceToUse))\n        : (ref.current = instanceToUse);\n    }\n  } catch (error) {\n    captureCommitPhaseError(current, nearestMountedAncestor, error);\n  }\n}\nfunction safelyDetachRef(current, nearestMountedAncestor) {\n  var ref = current.ref,\n    refCleanup = current.refCleanup;\n  if (null !== ref)\n    if (\"function\" === typeof refCleanup)\n      try {\n        refCleanup();\n      } catch (error) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error);\n      } finally {\n        (current.refCleanup = null),\n          (current = current.alternate),\n          null != current && (current.refCleanup = null);\n      }\n    else if (\"function\" === typeof ref)\n      try {\n        ref(null);\n      } catch (error$143) {\n        captureCommitPhaseError(current, nearestMountedAncestor, error$143);\n      }\n    else ref.current = null;\n}\nfunction commitHostMount(finishedWork) {\n  var type = finishedWork.type,\n    props = finishedWork.memoizedProps,\n    instance = finishedWork.stateNode;\n  try {\n    a: switch (type) {\n      case \"button\":\n      case \"input\":\n      case \"select\":\n      case \"textarea\":\n        props.autoFocus && instance.focus();\n        break a;\n      case \"img\":\n        props.src\n          ? (instance.src = props.src)\n          : props.srcSet && (instance.srcset = props.srcSet);\n    }\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction commitHostUpdate(finishedWork, newProps, oldProps) {\n  try {\n    var domElement = finishedWork.stateNode;\n    updateProperties(domElement, finishedWork.type, oldProps, newProps);\n    domElement[internalPropsKey] = newProps;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nfunction isHostParent(fiber) {\n  return (\n    5 === fiber.tag ||\n    3 === fiber.tag ||\n    26 === fiber.tag ||\n    (27 === fiber.tag && isSingletonScope(fiber.type)) ||\n    4 === fiber.tag\n  );\n}\nfunction getHostSibling(fiber) {\n  a: for (;;) {\n    for (; null === fiber.sibling; ) {\n      if (null === fiber.return || isHostParent(fiber.return)) return null;\n      fiber = fiber.return;\n    }\n    fiber.sibling.return = fiber.return;\n    for (\n      fiber = fiber.sibling;\n      5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;\n\n    ) {\n      if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;\n      if (fiber.flags & 2) continue a;\n      if (null === fiber.child || 4 === fiber.tag) continue a;\n      else (fiber.child.return = fiber), (fiber = fiber.child);\n    }\n    if (!(fiber.flags & 2)) return fiber.stateNode;\n  }\n}\nfunction insertOrAppendPlacementNodeIntoContainer(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before\n        ? (9 === parent.nodeType\n            ? parent.body\n            : \"HTML\" === parent.nodeName\n              ? parent.ownerDocument.body\n              : parent\n          ).insertBefore(node, before)\n        : ((before =\n            9 === parent.nodeType\n              ? parent.body\n              : \"HTML\" === parent.nodeName\n                ? parent.ownerDocument.body\n                : parent),\n          before.appendChild(node),\n          (parent = parent._reactRootContainer),\n          (null !== parent && void 0 !== parent) ||\n            null !== before.onclick ||\n            (before.onclick = noop$1));\n  else if (\n    4 !== tag &&\n    (27 === tag &&\n      isSingletonScope(node.type) &&\n      ((parent = node.stateNode), (before = null)),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNodeIntoContainer(node, before, parent),\n        (node = node.sibling);\n}\nfunction insertOrAppendPlacementNode(node, before, parent) {\n  var tag = node.tag;\n  if (5 === tag || 6 === tag)\n    (node = node.stateNode),\n      before ? parent.insertBefore(node, before) : parent.appendChild(node);\n  else if (\n    4 !== tag &&\n    (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),\n    (node = node.child),\n    null !== node)\n  )\n    for (\n      insertOrAppendPlacementNode(node, before, parent), node = node.sibling;\n      null !== node;\n\n    )\n      insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);\n}\nfunction commitHostSingletonAcquisition(finishedWork) {\n  var singleton = finishedWork.stateNode,\n    props = finishedWork.memoizedProps;\n  try {\n    for (\n      var type = finishedWork.type, attributes = singleton.attributes;\n      attributes.length;\n\n    )\n      singleton.removeAttributeNode(attributes[0]);\n    setInitialProperties(singleton, type, props);\n    singleton[internalInstanceKey] = finishedWork;\n    singleton[internalPropsKey] = props;\n  } catch (error) {\n    captureCommitPhaseError(finishedWork, finishedWork.return, error);\n  }\n}\nvar offscreenSubtreeIsHidden = !1,\n  offscreenSubtreeWasHidden = !1,\n  needsFormReset = !1,\n  PossiblyWeakSet = \"function\" === typeof WeakSet ? WeakSet : Set,\n  nextEffect = null;\nfunction commitBeforeMutationEffects(root, firstChild) {\n  root = root.containerInfo;\n  eventsEnabled = _enabled;\n  root = getActiveElementDeep(root);\n  if (hasSelectionCapabilities(root)) {\n    if (\"selectionStart\" in root)\n      var JSCompiler_temp = {\n        start: root.selectionStart,\n        end: root.selectionEnd\n      };\n    else\n      a: {\n        JSCompiler_temp =\n          ((JSCompiler_temp = root.ownerDocument) &&\n            JSCompiler_temp.defaultView) ||\n          window;\n        var selection =\n          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();\n        if (selection && 0 !== selection.rangeCount) {\n          JSCompiler_temp = selection.anchorNode;\n          var anchorOffset = selection.anchorOffset,\n            focusNode = selection.focusNode;\n          selection = selection.focusOffset;\n          try {\n            JSCompiler_temp.nodeType, focusNode.nodeType;\n          } catch (e$20) {\n            JSCompiler_temp = null;\n            break a;\n          }\n          var length = 0,\n            start = -1,\n            end = -1,\n            indexWithinAnchor = 0,\n            indexWithinFocus = 0,\n            node = root,\n            parentNode = null;\n          b: for (;;) {\n            for (var next; ; ) {\n              node !== JSCompiler_temp ||\n                (0 !== anchorOffset && 3 !== node.nodeType) ||\n                (start = length + anchorOffset);\n              node !== focusNode ||\n                (0 !== selection && 3 !== node.nodeType) ||\n                (end = length + selection);\n              3 === node.nodeType && (length += node.nodeValue.length);\n              if (null === (next = node.firstChild)) break;\n              parentNode = node;\n              node = next;\n            }\n            for (;;) {\n              if (node === root) break b;\n              parentNode === JSCompiler_temp &&\n                ++indexWithinAnchor === anchorOffset &&\n                (start = length);\n              parentNode === focusNode &&\n                ++indexWithinFocus === selection &&\n                (end = length);\n              if (null !== (next = node.nextSibling)) break;\n              node = parentNode;\n              parentNode = node.parentNode;\n            }\n            node = next;\n          }\n          JSCompiler_temp =\n            -1 === start || -1 === end ? null : { start: start, end: end };\n        } else JSCompiler_temp = null;\n      }\n    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };\n  } else JSCompiler_temp = null;\n  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };\n  _enabled = !1;\n  for (nextEffect = firstChild; null !== nextEffect; )\n    if (\n      ((firstChild = nextEffect),\n      (root = firstChild.child),\n      0 !== (firstChild.subtreeFlags & 1024) && null !== root)\n    )\n      (root.return = firstChild), (nextEffect = root);\n    else\n      for (; null !== nextEffect; ) {\n        firstChild = nextEffect;\n        focusNode = firstChild.alternate;\n        root = firstChild.flags;\n        switch (firstChild.tag) {\n          case 0:\n            break;\n          case 11:\n          case 15:\n            break;\n          case 1:\n            if (0 !== (root & 1024) && null !== focusNode) {\n              root = void 0;\n              JSCompiler_temp = firstChild;\n              anchorOffset = focusNode.memoizedProps;\n              focusNode = focusNode.memoizedState;\n              selection = JSCompiler_temp.stateNode;\n              try {\n                var resolvedPrevProps = resolveClassComponentProps(\n                  JSCompiler_temp.type,\n                  anchorOffset,\n                  JSCompiler_temp.elementType === JSCompiler_temp.type\n                );\n                root = selection.getSnapshotBeforeUpdate(\n                  resolvedPrevProps,\n                  focusNode\n                );\n                selection.__reactInternalSnapshotBeforeUpdate = root;\n              } catch (error) {\n                captureCommitPhaseError(\n                  JSCompiler_temp,\n                  JSCompiler_temp.return,\n                  error\n                );\n              }\n            }\n            break;\n          case 3:\n            if (0 !== (root & 1024))\n              if (\n                ((root = firstChild.stateNode.containerInfo),\n                (JSCompiler_temp = root.nodeType),\n                9 === JSCompiler_temp)\n              )\n                clearContainerSparingly(root);\n              else if (1 === JSCompiler_temp)\n                switch (root.nodeName) {\n                  case \"HEAD\":\n                  case \"HTML\":\n                  case \"BODY\":\n                    clearContainerSparingly(root);\n                    break;\n                  default:\n                    root.textContent = \"\";\n                }\n            break;\n          case 5:\n          case 26:\n          case 27:\n          case 6:\n          case 4:\n          case 17:\n            break;\n          default:\n            if (0 !== (root & 1024)) throw Error(formatProdErrorMessage(163));\n        }\n        root = firstChild.sibling;\n        if (null !== root) {\n          root.return = firstChild.return;\n          nextEffect = root;\n          break;\n        }\n        nextEffect = firstChild.return;\n      }\n}\nfunction commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitHookEffectListMount(5, finishedWork);\n      break;\n    case 1:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (flags & 4)\n        if (((finishedRoot = finishedWork.stateNode), null === current))\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(finishedWork, finishedWork.return, error);\n          }\n        else {\n          var prevProps = resolveClassComponentProps(\n            finishedWork.type,\n            current.memoizedProps\n          );\n          current = current.memoizedState;\n          try {\n            finishedRoot.componentDidUpdate(\n              prevProps,\n              current,\n              finishedRoot.__reactInternalSnapshotBeforeUpdate\n            );\n          } catch (error$142) {\n            captureCommitPhaseError(\n              finishedWork,\n              finishedWork.return,\n              error$142\n            );\n          }\n        }\n      flags & 64 && commitClassCallbacks(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      if (\n        flags & 64 &&\n        ((finishedRoot = finishedWork.updateQueue), null !== finishedRoot)\n      ) {\n        current = null;\n        if (null !== finishedWork.child)\n          switch (finishedWork.child.tag) {\n            case 27:\n            case 5:\n              current = finishedWork.child.stateNode;\n              break;\n            case 1:\n              current = finishedWork.child.stateNode;\n          }\n        try {\n          commitCallbacks(finishedRoot, current);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 27:\n      null === current &&\n        flags & 4 &&\n        commitHostSingletonAcquisition(finishedWork);\n    case 26:\n    case 5:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      null === current && flags & 4 && commitHostMount(finishedWork);\n      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);\n      break;\n    case 12:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n      flags & 4 && commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n      flags & 64 &&\n        ((finishedRoot = finishedWork.memoizedState),\n        null !== finishedRoot &&\n          ((finishedRoot = finishedRoot.dehydrated),\n          null !== finishedRoot &&\n            ((finishedWork = retryDehydratedSuspenseBoundary.bind(\n              null,\n              finishedWork\n            )),\n            registerSuspenseInstanceRetry(finishedRoot, finishedWork))));\n      break;\n    case 22:\n      flags = null !== finishedWork.memoizedState || offscreenSubtreeIsHidden;\n      if (!flags) {\n        current =\n          (null !== current && null !== current.memoizedState) ||\n          offscreenSubtreeWasHidden;\n        prevProps = offscreenSubtreeIsHidden;\n        var prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n        offscreenSubtreeIsHidden = flags;\n        (offscreenSubtreeWasHidden = current) && !prevOffscreenSubtreeWasHidden\n          ? recursivelyTraverseReappearLayoutEffects(\n              finishedRoot,\n              finishedWork,\n              0 !== (finishedWork.subtreeFlags & 8772)\n            )\n          : recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n        offscreenSubtreeIsHidden = prevProps;\n        offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      }\n      break;\n    case 30:\n      break;\n    default:\n      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);\n  }\n}\nfunction detachFiberAfterEffects(fiber) {\n  var alternate = fiber.alternate;\n  null !== alternate &&\n    ((fiber.alternate = null), detachFiberAfterEffects(alternate));\n  fiber.child = null;\n  fiber.deletions = null;\n  fiber.sibling = null;\n  5 === fiber.tag &&\n    ((alternate = fiber.stateNode),\n    null !== alternate && detachDeletedInstance(alternate));\n  fiber.stateNode = null;\n  fiber.return = null;\n  fiber.dependencies = null;\n  fiber.memoizedProps = null;\n  fiber.memoizedState = null;\n  fiber.pendingProps = null;\n  fiber.stateNode = null;\n  fiber.updateQueue = null;\n}\nvar hostParent = null,\n  hostParentIsContainer = !1;\nfunction recursivelyTraverseDeletionEffects(\n  finishedRoot,\n  nearestMountedAncestor,\n  parent\n) {\n  for (parent = parent.child; null !== parent; )\n    commitDeletionEffectsOnFiber(finishedRoot, nearestMountedAncestor, parent),\n      (parent = parent.sibling);\n}\nfunction commitDeletionEffectsOnFiber(\n  finishedRoot,\n  nearestMountedAncestor,\n  deletedFiber\n) {\n  if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberUnmount)\n    try {\n      injectedHook.onCommitFiberUnmount(rendererID, deletedFiber);\n    } catch (err) {}\n  switch (deletedFiber.tag) {\n    case 26:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      deletedFiber.memoizedState\n        ? deletedFiber.memoizedState.count--\n        : deletedFiber.stateNode &&\n          ((deletedFiber = deletedFiber.stateNode),\n          deletedFiber.parentNode.removeChild(deletedFiber));\n      break;\n    case 27:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n      var prevHostParent = hostParent,\n        prevHostParentIsContainer = hostParentIsContainer;\n      isSingletonScope(deletedFiber.type) &&\n        ((hostParent = deletedFiber.stateNode), (hostParentIsContainer = !1));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      releaseSingletonInstance(deletedFiber.stateNode);\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 5:\n      offscreenSubtreeWasHidden ||\n        safelyDetachRef(deletedFiber, nearestMountedAncestor);\n    case 6:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = null;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      if (null !== hostParent)\n        if (hostParentIsContainer)\n          try {\n            (9 === hostParent.nodeType\n              ? hostParent.body\n              : \"HTML\" === hostParent.nodeName\n                ? hostParent.ownerDocument.body\n                : hostParent\n            ).removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n        else\n          try {\n            hostParent.removeChild(deletedFiber.stateNode);\n          } catch (error) {\n            captureCommitPhaseError(\n              deletedFiber,\n              nearestMountedAncestor,\n              error\n            );\n          }\n      break;\n    case 18:\n      null !== hostParent &&\n        (hostParentIsContainer\n          ? ((finishedRoot = hostParent),\n            clearSuspenseBoundary(\n              9 === finishedRoot.nodeType\n                ? finishedRoot.body\n                : \"HTML\" === finishedRoot.nodeName\n                  ? finishedRoot.ownerDocument.body\n                  : finishedRoot,\n              deletedFiber.stateNode\n            ),\n            retryIfBlockedOn(finishedRoot))\n          : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));\n      break;\n    case 4:\n      prevHostParent = hostParent;\n      prevHostParentIsContainer = hostParentIsContainer;\n      hostParent = deletedFiber.stateNode.containerInfo;\n      hostParentIsContainer = !0;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      hostParent = prevHostParent;\n      hostParentIsContainer = prevHostParentIsContainer;\n      break;\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(2, deletedFiber, nearestMountedAncestor);\n      offscreenSubtreeWasHidden ||\n        commitHookEffectListUnmount(4, deletedFiber, nearestMountedAncestor);\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 1:\n      offscreenSubtreeWasHidden ||\n        (safelyDetachRef(deletedFiber, nearestMountedAncestor),\n        (prevHostParent = deletedFiber.stateNode),\n        \"function\" === typeof prevHostParent.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            deletedFiber,\n            nearestMountedAncestor,\n            prevHostParent\n          ));\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 21:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      break;\n    case 22:\n      offscreenSubtreeWasHidden =\n        (prevHostParent = offscreenSubtreeWasHidden) ||\n        null !== deletedFiber.memoizedState;\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n      offscreenSubtreeWasHidden = prevHostParent;\n      break;\n    default:\n      recursivelyTraverseDeletionEffects(\n        finishedRoot,\n        nearestMountedAncestor,\n        deletedFiber\n      );\n  }\n}\nfunction commitSuspenseHydrationCallbacks(finishedRoot, finishedWork) {\n  if (\n    null === finishedWork.memoizedState &&\n    ((finishedRoot = finishedWork.alternate),\n    null !== finishedRoot &&\n      ((finishedRoot = finishedRoot.memoizedState),\n      null !== finishedRoot &&\n        ((finishedRoot = finishedRoot.dehydrated), null !== finishedRoot)))\n  )\n    try {\n      retryIfBlockedOn(finishedRoot);\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n}\nfunction getRetryCache(finishedWork) {\n  switch (finishedWork.tag) {\n    case 13:\n    case 19:\n      var retryCache = finishedWork.stateNode;\n      null === retryCache &&\n        (retryCache = finishedWork.stateNode = new PossiblyWeakSet());\n      return retryCache;\n    case 22:\n      return (\n        (finishedWork = finishedWork.stateNode),\n        (retryCache = finishedWork._retryCache),\n        null === retryCache &&\n          (retryCache = finishedWork._retryCache = new PossiblyWeakSet()),\n        retryCache\n      );\n    default:\n      throw Error(formatProdErrorMessage(435, finishedWork.tag));\n  }\n}\nfunction attachSuspenseRetryListeners(finishedWork, wakeables) {\n  var retryCache = getRetryCache(finishedWork);\n  wakeables.forEach(function (wakeable) {\n    var retry = resolveRetryWakeable.bind(null, finishedWork, wakeable);\n    retryCache.has(wakeable) ||\n      (retryCache.add(wakeable), wakeable.then(retry, retry));\n  });\n}\nfunction recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (null !== deletions)\n    for (var i = 0; i < deletions.length; i++) {\n      var childToDelete = deletions[i],\n        root = root$jscomp$0,\n        returnFiber = parentFiber,\n        parent = returnFiber;\n      a: for (; null !== parent; ) {\n        switch (parent.tag) {\n          case 27:\n            if (isSingletonScope(parent.type)) {\n              hostParent = parent.stateNode;\n              hostParentIsContainer = !1;\n              break a;\n            }\n            break;\n          case 5:\n            hostParent = parent.stateNode;\n            hostParentIsContainer = !1;\n            break a;\n          case 3:\n          case 4:\n            hostParent = parent.stateNode.containerInfo;\n            hostParentIsContainer = !0;\n            break a;\n        }\n        parent = parent.return;\n      }\n      if (null === hostParent) throw Error(formatProdErrorMessage(160));\n      commitDeletionEffectsOnFiber(root, returnFiber, childToDelete);\n      hostParent = null;\n      hostParentIsContainer = !1;\n      root = childToDelete.alternate;\n      null !== root && (root.return = null);\n      childToDelete.return = null;\n    }\n  if (parentFiber.subtreeFlags & 13878)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitMutationEffectsOnFiber(parentFiber, root$jscomp$0),\n        (parentFiber = parentFiber.sibling);\n}\nvar currentHoistableRoot = null;\nfunction commitMutationEffectsOnFiber(finishedWork, root) {\n  var current = finishedWork.alternate,\n    flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 14:\n    case 15:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        (commitHookEffectListUnmount(3, finishedWork, finishedWork.return),\n        commitHookEffectListMount(3, finishedWork),\n        commitHookEffectListUnmount(5, finishedWork, finishedWork.return));\n      break;\n    case 1:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      flags & 64 &&\n        offscreenSubtreeIsHidden &&\n        ((finishedWork = finishedWork.updateQueue),\n        null !== finishedWork &&\n          ((flags = finishedWork.callbacks),\n          null !== flags &&\n            ((current = finishedWork.shared.hiddenCallbacks),\n            (finishedWork.shared.hiddenCallbacks =\n              null === current ? flags : current.concat(flags)))));\n      break;\n    case 26:\n      var hoistableRoot = currentHoistableRoot;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (flags & 4) {\n        var currentResource = null !== current ? current.memoizedState : null;\n        flags = finishedWork.memoizedState;\n        if (null === current)\n          if (null === flags)\n            if (null === finishedWork.stateNode) {\n              a: {\n                flags = finishedWork.type;\n                current = finishedWork.memoizedProps;\n                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n                b: switch (flags) {\n                  case \"title\":\n                    currentResource =\n                      hoistableRoot.getElementsByTagName(\"title\")[0];\n                    if (\n                      !currentResource ||\n                      currentResource[internalHoistableMarker] ||\n                      currentResource[internalInstanceKey] ||\n                      \"http://www.w3.org/2000/svg\" ===\n                        currentResource.namespaceURI ||\n                      currentResource.hasAttribute(\"itemprop\")\n                    )\n                      (currentResource = hoistableRoot.createElement(flags)),\n                        hoistableRoot.head.insertBefore(\n                          currentResource,\n                          hoistableRoot.querySelector(\"head > title\")\n                        );\n                    setInitialProperties(currentResource, flags, current);\n                    currentResource[internalInstanceKey] = finishedWork;\n                    markNodeAsHoistable(currentResource);\n                    flags = currentResource;\n                    break a;\n                  case \"link\":\n                    var maybeNodes = getHydratableHoistableCache(\n                      \"link\",\n                      \"href\",\n                      hoistableRoot\n                    ).get(flags + (current.href || \"\"));\n                    if (maybeNodes)\n                      for (var i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"href\") ===\n                            (null == current.href || \"\" === current.href\n                              ? null\n                              : current.href) &&\n                            currentResource.getAttribute(\"rel\") ===\n                              (null == current.rel ? null : current.rel) &&\n                            currentResource.getAttribute(\"title\") ===\n                              (null == current.title ? null : current.title) &&\n                            currentResource.getAttribute(\"crossorigin\") ===\n                              (null == current.crossOrigin\n                                ? null\n                                : current.crossOrigin))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  case \"meta\":\n                    if (\n                      (maybeNodes = getHydratableHoistableCache(\n                        \"meta\",\n                        \"content\",\n                        hoistableRoot\n                      ).get(flags + (current.content || \"\")))\n                    )\n                      for (i = 0; i < maybeNodes.length; i++)\n                        if (\n                          ((currentResource = maybeNodes[i]),\n                          currentResource.getAttribute(\"content\") ===\n                            (null == current.content\n                              ? null\n                              : \"\" + current.content) &&\n                            currentResource.getAttribute(\"name\") ===\n                              (null == current.name ? null : current.name) &&\n                            currentResource.getAttribute(\"property\") ===\n                              (null == current.property\n                                ? null\n                                : current.property) &&\n                            currentResource.getAttribute(\"http-equiv\") ===\n                              (null == current.httpEquiv\n                                ? null\n                                : current.httpEquiv) &&\n                            currentResource.getAttribute(\"charset\") ===\n                              (null == current.charSet\n                                ? null\n                                : current.charSet))\n                        ) {\n                          maybeNodes.splice(i, 1);\n                          break b;\n                        }\n                    currentResource = hoistableRoot.createElement(flags);\n                    setInitialProperties(currentResource, flags, current);\n                    hoistableRoot.head.appendChild(currentResource);\n                    break;\n                  default:\n                    throw Error(formatProdErrorMessage(468, flags));\n                }\n                currentResource[internalInstanceKey] = finishedWork;\n                markNodeAsHoistable(currentResource);\n                flags = currentResource;\n              }\n              finishedWork.stateNode = flags;\n            } else\n              mountHoistable(\n                hoistableRoot,\n                finishedWork.type,\n                finishedWork.stateNode\n              );\n          else\n            finishedWork.stateNode = acquireResource(\n              hoistableRoot,\n              flags,\n              finishedWork.memoizedProps\n            );\n        else\n          currentResource !== flags\n            ? (null === currentResource\n                ? null !== current.stateNode &&\n                  ((current = current.stateNode),\n                  current.parentNode.removeChild(current))\n                : currentResource.count--,\n              null === flags\n                ? mountHoistable(\n                    hoistableRoot,\n                    finishedWork.type,\n                    finishedWork.stateNode\n                  )\n                : acquireResource(\n                    hoistableRoot,\n                    flags,\n                    finishedWork.memoizedProps\n                  ))\n            : null === flags &&\n              null !== finishedWork.stateNode &&\n              commitHostUpdate(\n                finishedWork,\n                finishedWork.memoizedProps,\n                current.memoizedProps\n              );\n      }\n      break;\n    case 27:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      null !== current &&\n        flags & 4 &&\n        commitHostUpdate(\n          finishedWork,\n          finishedWork.memoizedProps,\n          current.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 512 &&\n        (offscreenSubtreeWasHidden ||\n          null === current ||\n          safelyDetachRef(current, current.return));\n      if (finishedWork.flags & 32) {\n        hoistableRoot = finishedWork.stateNode;\n        try {\n          setTextContent(hoistableRoot, \"\");\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      flags & 4 &&\n        null != finishedWork.stateNode &&\n        ((hoistableRoot = finishedWork.memoizedProps),\n        commitHostUpdate(\n          finishedWork,\n          hoistableRoot,\n          null !== current ? current.memoizedProps : hoistableRoot\n        ));\n      flags & 1024 && (needsFormReset = !0);\n      break;\n    case 6:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4) {\n        if (null === finishedWork.stateNode)\n          throw Error(formatProdErrorMessage(162));\n        flags = finishedWork.memoizedProps;\n        current = finishedWork.stateNode;\n        try {\n          current.nodeValue = flags;\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      }\n      break;\n    case 3:\n      tagCaches = null;\n      hoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(root.containerInfo);\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      currentHoistableRoot = hoistableRoot;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 4 && null !== current && current.memoizedState.isDehydrated)\n        try {\n          retryIfBlockedOn(root.containerInfo);\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      needsFormReset &&\n        ((needsFormReset = !1), recursivelyResetForms(finishedWork));\n      break;\n    case 4:\n      flags = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(\n        finishedWork.stateNode.containerInfo\n      );\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      currentHoistableRoot = flags;\n      break;\n    case 12:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      break;\n    case 13:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      finishedWork.child.flags & 8192 &&\n        (null !== finishedWork.memoizedState) !==\n          (null !== current && null !== current.memoizedState) &&\n        (globalMostRecentFallbackTime = now());\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 22:\n      hoistableRoot = null !== finishedWork.memoizedState;\n      var wasHidden = null !== current && null !== current.memoizedState,\n        prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,\n        prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden || hoistableRoot;\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || wasHidden;\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;\n      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;\n      commitReconciliationEffects(finishedWork);\n      if (flags & 8192)\n        a: for (\n          root = finishedWork.stateNode,\n            root._visibility = hoistableRoot\n              ? root._visibility & -2\n              : root._visibility | 1,\n            hoistableRoot &&\n              (null === current ||\n                wasHidden ||\n                offscreenSubtreeIsHidden ||\n                offscreenSubtreeWasHidden ||\n                recursivelyTraverseDisappearLayoutEffects(finishedWork)),\n            current = null,\n            root = finishedWork;\n          ;\n\n        ) {\n          if (5 === root.tag || 26 === root.tag) {\n            if (null === current) {\n              wasHidden = current = root;\n              try {\n                if (((currentResource = wasHidden.stateNode), hoistableRoot))\n                  (maybeNodes = currentResource.style),\n                    \"function\" === typeof maybeNodes.setProperty\n                      ? maybeNodes.setProperty(\"display\", \"none\", \"important\")\n                      : (maybeNodes.display = \"none\");\n                else {\n                  i = wasHidden.stateNode;\n                  var styleProp = wasHidden.memoizedProps.style,\n                    display =\n                      void 0 !== styleProp &&\n                      null !== styleProp &&\n                      styleProp.hasOwnProperty(\"display\")\n                        ? styleProp.display\n                        : null;\n                  i.style.display =\n                    null == display || \"boolean\" === typeof display\n                      ? \"\"\n                      : (\"\" + display).trim();\n                }\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (6 === root.tag) {\n            if (null === current) {\n              wasHidden = root;\n              try {\n                wasHidden.stateNode.nodeValue = hoistableRoot\n                  ? \"\"\n                  : wasHidden.memoizedProps;\n              } catch (error) {\n                captureCommitPhaseError(wasHidden, wasHidden.return, error);\n              }\n            }\n          } else if (\n            ((22 !== root.tag && 23 !== root.tag) ||\n              null === root.memoizedState ||\n              root === finishedWork) &&\n            null !== root.child\n          ) {\n            root.child.return = root;\n            root = root.child;\n            continue;\n          }\n          if (root === finishedWork) break a;\n          for (; null === root.sibling; ) {\n            if (null === root.return || root.return === finishedWork) break a;\n            current === root && (current = null);\n            root = root.return;\n          }\n          current === root && (current = null);\n          root.sibling.return = root.return;\n          root = root.sibling;\n        }\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((current = flags.retryQueue),\n          null !== current &&\n            ((flags.retryQueue = null),\n            attachSuspenseRetryListeners(finishedWork, current))));\n      break;\n    case 19:\n      recursivelyTraverseMutationEffects(root, finishedWork);\n      commitReconciliationEffects(finishedWork);\n      flags & 4 &&\n        ((flags = finishedWork.updateQueue),\n        null !== flags &&\n          ((finishedWork.updateQueue = null),\n          attachSuspenseRetryListeners(finishedWork, flags)));\n      break;\n    case 30:\n      break;\n    case 21:\n      break;\n    default:\n      recursivelyTraverseMutationEffects(root, finishedWork),\n        commitReconciliationEffects(finishedWork);\n  }\n}\nfunction commitReconciliationEffects(finishedWork) {\n  var flags = finishedWork.flags;\n  if (flags & 2) {\n    try {\n      for (\n        var hostParentFiber, parentFiber = finishedWork.return;\n        null !== parentFiber;\n\n      ) {\n        if (isHostParent(parentFiber)) {\n          hostParentFiber = parentFiber;\n          break;\n        }\n        parentFiber = parentFiber.return;\n      }\n      if (null == hostParentFiber) throw Error(formatProdErrorMessage(160));\n      switch (hostParentFiber.tag) {\n        case 27:\n          var parent = hostParentFiber.stateNode,\n            before = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before, parent);\n          break;\n        case 5:\n          var parent$144 = hostParentFiber.stateNode;\n          hostParentFiber.flags & 32 &&\n            (setTextContent(parent$144, \"\"), (hostParentFiber.flags &= -33));\n          var before$145 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNode(finishedWork, before$145, parent$144);\n          break;\n        case 3:\n        case 4:\n          var parent$146 = hostParentFiber.stateNode.containerInfo,\n            before$147 = getHostSibling(finishedWork);\n          insertOrAppendPlacementNodeIntoContainer(\n            finishedWork,\n            before$147,\n            parent$146\n          );\n          break;\n        default:\n          throw Error(formatProdErrorMessage(161));\n      }\n    } catch (error) {\n      captureCommitPhaseError(finishedWork, finishedWork.return, error);\n    }\n    finishedWork.flags &= -3;\n  }\n  flags & 4096 && (finishedWork.flags &= -4097);\n}\nfunction recursivelyResetForms(parentFiber) {\n  if (parentFiber.subtreeFlags & 1024)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var fiber = parentFiber;\n      recursivelyResetForms(fiber);\n      5 === fiber.tag && fiber.flags & 1024 && fiber.stateNode.reset();\n      parentFiber = parentFiber.sibling;\n    }\n}\nfunction recursivelyTraverseLayoutEffects(root, parentFiber) {\n  if (parentFiber.subtreeFlags & 8772)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitLayoutEffectOnFiber(root, parentFiber.alternate, parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction recursivelyTraverseDisappearLayoutEffects(parentFiber) {\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedWork = parentFiber;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 14:\n      case 15:\n        commitHookEffectListUnmount(4, finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 1:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        var instance = finishedWork.stateNode;\n        \"function\" === typeof instance.componentWillUnmount &&\n          safelyCallComponentWillUnmount(\n            finishedWork,\n            finishedWork.return,\n            instance\n          );\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 27:\n        releaseSingletonInstance(finishedWork.stateNode);\n      case 26:\n      case 5:\n        safelyDetachRef(finishedWork, finishedWork.return);\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      case 30:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n        break;\n      default:\n        recursivelyTraverseDisappearLayoutEffects(finishedWork);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseReappearLayoutEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 8772);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var current = parentFiber.alternate,\n      finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(4, finishedWork);\n        break;\n      case 1:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        current = finishedWork;\n        finishedRoot = current.stateNode;\n        if (\"function\" === typeof finishedRoot.componentDidMount)\n          try {\n            finishedRoot.componentDidMount();\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        current = finishedWork;\n        finishedRoot = current.updateQueue;\n        if (null !== finishedRoot) {\n          var instance = current.stateNode;\n          try {\n            var hiddenCallbacks = finishedRoot.shared.hiddenCallbacks;\n            if (null !== hiddenCallbacks)\n              for (\n                finishedRoot.shared.hiddenCallbacks = null, finishedRoot = 0;\n                finishedRoot < hiddenCallbacks.length;\n                finishedRoot++\n              )\n                callCallback(hiddenCallbacks[finishedRoot], instance);\n          } catch (error) {\n            captureCommitPhaseError(current, current.return, error);\n          }\n        }\n        includeWorkInProgressEffects &&\n          flags & 64 &&\n          commitClassCallbacks(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 27:\n        commitHostSingletonAcquisition(finishedWork);\n      case 26:\n      case 5:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          null === current &&\n          flags & 4 &&\n          commitHostMount(finishedWork);\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 12:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        break;\n      case 13:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 4 &&\n          commitSuspenseHydrationCallbacks(finishedRoot, finishedWork);\n        break;\n      case 22:\n        null === finishedWork.memoizedState &&\n          recursivelyTraverseReappearLayoutEffects(\n            finishedRoot,\n            finishedWork,\n            includeWorkInProgressEffects\n          );\n        safelyAttachRef(finishedWork, finishedWork.return);\n        break;\n      case 30:\n        break;\n      default:\n        recursivelyTraverseReappearLayoutEffects(\n          finishedRoot,\n          finishedWork,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitOffscreenPassiveMountEffects(current, finishedWork) {\n  var previousCache = null;\n  null !== current &&\n    null !== current.memoizedState &&\n    null !== current.memoizedState.cachePool &&\n    (previousCache = current.memoizedState.cachePool.pool);\n  current = null;\n  null !== finishedWork.memoizedState &&\n    null !== finishedWork.memoizedState.cachePool &&\n    (current = finishedWork.memoizedState.cachePool.pool);\n  current !== previousCache &&\n    (null != current && current.refCount++,\n    null != previousCache && releaseCache(previousCache));\n}\nfunction commitCachePassiveMountEffect(current, finishedWork) {\n  current = null;\n  null !== finishedWork.alternate &&\n    (current = finishedWork.alternate.memoizedState.cache);\n  finishedWork = finishedWork.memoizedState.cache;\n  finishedWork !== current &&\n    (finishedWork.refCount++, null != current && releaseCache(current));\n}\nfunction recursivelyTraversePassiveMountEffects(\n  root,\n  parentFiber,\n  committedLanes,\n  committedTransitions\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveMountOnFiber(\n        root,\n        parentFiber,\n        committedLanes,\n        committedTransitions\n      ),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveMountOnFiber(\n  finishedRoot,\n  finishedWork,\n  committedLanes,\n  committedTransitions\n) {\n  var flags = finishedWork.flags;\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 && commitHookEffectListMount(9, finishedWork);\n      break;\n    case 1:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 3:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        ((finishedRoot = null),\n        null !== finishedWork.alternate &&\n          (finishedRoot = finishedWork.alternate.memoizedState.cache),\n        (finishedWork = finishedWork.memoizedState.cache),\n        finishedWork !== finishedRoot &&\n          (finishedWork.refCount++,\n          null != finishedRoot && releaseCache(finishedRoot)));\n      break;\n    case 12:\n      if (flags & 2048) {\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n        finishedRoot = finishedWork.stateNode;\n        try {\n          var _finishedWork$memoize2 = finishedWork.memoizedProps,\n            id = _finishedWork$memoize2.id,\n            onPostCommit = _finishedWork$memoize2.onPostCommit;\n          \"function\" === typeof onPostCommit &&\n            onPostCommit(\n              id,\n              null === finishedWork.alternate ? \"mount\" : \"update\",\n              finishedRoot.passiveEffectDuration,\n              -0\n            );\n        } catch (error) {\n          captureCommitPhaseError(finishedWork, finishedWork.return, error);\n        }\n      } else\n        recursivelyTraversePassiveMountEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions\n        );\n      break;\n    case 13:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      break;\n    case 23:\n      break;\n    case 22:\n      _finishedWork$memoize2 = finishedWork.stateNode;\n      id = finishedWork.alternate;\n      null !== finishedWork.memoizedState\n        ? _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork)\n        : _finishedWork$memoize2._visibility & 2\n          ? recursivelyTraversePassiveMountEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions\n            )\n          : ((_finishedWork$memoize2._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              0 !== (finishedWork.subtreeFlags & 10256)\n            ));\n      flags & 2048 && commitOffscreenPassiveMountEffects(id, finishedWork);\n      break;\n    case 24:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n      flags & 2048 &&\n        commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveMountEffects(\n        finishedRoot,\n        finishedWork,\n        committedLanes,\n        committedTransitions\n      );\n  }\n}\nfunction recursivelyTraverseReconnectPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber,\n  committedLanes$jscomp$0,\n  committedTransitions$jscomp$0,\n  includeWorkInProgressEffects\n) {\n  includeWorkInProgressEffects =\n    includeWorkInProgressEffects && 0 !== (parentFiber.subtreeFlags & 10256);\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    var finishedRoot = finishedRoot$jscomp$0,\n      finishedWork = parentFiber,\n      committedLanes = committedLanes$jscomp$0,\n      committedTransitions = committedTransitions$jscomp$0,\n      flags = finishedWork.flags;\n    switch (finishedWork.tag) {\n      case 0:\n      case 11:\n      case 15:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        commitHookEffectListMount(8, finishedWork);\n        break;\n      case 23:\n        break;\n      case 22:\n        var instance = finishedWork.stateNode;\n        null !== finishedWork.memoizedState\n          ? instance._visibility & 2\n            ? recursivelyTraverseReconnectPassiveEffects(\n                finishedRoot,\n                finishedWork,\n                committedLanes,\n                committedTransitions,\n                includeWorkInProgressEffects\n              )\n            : recursivelyTraverseAtomicPassiveEffects(\n                finishedRoot,\n                finishedWork\n              )\n          : ((instance._visibility |= 2),\n            recursivelyTraverseReconnectPassiveEffects(\n              finishedRoot,\n              finishedWork,\n              committedLanes,\n              committedTransitions,\n              includeWorkInProgressEffects\n            ));\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitOffscreenPassiveMountEffects(\n            finishedWork.alternate,\n            finishedWork\n          );\n        break;\n      case 24:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n        includeWorkInProgressEffects &&\n          flags & 2048 &&\n          commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n        break;\n      default:\n        recursivelyTraverseReconnectPassiveEffects(\n          finishedRoot,\n          finishedWork,\n          committedLanes,\n          committedTransitions,\n          includeWorkInProgressEffects\n        );\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction recursivelyTraverseAtomicPassiveEffects(\n  finishedRoot$jscomp$0,\n  parentFiber\n) {\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n      var finishedRoot = finishedRoot$jscomp$0,\n        finishedWork = parentFiber,\n        flags = finishedWork.flags;\n      switch (finishedWork.tag) {\n        case 22:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitOffscreenPassiveMountEffects(\n              finishedWork.alternate,\n              finishedWork\n            );\n          break;\n        case 24:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n          flags & 2048 &&\n            commitCachePassiveMountEffect(finishedWork.alternate, finishedWork);\n          break;\n        default:\n          recursivelyTraverseAtomicPassiveEffects(finishedRoot, finishedWork);\n      }\n      parentFiber = parentFiber.sibling;\n    }\n}\nvar suspenseyCommitFlag = 8192;\nfunction recursivelyAccumulateSuspenseyCommit(parentFiber) {\n  if (parentFiber.subtreeFlags & suspenseyCommitFlag)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      accumulateSuspenseyCommitOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction accumulateSuspenseyCommitOnFiber(fiber) {\n  switch (fiber.tag) {\n    case 26:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      fiber.flags & suspenseyCommitFlag &&\n        null !== fiber.memoizedState &&\n        suspendResource(\n          currentHoistableRoot,\n          fiber.memoizedState,\n          fiber.memoizedProps\n        );\n      break;\n    case 5:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      break;\n    case 3:\n    case 4:\n      var previousHoistableRoot = currentHoistableRoot;\n      currentHoistableRoot = getHoistableRoot(fiber.stateNode.containerInfo);\n      recursivelyAccumulateSuspenseyCommit(fiber);\n      currentHoistableRoot = previousHoistableRoot;\n      break;\n    case 22:\n      null === fiber.memoizedState &&\n        ((previousHoistableRoot = fiber.alternate),\n        null !== previousHoistableRoot &&\n        null !== previousHoistableRoot.memoizedState\n          ? ((previousHoistableRoot = suspenseyCommitFlag),\n            (suspenseyCommitFlag = 16777216),\n            recursivelyAccumulateSuspenseyCommit(fiber),\n            (suspenseyCommitFlag = previousHoistableRoot))\n          : recursivelyAccumulateSuspenseyCommit(fiber));\n      break;\n    default:\n      recursivelyAccumulateSuspenseyCommit(fiber);\n  }\n}\nfunction detachAlternateSiblings(parentFiber) {\n  var previousFiber = parentFiber.alternate;\n  if (\n    null !== previousFiber &&\n    ((parentFiber = previousFiber.child), null !== parentFiber)\n  ) {\n    previousFiber.child = null;\n    do\n      (previousFiber = parentFiber.sibling),\n        (parentFiber.sibling = null),\n        (parentFiber = previousFiber);\n    while (null !== parentFiber);\n  }\n}\nfunction recursivelyTraversePassiveUnmountEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  if (parentFiber.subtreeFlags & 10256)\n    for (parentFiber = parentFiber.child; null !== parentFiber; )\n      commitPassiveUnmountOnFiber(parentFiber),\n        (parentFiber = parentFiber.sibling);\n}\nfunction commitPassiveUnmountOnFiber(finishedWork) {\n  switch (finishedWork.tag) {\n    case 0:\n    case 11:\n    case 15:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      finishedWork.flags & 2048 &&\n        commitHookEffectListUnmount(9, finishedWork, finishedWork.return);\n      break;\n    case 3:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 12:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    case 22:\n      var instance = finishedWork.stateNode;\n      null !== finishedWork.memoizedState &&\n      instance._visibility & 2 &&\n      (null === finishedWork.return || 13 !== finishedWork.return.tag)\n        ? ((instance._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(finishedWork))\n        : recursivelyTraversePassiveUnmountEffects(finishedWork);\n      break;\n    default:\n      recursivelyTraversePassiveUnmountEffects(finishedWork);\n  }\n}\nfunction recursivelyTraverseDisconnectPassiveEffects(parentFiber) {\n  var deletions = parentFiber.deletions;\n  if (0 !== (parentFiber.flags & 16)) {\n    if (null !== deletions)\n      for (var i = 0; i < deletions.length; i++) {\n        var childToDelete = deletions[i];\n        nextEffect = childToDelete;\n        commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n          childToDelete,\n          parentFiber\n        );\n      }\n    detachAlternateSiblings(parentFiber);\n  }\n  for (parentFiber = parentFiber.child; null !== parentFiber; ) {\n    deletions = parentFiber;\n    switch (deletions.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, deletions, deletions.return);\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n        break;\n      case 22:\n        i = deletions.stateNode;\n        i._visibility & 2 &&\n          ((i._visibility &= -3),\n          recursivelyTraverseDisconnectPassiveEffects(deletions));\n        break;\n      default:\n        recursivelyTraverseDisconnectPassiveEffects(deletions);\n    }\n    parentFiber = parentFiber.sibling;\n  }\n}\nfunction commitPassiveUnmountEffectsInsideOfDeletedTree_begin(\n  deletedSubtreeRoot,\n  nearestMountedAncestor\n) {\n  for (; null !== nextEffect; ) {\n    var fiber = nextEffect;\n    switch (fiber.tag) {\n      case 0:\n      case 11:\n      case 15:\n        commitHookEffectListUnmount(8, fiber, nearestMountedAncestor);\n        break;\n      case 23:\n      case 22:\n        if (\n          null !== fiber.memoizedState &&\n          null !== fiber.memoizedState.cachePool\n        ) {\n          var cache = fiber.memoizedState.cachePool.pool;\n          null != cache && cache.refCount++;\n        }\n        break;\n      case 24:\n        releaseCache(fiber.memoizedState.cache);\n    }\n    cache = fiber.child;\n    if (null !== cache) (cache.return = fiber), (nextEffect = cache);\n    else\n      a: for (fiber = deletedSubtreeRoot; null !== nextEffect; ) {\n        cache = nextEffect;\n        var sibling = cache.sibling,\n          returnFiber = cache.return;\n        detachFiberAfterEffects(cache);\n        if (cache === fiber) {\n          nextEffect = null;\n          break a;\n        }\n        if (null !== sibling) {\n          sibling.return = returnFiber;\n          nextEffect = sibling;\n          break a;\n        }\n        nextEffect = returnFiber;\n      }\n  }\n}\nvar DefaultAsyncDispatcher = {\n    getCacheForType: function (resourceType) {\n      var cache = readContext(CacheContext),\n        cacheForType = cache.data.get(resourceType);\n      void 0 === cacheForType &&\n        ((cacheForType = resourceType()),\n        cache.data.set(resourceType, cacheForType));\n      return cacheForType;\n    }\n  },\n  PossiblyWeakMap = \"function\" === typeof WeakMap ? WeakMap : Map,\n  executionContext = 0,\n  workInProgressRoot = null,\n  workInProgress = null,\n  workInProgressRootRenderLanes = 0,\n  workInProgressSuspendedReason = 0,\n  workInProgressThrownValue = null,\n  workInProgressRootDidSkipSuspendedSiblings = !1,\n  workInProgressRootIsPrerendering = !1,\n  workInProgressRootDidAttachPingListener = !1,\n  entangledRenderLanes = 0,\n  workInProgressRootExitStatus = 0,\n  workInProgressRootSkippedLanes = 0,\n  workInProgressRootInterleavedUpdatedLanes = 0,\n  workInProgressRootPingedLanes = 0,\n  workInProgressDeferredLane = 0,\n  workInProgressSuspendedRetryLanes = 0,\n  workInProgressRootConcurrentErrors = null,\n  workInProgressRootRecoverableErrors = null,\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1,\n  globalMostRecentFallbackTime = 0,\n  workInProgressRootRenderTargetTime = Infinity,\n  workInProgressTransitions = null,\n  legacyErrorBoundariesThatAlreadyFailed = null,\n  pendingEffectsStatus = 0,\n  pendingEffectsRoot = null,\n  pendingFinishedWork = null,\n  pendingEffectsLanes = 0,\n  pendingEffectsRemainingLanes = 0,\n  pendingPassiveTransitions = null,\n  pendingRecoverableErrors = null,\n  nestedUpdateCount = 0,\n  rootWithNestedUpdates = null;\nfunction requestUpdateLane() {\n  if (0 !== (executionContext & 2) && 0 !== workInProgressRootRenderLanes)\n    return workInProgressRootRenderLanes & -workInProgressRootRenderLanes;\n  if (null !== ReactSharedInternals.T) {\n    var actionScopeLane = currentEntangledLane;\n    return 0 !== actionScopeLane ? actionScopeLane : requestTransitionLane();\n  }\n  return resolveUpdatePriority();\n}\nfunction requestDeferredLane() {\n  0 === workInProgressDeferredLane &&\n    (workInProgressDeferredLane =\n      0 === (workInProgressRootRenderLanes & 536870912) || isHydrating\n        ? claimNextTransitionLane()\n        : 536870912);\n  var suspenseHandler = suspenseHandlerStackCursor.current;\n  null !== suspenseHandler && (suspenseHandler.flags |= 32);\n  return workInProgressDeferredLane;\n}\nfunction scheduleUpdateOnFiber(root, fiber, lane) {\n  if (\n    (root === workInProgressRoot &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    prepareFreshStack(root, 0),\n      markRootSuspended(\n        root,\n        workInProgressRootRenderLanes,\n        workInProgressDeferredLane,\n        !1\n      );\n  markRootUpdated$1(root, lane);\n  if (0 === (executionContext & 2) || root !== workInProgressRoot)\n    root === workInProgressRoot &&\n      (0 === (executionContext & 2) &&\n        (workInProgressRootInterleavedUpdatedLanes |= lane),\n      4 === workInProgressRootExitStatus &&\n        markRootSuspended(\n          root,\n          workInProgressRootRenderLanes,\n          workInProgressDeferredLane,\n          !1\n        )),\n      ensureRootIsScheduled(root);\n}\nfunction performWorkOnRoot(root$jscomp$0, lanes, forceSync) {\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  var shouldTimeSlice =\n      (!forceSync &&\n        0 === (lanes & 124) &&\n        0 === (lanes & root$jscomp$0.expiredLanes)) ||\n      checkIfRootIsPrerendering(root$jscomp$0, lanes),\n    exitStatus = shouldTimeSlice\n      ? renderRootConcurrent(root$jscomp$0, lanes)\n      : renderRootSync(root$jscomp$0, lanes, !0),\n    renderWasConcurrent = shouldTimeSlice;\n  do {\n    if (0 === exitStatus) {\n      workInProgressRootIsPrerendering &&\n        !shouldTimeSlice &&\n        markRootSuspended(root$jscomp$0, lanes, 0, !1);\n      break;\n    } else {\n      forceSync = root$jscomp$0.current.alternate;\n      if (\n        renderWasConcurrent &&\n        !isRenderConsistentWithExternalStores(forceSync)\n      ) {\n        exitStatus = renderRootSync(root$jscomp$0, lanes, !1);\n        renderWasConcurrent = !1;\n        continue;\n      }\n      if (2 === exitStatus) {\n        renderWasConcurrent = lanes;\n        if (root$jscomp$0.errorRecoveryDisabledLanes & renderWasConcurrent)\n          var JSCompiler_inline_result = 0;\n        else\n          (JSCompiler_inline_result = root$jscomp$0.pendingLanes & -536870913),\n            (JSCompiler_inline_result =\n              0 !== JSCompiler_inline_result\n                ? JSCompiler_inline_result\n                : JSCompiler_inline_result & 536870912\n                  ? 536870912\n                  : 0);\n        if (0 !== JSCompiler_inline_result) {\n          lanes = JSCompiler_inline_result;\n          a: {\n            var root = root$jscomp$0;\n            exitStatus = workInProgressRootConcurrentErrors;\n            var wasRootDehydrated = root.current.memoizedState.isDehydrated;\n            wasRootDehydrated &&\n              (prepareFreshStack(root, JSCompiler_inline_result).flags |= 256);\n            JSCompiler_inline_result = renderRootSync(\n              root,\n              JSCompiler_inline_result,\n              !1\n            );\n            if (2 !== JSCompiler_inline_result) {\n              if (\n                workInProgressRootDidAttachPingListener &&\n                !wasRootDehydrated\n              ) {\n                root.errorRecoveryDisabledLanes |= renderWasConcurrent;\n                workInProgressRootInterleavedUpdatedLanes |=\n                  renderWasConcurrent;\n                exitStatus = 4;\n                break a;\n              }\n              renderWasConcurrent = workInProgressRootRecoverableErrors;\n              workInProgressRootRecoverableErrors = exitStatus;\n              null !== renderWasConcurrent &&\n                (null === workInProgressRootRecoverableErrors\n                  ? (workInProgressRootRecoverableErrors = renderWasConcurrent)\n                  : workInProgressRootRecoverableErrors.push.apply(\n                      workInProgressRootRecoverableErrors,\n                      renderWasConcurrent\n                    ));\n            }\n            exitStatus = JSCompiler_inline_result;\n          }\n          renderWasConcurrent = !1;\n          if (2 !== exitStatus) continue;\n        }\n      }\n      if (1 === exitStatus) {\n        prepareFreshStack(root$jscomp$0, 0);\n        markRootSuspended(root$jscomp$0, lanes, 0, !0);\n        break;\n      }\n      a: {\n        shouldTimeSlice = root$jscomp$0;\n        renderWasConcurrent = exitStatus;\n        switch (renderWasConcurrent) {\n          case 0:\n          case 1:\n            throw Error(formatProdErrorMessage(345));\n          case 4:\n            if ((lanes & 4194048) !== lanes) break;\n          case 6:\n            markRootSuspended(\n              shouldTimeSlice,\n              lanes,\n              workInProgressDeferredLane,\n              !workInProgressRootDidSkipSuspendedSiblings\n            );\n            break a;\n          case 2:\n            workInProgressRootRecoverableErrors = null;\n            break;\n          case 3:\n          case 5:\n            break;\n          default:\n            throw Error(formatProdErrorMessage(329));\n        }\n        if (\n          (lanes & 62914560) === lanes &&\n          ((exitStatus = globalMostRecentFallbackTime + 300 - now()),\n          10 < exitStatus)\n        ) {\n          markRootSuspended(\n            shouldTimeSlice,\n            lanes,\n            workInProgressDeferredLane,\n            !workInProgressRootDidSkipSuspendedSiblings\n          );\n          if (0 !== getNextLanes(shouldTimeSlice, 0, !0)) break a;\n          shouldTimeSlice.timeoutHandle = scheduleTimeout(\n            commitRootWhenReady.bind(\n              null,\n              shouldTimeSlice,\n              forceSync,\n              workInProgressRootRecoverableErrors,\n              workInProgressTransitions,\n              workInProgressRootDidIncludeRecursiveRenderUpdate,\n              lanes,\n              workInProgressDeferredLane,\n              workInProgressRootInterleavedUpdatedLanes,\n              workInProgressSuspendedRetryLanes,\n              workInProgressRootDidSkipSuspendedSiblings,\n              renderWasConcurrent,\n              2,\n              -0,\n              0\n            ),\n            exitStatus\n          );\n          break a;\n        }\n        commitRootWhenReady(\n          shouldTimeSlice,\n          forceSync,\n          workInProgressRootRecoverableErrors,\n          workInProgressTransitions,\n          workInProgressRootDidIncludeRecursiveRenderUpdate,\n          lanes,\n          workInProgressDeferredLane,\n          workInProgressRootInterleavedUpdatedLanes,\n          workInProgressSuspendedRetryLanes,\n          workInProgressRootDidSkipSuspendedSiblings,\n          renderWasConcurrent,\n          0,\n          -0,\n          0\n        );\n      }\n    }\n    break;\n  } while (1);\n  ensureRootIsScheduled(root$jscomp$0);\n}\nfunction commitRootWhenReady(\n  root,\n  finishedWork,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  lanes,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes,\n  didSkipSuspendedSiblings,\n  exitStatus,\n  suspendedCommitReason,\n  completedRenderStartTime,\n  completedRenderEndTime\n) {\n  root.timeoutHandle = -1;\n  suspendedCommitReason = finishedWork.subtreeFlags;\n  if (\n    suspendedCommitReason & 8192 ||\n    16785408 === (suspendedCommitReason & 16785408)\n  )\n    if (\n      ((suspendedState = { stylesheets: null, count: 0, unsuspend: noop }),\n      accumulateSuspenseyCommitOnFiber(finishedWork),\n      (suspendedCommitReason = waitForCommitToBeReady()),\n      null !== suspendedCommitReason)\n    ) {\n      root.cancelPendingCommit = suspendedCommitReason(\n        commitRoot.bind(\n          null,\n          root,\n          finishedWork,\n          lanes,\n          recoverableErrors,\n          transitions,\n          didIncludeRenderPhaseUpdate,\n          spawnedLane,\n          updatedLanes,\n          suspendedRetryLanes,\n          exitStatus,\n          1,\n          completedRenderStartTime,\n          completedRenderEndTime\n        )\n      );\n      markRootSuspended(root, lanes, spawnedLane, !didSkipSuspendedSiblings);\n      return;\n    }\n  commitRoot(\n    root,\n    finishedWork,\n    lanes,\n    recoverableErrors,\n    transitions,\n    didIncludeRenderPhaseUpdate,\n    spawnedLane,\n    updatedLanes,\n    suspendedRetryLanes\n  );\n}\nfunction isRenderConsistentWithExternalStores(finishedWork) {\n  for (var node = finishedWork; ; ) {\n    var tag = node.tag;\n    if (\n      (0 === tag || 11 === tag || 15 === tag) &&\n      node.flags & 16384 &&\n      ((tag = node.updateQueue),\n      null !== tag && ((tag = tag.stores), null !== tag))\n    )\n      for (var i = 0; i < tag.length; i++) {\n        var check = tag[i],\n          getSnapshot = check.getSnapshot;\n        check = check.value;\n        try {\n          if (!objectIs(getSnapshot(), check)) return !1;\n        } catch (error) {\n          return !1;\n        }\n      }\n    tag = node.child;\n    if (node.subtreeFlags & 16384 && null !== tag)\n      (tag.return = node), (node = tag);\n    else {\n      if (node === finishedWork) break;\n      for (; null === node.sibling; ) {\n        if (null === node.return || node.return === finishedWork) return !0;\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n  return !0;\n}\nfunction markRootSuspended(\n  root,\n  suspendedLanes,\n  spawnedLane,\n  didAttemptEntireTree\n) {\n  suspendedLanes &= ~workInProgressRootPingedLanes;\n  suspendedLanes &= ~workInProgressRootInterleavedUpdatedLanes;\n  root.suspendedLanes |= suspendedLanes;\n  root.pingedLanes &= ~suspendedLanes;\n  didAttemptEntireTree && (root.warmLanes |= suspendedLanes);\n  didAttemptEntireTree = root.expirationTimes;\n  for (var lanes = suspendedLanes; 0 < lanes; ) {\n    var index$4 = 31 - clz32(lanes),\n      lane = 1 << index$4;\n    didAttemptEntireTree[index$4] = -1;\n    lanes &= ~lane;\n  }\n  0 !== spawnedLane &&\n    markSpawnedDeferredLane(root, spawnedLane, suspendedLanes);\n}\nfunction flushSyncWork$1() {\n  return 0 === (executionContext & 6)\n    ? (flushSyncWorkAcrossRoots_impl(0, !1), !1)\n    : !0;\n}\nfunction resetWorkInProgressStack() {\n  if (null !== workInProgress) {\n    if (0 === workInProgressSuspendedReason)\n      var interruptedWork = workInProgress.return;\n    else\n      (interruptedWork = workInProgress),\n        (lastContextDependency = currentlyRenderingFiber$1 = null),\n        resetHooksOnUnwind(interruptedWork),\n        (thenableState = null),\n        (thenableIndexCounter = 0),\n        (interruptedWork = workInProgress);\n    for (; null !== interruptedWork; )\n      unwindInterruptedWork(interruptedWork.alternate, interruptedWork),\n        (interruptedWork = interruptedWork.return);\n    workInProgress = null;\n  }\n}\nfunction prepareFreshStack(root, lanes) {\n  var timeoutHandle = root.timeoutHandle;\n  -1 !== timeoutHandle &&\n    ((root.timeoutHandle = -1), cancelTimeout(timeoutHandle));\n  timeoutHandle = root.cancelPendingCommit;\n  null !== timeoutHandle &&\n    ((root.cancelPendingCommit = null), timeoutHandle());\n  resetWorkInProgressStack();\n  workInProgressRoot = root;\n  workInProgress = timeoutHandle = createWorkInProgress(root.current, null);\n  workInProgressRootRenderLanes = lanes;\n  workInProgressSuspendedReason = 0;\n  workInProgressThrownValue = null;\n  workInProgressRootDidSkipSuspendedSiblings = !1;\n  workInProgressRootIsPrerendering = checkIfRootIsPrerendering(root, lanes);\n  workInProgressRootDidAttachPingListener = !1;\n  workInProgressSuspendedRetryLanes =\n    workInProgressDeferredLane =\n    workInProgressRootPingedLanes =\n    workInProgressRootInterleavedUpdatedLanes =\n    workInProgressRootSkippedLanes =\n    workInProgressRootExitStatus =\n      0;\n  workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =\n    null;\n  workInProgressRootDidIncludeRecursiveRenderUpdate = !1;\n  0 !== (lanes & 8) && (lanes |= lanes & 32);\n  var allEntangledLanes = root.entangledLanes;\n  if (0 !== allEntangledLanes)\n    for (\n      root = root.entanglements, allEntangledLanes &= lanes;\n      0 < allEntangledLanes;\n\n    ) {\n      var index$2 = 31 - clz32(allEntangledLanes),\n        lane = 1 << index$2;\n      lanes |= root[index$2];\n      allEntangledLanes &= ~lane;\n    }\n  entangledRenderLanes = lanes;\n  finishQueueingConcurrentUpdates();\n  return timeoutHandle;\n}\nfunction handleThrow(root, thrownValue) {\n  currentlyRenderingFiber = null;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  thrownValue === SuspenseException || thrownValue === SuspenseActionException\n    ? ((thrownValue = getSuspendedThenable()),\n      (workInProgressSuspendedReason = 3))\n    : thrownValue === SuspenseyCommitException\n      ? ((thrownValue = getSuspendedThenable()),\n        (workInProgressSuspendedReason = 4))\n      : (workInProgressSuspendedReason =\n          thrownValue === SelectiveHydrationException\n            ? 8\n            : null !== thrownValue &&\n                \"object\" === typeof thrownValue &&\n                \"function\" === typeof thrownValue.then\n              ? 6\n              : 1);\n  workInProgressThrownValue = thrownValue;\n  null === workInProgress &&\n    ((workInProgressRootExitStatus = 1),\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    ));\n}\nfunction pushDispatcher() {\n  var prevDispatcher = ReactSharedInternals.H;\n  ReactSharedInternals.H = ContextOnlyDispatcher;\n  return null === prevDispatcher ? ContextOnlyDispatcher : prevDispatcher;\n}\nfunction pushAsyncDispatcher() {\n  var prevAsyncDispatcher = ReactSharedInternals.A;\n  ReactSharedInternals.A = DefaultAsyncDispatcher;\n  return prevAsyncDispatcher;\n}\nfunction renderDidSuspendDelayIfPossible() {\n  workInProgressRootExitStatus = 4;\n  workInProgressRootDidSkipSuspendedSiblings ||\n    ((workInProgressRootRenderLanes & 4194048) !==\n      workInProgressRootRenderLanes &&\n      null !== suspenseHandlerStackCursor.current) ||\n    (workInProgressRootIsPrerendering = !0);\n  (0 === (workInProgressRootSkippedLanes & 134217727) &&\n    0 === (workInProgressRootInterleavedUpdatedLanes & 134217727)) ||\n    null === workInProgressRoot ||\n    markRootSuspended(\n      workInProgressRoot,\n      workInProgressRootRenderLanes,\n      workInProgressDeferredLane,\n      !1\n    );\n}\nfunction renderRootSync(root, lanes, shouldYieldForPrerendering) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes)\n    (workInProgressTransitions = null), prepareFreshStack(root, lanes);\n  lanes = !1;\n  var exitStatus = workInProgressRootExitStatus;\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        var unitOfWork = workInProgress,\n          thrownValue = workInProgressThrownValue;\n        switch (workInProgressSuspendedReason) {\n          case 8:\n            resetWorkInProgressStack();\n            exitStatus = 6;\n            break a;\n          case 3:\n          case 2:\n          case 9:\n          case 6:\n            null === suspenseHandlerStackCursor.current && (lanes = !0);\n            var reason = workInProgressSuspendedReason;\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n            if (\n              shouldYieldForPrerendering &&\n              workInProgressRootIsPrerendering\n            ) {\n              exitStatus = 0;\n              break a;\n            }\n            break;\n          default:\n            (reason = workInProgressSuspendedReason),\n              (workInProgressSuspendedReason = 0),\n              (workInProgressThrownValue = null),\n              throwAndUnwindWorkLoop(root, unitOfWork, thrownValue, reason);\n        }\n      }\n      workLoopSync();\n      exitStatus = workInProgressRootExitStatus;\n      break;\n    } catch (thrownValue$167) {\n      handleThrow(root, thrownValue$167);\n    }\n  while (1);\n  lanes && root.shellSuspendCounter++;\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  executionContext = prevExecutionContext;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  null === workInProgress &&\n    ((workInProgressRoot = null),\n    (workInProgressRootRenderLanes = 0),\n    finishQueueingConcurrentUpdates());\n  return exitStatus;\n}\nfunction workLoopSync() {\n  for (; null !== workInProgress; ) performUnitOfWork(workInProgress);\n}\nfunction renderRootConcurrent(root, lanes) {\n  var prevExecutionContext = executionContext;\n  executionContext |= 2;\n  var prevDispatcher = pushDispatcher(),\n    prevAsyncDispatcher = pushAsyncDispatcher();\n  workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes\n    ? ((workInProgressTransitions = null),\n      (workInProgressRootRenderTargetTime = now() + 500),\n      prepareFreshStack(root, lanes))\n    : (workInProgressRootIsPrerendering = checkIfRootIsPrerendering(\n        root,\n        lanes\n      ));\n  a: do\n    try {\n      if (0 !== workInProgressSuspendedReason && null !== workInProgress) {\n        lanes = workInProgress;\n        var thrownValue = workInProgressThrownValue;\n        b: switch (workInProgressSuspendedReason) {\n          case 1:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 1);\n            break;\n          case 2:\n          case 9:\n            if (isThenableResolved(thrownValue)) {\n              workInProgressSuspendedReason = 0;\n              workInProgressThrownValue = null;\n              replaySuspendedUnitOfWork(lanes);\n              break;\n            }\n            lanes = function () {\n              (2 !== workInProgressSuspendedReason &&\n                9 !== workInProgressSuspendedReason) ||\n                workInProgressRoot !== root ||\n                (workInProgressSuspendedReason = 7);\n              ensureRootIsScheduled(root);\n            };\n            thrownValue.then(lanes, lanes);\n            break a;\n          case 3:\n            workInProgressSuspendedReason = 7;\n            break a;\n          case 4:\n            workInProgressSuspendedReason = 5;\n            break a;\n          case 7:\n            isThenableResolved(thrownValue)\n              ? ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                replaySuspendedUnitOfWork(lanes))\n              : ((workInProgressSuspendedReason = 0),\n                (workInProgressThrownValue = null),\n                throwAndUnwindWorkLoop(root, lanes, thrownValue, 7));\n            break;\n          case 5:\n            var resource = null;\n            switch (workInProgress.tag) {\n              case 26:\n                resource = workInProgress.memoizedState;\n              case 5:\n              case 27:\n                var hostFiber = workInProgress;\n                if (resource ? preloadResource(resource) : 1) {\n                  workInProgressSuspendedReason = 0;\n                  workInProgressThrownValue = null;\n                  var sibling = hostFiber.sibling;\n                  if (null !== sibling) workInProgress = sibling;\n                  else {\n                    var returnFiber = hostFiber.return;\n                    null !== returnFiber\n                      ? ((workInProgress = returnFiber),\n                        completeUnitOfWork(returnFiber))\n                      : (workInProgress = null);\n                  }\n                  break b;\n                }\n            }\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 5);\n            break;\n          case 6:\n            workInProgressSuspendedReason = 0;\n            workInProgressThrownValue = null;\n            throwAndUnwindWorkLoop(root, lanes, thrownValue, 6);\n            break;\n          case 8:\n            resetWorkInProgressStack();\n            workInProgressRootExitStatus = 6;\n            break a;\n          default:\n            throw Error(formatProdErrorMessage(462));\n        }\n      }\n      workLoopConcurrentByScheduler();\n      break;\n    } catch (thrownValue$169) {\n      handleThrow(root, thrownValue$169);\n    }\n  while (1);\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  ReactSharedInternals.H = prevDispatcher;\n  ReactSharedInternals.A = prevAsyncDispatcher;\n  executionContext = prevExecutionContext;\n  if (null !== workInProgress) return 0;\n  workInProgressRoot = null;\n  workInProgressRootRenderLanes = 0;\n  finishQueueingConcurrentUpdates();\n  return workInProgressRootExitStatus;\n}\nfunction workLoopConcurrentByScheduler() {\n  for (; null !== workInProgress && !shouldYield(); )\n    performUnitOfWork(workInProgress);\n}\nfunction performUnitOfWork(unitOfWork) {\n  var next = beginWork(unitOfWork.alternate, unitOfWork, entangledRenderLanes);\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction replaySuspendedUnitOfWork(unitOfWork) {\n  var next = unitOfWork;\n  var current = next.alternate;\n  switch (next.tag) {\n    case 15:\n    case 0:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type,\n        void 0,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 11:\n      next = replayFunctionComponent(\n        current,\n        next,\n        next.pendingProps,\n        next.type.render,\n        next.ref,\n        workInProgressRootRenderLanes\n      );\n      break;\n    case 5:\n      resetHooksOnUnwind(next);\n    default:\n      unwindInterruptedWork(current, next),\n        (next = workInProgress =\n          resetWorkInProgress(next, entangledRenderLanes)),\n        (next = beginWork(current, next, entangledRenderLanes));\n  }\n  unitOfWork.memoizedProps = unitOfWork.pendingProps;\n  null === next ? completeUnitOfWork(unitOfWork) : (workInProgress = next);\n}\nfunction throwAndUnwindWorkLoop(\n  root,\n  unitOfWork,\n  thrownValue,\n  suspendedReason\n) {\n  lastContextDependency = currentlyRenderingFiber$1 = null;\n  resetHooksOnUnwind(unitOfWork);\n  thenableState = null;\n  thenableIndexCounter = 0;\n  var returnFiber = unitOfWork.return;\n  try {\n    if (\n      throwException(\n        root,\n        returnFiber,\n        unitOfWork,\n        thrownValue,\n        workInProgressRootRenderLanes\n      )\n    ) {\n      workInProgressRootExitStatus = 1;\n      logUncaughtError(\n        root,\n        createCapturedValueAtFiber(thrownValue, root.current)\n      );\n      workInProgress = null;\n      return;\n    }\n  } catch (error) {\n    if (null !== returnFiber) throw ((workInProgress = returnFiber), error);\n    workInProgressRootExitStatus = 1;\n    logUncaughtError(\n      root,\n      createCapturedValueAtFiber(thrownValue, root.current)\n    );\n    workInProgress = null;\n    return;\n  }\n  if (unitOfWork.flags & 32768) {\n    if (isHydrating || 1 === suspendedReason) root = !0;\n    else if (\n      workInProgressRootIsPrerendering ||\n      0 !== (workInProgressRootRenderLanes & 536870912)\n    )\n      root = !1;\n    else if (\n      ((workInProgressRootDidSkipSuspendedSiblings = root = !0),\n      2 === suspendedReason ||\n        9 === suspendedReason ||\n        3 === suspendedReason ||\n        6 === suspendedReason)\n    )\n      (suspendedReason = suspenseHandlerStackCursor.current),\n        null !== suspendedReason &&\n          13 === suspendedReason.tag &&\n          (suspendedReason.flags |= 16384);\n    unwindUnitOfWork(unitOfWork, root);\n  } else completeUnitOfWork(unitOfWork);\n}\nfunction completeUnitOfWork(unitOfWork) {\n  var completedWork = unitOfWork;\n  do {\n    if (0 !== (completedWork.flags & 32768)) {\n      unwindUnitOfWork(\n        completedWork,\n        workInProgressRootDidSkipSuspendedSiblings\n      );\n      return;\n    }\n    unitOfWork = completedWork.return;\n    var next = completeWork(\n      completedWork.alternate,\n      completedWork,\n      entangledRenderLanes\n    );\n    if (null !== next) {\n      workInProgress = next;\n      return;\n    }\n    completedWork = completedWork.sibling;\n    if (null !== completedWork) {\n      workInProgress = completedWork;\n      return;\n    }\n    workInProgress = completedWork = unitOfWork;\n  } while (null !== completedWork);\n  0 === workInProgressRootExitStatus && (workInProgressRootExitStatus = 5);\n}\nfunction unwindUnitOfWork(unitOfWork, skipSiblings) {\n  do {\n    var next = unwindWork(unitOfWork.alternate, unitOfWork);\n    if (null !== next) {\n      next.flags &= 32767;\n      workInProgress = next;\n      return;\n    }\n    next = unitOfWork.return;\n    null !== next &&\n      ((next.flags |= 32768), (next.subtreeFlags = 0), (next.deletions = null));\n    if (\n      !skipSiblings &&\n      ((unitOfWork = unitOfWork.sibling), null !== unitOfWork)\n    ) {\n      workInProgress = unitOfWork;\n      return;\n    }\n    workInProgress = unitOfWork = next;\n  } while (null !== unitOfWork);\n  workInProgressRootExitStatus = 6;\n  workInProgress = null;\n}\nfunction commitRoot(\n  root,\n  finishedWork,\n  lanes,\n  recoverableErrors,\n  transitions,\n  didIncludeRenderPhaseUpdate,\n  spawnedLane,\n  updatedLanes,\n  suspendedRetryLanes\n) {\n  root.cancelPendingCommit = null;\n  do flushPendingEffects();\n  while (0 !== pendingEffectsStatus);\n  if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));\n  if (null !== finishedWork) {\n    if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));\n    didIncludeRenderPhaseUpdate = finishedWork.lanes | finishedWork.childLanes;\n    didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;\n    markRootFinished(\n      root,\n      lanes,\n      didIncludeRenderPhaseUpdate,\n      spawnedLane,\n      updatedLanes,\n      suspendedRetryLanes\n    );\n    root === workInProgressRoot &&\n      ((workInProgress = workInProgressRoot = null),\n      (workInProgressRootRenderLanes = 0));\n    pendingFinishedWork = finishedWork;\n    pendingEffectsRoot = root;\n    pendingEffectsLanes = lanes;\n    pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;\n    pendingPassiveTransitions = transitions;\n    pendingRecoverableErrors = recoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? ((root.callbackNode = null),\n        (root.callbackPriority = 0),\n        scheduleCallback$1(NormalPriority$1, function () {\n          flushPassiveEffects(!0);\n          return null;\n        }))\n      : ((root.callbackNode = null), (root.callbackPriority = 0));\n    recoverableErrors = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || recoverableErrors) {\n      recoverableErrors = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      transitions = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      spawnedLane = executionContext;\n      executionContext |= 4;\n      try {\n        commitBeforeMutationEffects(root, finishedWork, lanes);\n      } finally {\n        (executionContext = spawnedLane),\n          (ReactDOMSharedInternals.p = transitions),\n          (ReactSharedInternals.T = recoverableErrors);\n      }\n    }\n    pendingEffectsStatus = 1;\n    flushMutationEffects();\n    flushLayoutEffects();\n    flushSpawnedWork();\n  }\n}\nfunction flushMutationEffects() {\n  if (1 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootMutationHasEffect = 0 !== (finishedWork.flags & 13878);\n    if (0 !== (finishedWork.subtreeFlags & 13878) || rootMutationHasEffect) {\n      rootMutationHasEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitMutationEffectsOnFiber(finishedWork, root);\n        var priorSelectionInformation = selectionInformation,\n          curFocusedElem = getActiveElementDeep(root.containerInfo),\n          priorFocusedElem = priorSelectionInformation.focusedElem,\n          priorSelectionRange = priorSelectionInformation.selectionRange;\n        if (\n          curFocusedElem !== priorFocusedElem &&\n          priorFocusedElem &&\n          priorFocusedElem.ownerDocument &&\n          containsNode(\n            priorFocusedElem.ownerDocument.documentElement,\n            priorFocusedElem\n          )\n        ) {\n          if (\n            null !== priorSelectionRange &&\n            hasSelectionCapabilities(priorFocusedElem)\n          ) {\n            var start = priorSelectionRange.start,\n              end = priorSelectionRange.end;\n            void 0 === end && (end = start);\n            if (\"selectionStart\" in priorFocusedElem)\n              (priorFocusedElem.selectionStart = start),\n                (priorFocusedElem.selectionEnd = Math.min(\n                  end,\n                  priorFocusedElem.value.length\n                ));\n            else {\n              var doc = priorFocusedElem.ownerDocument || document,\n                win = (doc && doc.defaultView) || window;\n              if (win.getSelection) {\n                var selection = win.getSelection(),\n                  length = priorFocusedElem.textContent.length,\n                  start$jscomp$0 = Math.min(priorSelectionRange.start, length),\n                  end$jscomp$0 =\n                    void 0 === priorSelectionRange.end\n                      ? start$jscomp$0\n                      : Math.min(priorSelectionRange.end, length);\n                !selection.extend &&\n                  start$jscomp$0 > end$jscomp$0 &&\n                  ((curFocusedElem = end$jscomp$0),\n                  (end$jscomp$0 = start$jscomp$0),\n                  (start$jscomp$0 = curFocusedElem));\n                var startMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    start$jscomp$0\n                  ),\n                  endMarker = getNodeForCharacterOffset(\n                    priorFocusedElem,\n                    end$jscomp$0\n                  );\n                if (\n                  startMarker &&\n                  endMarker &&\n                  (1 !== selection.rangeCount ||\n                    selection.anchorNode !== startMarker.node ||\n                    selection.anchorOffset !== startMarker.offset ||\n                    selection.focusNode !== endMarker.node ||\n                    selection.focusOffset !== endMarker.offset)\n                ) {\n                  var range = doc.createRange();\n                  range.setStart(startMarker.node, startMarker.offset);\n                  selection.removeAllRanges();\n                  start$jscomp$0 > end$jscomp$0\n                    ? (selection.addRange(range),\n                      selection.extend(endMarker.node, endMarker.offset))\n                    : (range.setEnd(endMarker.node, endMarker.offset),\n                      selection.addRange(range));\n                }\n              }\n            }\n          }\n          doc = [];\n          for (\n            selection = priorFocusedElem;\n            (selection = selection.parentNode);\n\n          )\n            1 === selection.nodeType &&\n              doc.push({\n                element: selection,\n                left: selection.scrollLeft,\n                top: selection.scrollTop\n              });\n          \"function\" === typeof priorFocusedElem.focus &&\n            priorFocusedElem.focus();\n          for (\n            priorFocusedElem = 0;\n            priorFocusedElem < doc.length;\n            priorFocusedElem++\n          ) {\n            var info = doc[priorFocusedElem];\n            info.element.scrollLeft = info.left;\n            info.element.scrollTop = info.top;\n          }\n        }\n        _enabled = !!eventsEnabled;\n        selectionInformation = eventsEnabled = null;\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootMutationHasEffect);\n      }\n    }\n    root.current = finishedWork;\n    pendingEffectsStatus = 2;\n  }\n}\nfunction flushLayoutEffects() {\n  if (2 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      rootHasLayoutEffect = 0 !== (finishedWork.flags & 8772);\n    if (0 !== (finishedWork.subtreeFlags & 8772) || rootHasLayoutEffect) {\n      rootHasLayoutEffect = ReactSharedInternals.T;\n      ReactSharedInternals.T = null;\n      var previousPriority = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      var prevExecutionContext = executionContext;\n      executionContext |= 4;\n      try {\n        commitLayoutEffectOnFiber(root, finishedWork.alternate, finishedWork);\n      } finally {\n        (executionContext = prevExecutionContext),\n          (ReactDOMSharedInternals.p = previousPriority),\n          (ReactSharedInternals.T = rootHasLayoutEffect);\n      }\n    }\n    pendingEffectsStatus = 3;\n  }\n}\nfunction flushSpawnedWork() {\n  if (4 === pendingEffectsStatus || 3 === pendingEffectsStatus) {\n    pendingEffectsStatus = 0;\n    requestPaint();\n    var root = pendingEffectsRoot,\n      finishedWork = pendingFinishedWork,\n      lanes = pendingEffectsLanes,\n      recoverableErrors = pendingRecoverableErrors;\n    0 !== (finishedWork.subtreeFlags & 10256) ||\n    0 !== (finishedWork.flags & 10256)\n      ? (pendingEffectsStatus = 5)\n      : ((pendingEffectsStatus = 0),\n        (pendingFinishedWork = pendingEffectsRoot = null),\n        releaseRootPooledCache(root, root.pendingLanes));\n    var remainingLanes = root.pendingLanes;\n    0 === remainingLanes && (legacyErrorBoundariesThatAlreadyFailed = null);\n    lanesToEventPriority(lanes);\n    finishedWork = finishedWork.stateNode;\n    if (injectedHook && \"function\" === typeof injectedHook.onCommitFiberRoot)\n      try {\n        injectedHook.onCommitFiberRoot(\n          rendererID,\n          finishedWork,\n          void 0,\n          128 === (finishedWork.current.flags & 128)\n        );\n      } catch (err) {}\n    if (null !== recoverableErrors) {\n      finishedWork = ReactSharedInternals.T;\n      remainingLanes = ReactDOMSharedInternals.p;\n      ReactDOMSharedInternals.p = 2;\n      ReactSharedInternals.T = null;\n      try {\n        for (\n          var onRecoverableError = root.onRecoverableError, i = 0;\n          i < recoverableErrors.length;\n          i++\n        ) {\n          var recoverableError = recoverableErrors[i];\n          onRecoverableError(recoverableError.value, {\n            componentStack: recoverableError.stack\n          });\n        }\n      } finally {\n        (ReactSharedInternals.T = finishedWork),\n          (ReactDOMSharedInternals.p = remainingLanes);\n      }\n    }\n    0 !== (pendingEffectsLanes & 3) && flushPendingEffects();\n    ensureRootIsScheduled(root);\n    remainingLanes = root.pendingLanes;\n    0 !== (lanes & 4194090) && 0 !== (remainingLanes & 42)\n      ? root === rootWithNestedUpdates\n        ? nestedUpdateCount++\n        : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))\n      : (nestedUpdateCount = 0);\n    flushSyncWorkAcrossRoots_impl(0, !1);\n  }\n}\nfunction releaseRootPooledCache(root, remainingLanes) {\n  0 === (root.pooledCacheLanes &= remainingLanes) &&\n    ((remainingLanes = root.pooledCache),\n    null != remainingLanes &&\n      ((root.pooledCache = null), releaseCache(remainingLanes)));\n}\nfunction flushPendingEffects(wasDelayedCommit) {\n  flushMutationEffects();\n  flushLayoutEffects();\n  flushSpawnedWork();\n  return flushPassiveEffects(wasDelayedCommit);\n}\nfunction flushPassiveEffects() {\n  if (5 !== pendingEffectsStatus) return !1;\n  var root = pendingEffectsRoot,\n    remainingLanes = pendingEffectsRemainingLanes;\n  pendingEffectsRemainingLanes = 0;\n  var renderPriority = lanesToEventPriority(pendingEffectsLanes),\n    prevTransition = ReactSharedInternals.T,\n    previousPriority = ReactDOMSharedInternals.p;\n  try {\n    ReactDOMSharedInternals.p = 32 > renderPriority ? 32 : renderPriority;\n    ReactSharedInternals.T = null;\n    renderPriority = pendingPassiveTransitions;\n    pendingPassiveTransitions = null;\n    var root$jscomp$0 = pendingEffectsRoot,\n      lanes = pendingEffectsLanes;\n    pendingEffectsStatus = 0;\n    pendingFinishedWork = pendingEffectsRoot = null;\n    pendingEffectsLanes = 0;\n    if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(331));\n    var prevExecutionContext = executionContext;\n    executionContext |= 4;\n    commitPassiveUnmountOnFiber(root$jscomp$0.current);\n    commitPassiveMountOnFiber(\n      root$jscomp$0,\n      root$jscomp$0.current,\n      lanes,\n      renderPriority\n    );\n    executionContext = prevExecutionContext;\n    flushSyncWorkAcrossRoots_impl(0, !1);\n    if (\n      injectedHook &&\n      \"function\" === typeof injectedHook.onPostCommitFiberRoot\n    )\n      try {\n        injectedHook.onPostCommitFiberRoot(rendererID, root$jscomp$0);\n      } catch (err) {}\n    return !0;\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition),\n      releaseRootPooledCache(root, remainingLanes);\n  }\n}\nfunction captureCommitPhaseErrorOnRoot(rootFiber, sourceFiber, error) {\n  sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n  sourceFiber = createRootErrorUpdate(rootFiber.stateNode, sourceFiber, 2);\n  rootFiber = enqueueUpdate(rootFiber, sourceFiber, 2);\n  null !== rootFiber &&\n    (markRootUpdated$1(rootFiber, 2), ensureRootIsScheduled(rootFiber));\n}\nfunction captureCommitPhaseError(sourceFiber, nearestMountedAncestor, error) {\n  if (3 === sourceFiber.tag)\n    captureCommitPhaseErrorOnRoot(sourceFiber, sourceFiber, error);\n  else\n    for (; null !== nearestMountedAncestor; ) {\n      if (3 === nearestMountedAncestor.tag) {\n        captureCommitPhaseErrorOnRoot(\n          nearestMountedAncestor,\n          sourceFiber,\n          error\n        );\n        break;\n      } else if (1 === nearestMountedAncestor.tag) {\n        var instance = nearestMountedAncestor.stateNode;\n        if (\n          \"function\" ===\n            typeof nearestMountedAncestor.type.getDerivedStateFromError ||\n          (\"function\" === typeof instance.componentDidCatch &&\n            (null === legacyErrorBoundariesThatAlreadyFailed ||\n              !legacyErrorBoundariesThatAlreadyFailed.has(instance)))\n        ) {\n          sourceFiber = createCapturedValueAtFiber(error, sourceFiber);\n          error = createClassErrorUpdate(2);\n          instance = enqueueUpdate(nearestMountedAncestor, error, 2);\n          null !== instance &&\n            (initializeClassErrorUpdate(\n              error,\n              instance,\n              nearestMountedAncestor,\n              sourceFiber\n            ),\n            markRootUpdated$1(instance, 2),\n            ensureRootIsScheduled(instance));\n          break;\n        }\n      }\n      nearestMountedAncestor = nearestMountedAncestor.return;\n    }\n}\nfunction attachPingListener(root, wakeable, lanes) {\n  var pingCache = root.pingCache;\n  if (null === pingCache) {\n    pingCache = root.pingCache = new PossiblyWeakMap();\n    var threadIDs = new Set();\n    pingCache.set(wakeable, threadIDs);\n  } else\n    (threadIDs = pingCache.get(wakeable)),\n      void 0 === threadIDs &&\n        ((threadIDs = new Set()), pingCache.set(wakeable, threadIDs));\n  threadIDs.has(lanes) ||\n    ((workInProgressRootDidAttachPingListener = !0),\n    threadIDs.add(lanes),\n    (root = pingSuspendedRoot.bind(null, root, wakeable, lanes)),\n    wakeable.then(root, root));\n}\nfunction pingSuspendedRoot(root, wakeable, pingedLanes) {\n  var pingCache = root.pingCache;\n  null !== pingCache && pingCache.delete(wakeable);\n  root.pingedLanes |= root.suspendedLanes & pingedLanes;\n  root.warmLanes &= ~pingedLanes;\n  workInProgressRoot === root &&\n    (workInProgressRootRenderLanes & pingedLanes) === pingedLanes &&\n    (4 === workInProgressRootExitStatus ||\n    (3 === workInProgressRootExitStatus &&\n      (workInProgressRootRenderLanes & 62914560) ===\n        workInProgressRootRenderLanes &&\n      300 > now() - globalMostRecentFallbackTime)\n      ? 0 === (executionContext & 2) && prepareFreshStack(root, 0)\n      : (workInProgressRootPingedLanes |= pingedLanes),\n    workInProgressSuspendedRetryLanes === workInProgressRootRenderLanes &&\n      (workInProgressSuspendedRetryLanes = 0));\n  ensureRootIsScheduled(root);\n}\nfunction retryTimedOutBoundary(boundaryFiber, retryLane) {\n  0 === retryLane && (retryLane = claimNextRetryLane());\n  boundaryFiber = enqueueConcurrentRenderForLane(boundaryFiber, retryLane);\n  null !== boundaryFiber &&\n    (markRootUpdated$1(boundaryFiber, retryLane),\n    ensureRootIsScheduled(boundaryFiber));\n}\nfunction retryDehydratedSuspenseBoundary(boundaryFiber) {\n  var suspenseState = boundaryFiber.memoizedState,\n    retryLane = 0;\n  null !== suspenseState && (retryLane = suspenseState.retryLane);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction resolveRetryWakeable(boundaryFiber, wakeable) {\n  var retryLane = 0;\n  switch (boundaryFiber.tag) {\n    case 13:\n      var retryCache = boundaryFiber.stateNode;\n      var suspenseState = boundaryFiber.memoizedState;\n      null !== suspenseState && (retryLane = suspenseState.retryLane);\n      break;\n    case 19:\n      retryCache = boundaryFiber.stateNode;\n      break;\n    case 22:\n      retryCache = boundaryFiber.stateNode._retryCache;\n      break;\n    default:\n      throw Error(formatProdErrorMessage(314));\n  }\n  null !== retryCache && retryCache.delete(wakeable);\n  retryTimedOutBoundary(boundaryFiber, retryLane);\n}\nfunction scheduleCallback$1(priorityLevel, callback) {\n  return scheduleCallback$3(priorityLevel, callback);\n}\nvar firstScheduledRoot = null,\n  lastScheduledRoot = null,\n  didScheduleMicrotask = !1,\n  mightHavePendingSyncWork = !1,\n  isFlushingWork = !1,\n  currentEventTransitionLane = 0;\nfunction ensureRootIsScheduled(root) {\n  root !== lastScheduledRoot &&\n    null === root.next &&\n    (null === lastScheduledRoot\n      ? (firstScheduledRoot = lastScheduledRoot = root)\n      : (lastScheduledRoot = lastScheduledRoot.next = root));\n  mightHavePendingSyncWork = !0;\n  didScheduleMicrotask ||\n    ((didScheduleMicrotask = !0), scheduleImmediateRootScheduleTask());\n}\nfunction flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {\n  if (!isFlushingWork && mightHavePendingSyncWork) {\n    isFlushingWork = !0;\n    do {\n      var didPerformSomeWork = !1;\n      for (var root$174 = firstScheduledRoot; null !== root$174; ) {\n        if (!onlyLegacy)\n          if (0 !== syncTransitionLanes) {\n            var pendingLanes = root$174.pendingLanes;\n            if (0 === pendingLanes) var JSCompiler_inline_result = 0;\n            else {\n              var suspendedLanes = root$174.suspendedLanes,\n                pingedLanes = root$174.pingedLanes;\n              JSCompiler_inline_result =\n                (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;\n              JSCompiler_inline_result &=\n                pendingLanes & ~(suspendedLanes & ~pingedLanes);\n              JSCompiler_inline_result =\n                JSCompiler_inline_result & 201326741\n                  ? (JSCompiler_inline_result & 201326741) | 1\n                  : JSCompiler_inline_result\n                    ? JSCompiler_inline_result | 2\n                    : 0;\n            }\n            0 !== JSCompiler_inline_result &&\n              ((didPerformSomeWork = !0),\n              performSyncWorkOnRoot(root$174, JSCompiler_inline_result));\n          } else\n            (JSCompiler_inline_result = workInProgressRootRenderLanes),\n              (JSCompiler_inline_result = getNextLanes(\n                root$174,\n                root$174 === workInProgressRoot ? JSCompiler_inline_result : 0,\n                null !== root$174.cancelPendingCommit ||\n                  -1 !== root$174.timeoutHandle\n              )),\n              0 === (JSCompiler_inline_result & 3) ||\n                checkIfRootIsPrerendering(root$174, JSCompiler_inline_result) ||\n                ((didPerformSomeWork = !0),\n                performSyncWorkOnRoot(root$174, JSCompiler_inline_result));\n        root$174 = root$174.next;\n      }\n    } while (didPerformSomeWork);\n    isFlushingWork = !1;\n  }\n}\nfunction processRootScheduleInImmediateTask() {\n  processRootScheduleInMicrotask();\n}\nfunction processRootScheduleInMicrotask() {\n  mightHavePendingSyncWork = didScheduleMicrotask = !1;\n  var syncTransitionLanes = 0;\n  0 !== currentEventTransitionLane &&\n    (shouldAttemptEagerTransition() &&\n      (syncTransitionLanes = currentEventTransitionLane),\n    (currentEventTransitionLane = 0));\n  for (\n    var currentTime = now(), prev = null, root = firstScheduledRoot;\n    null !== root;\n\n  ) {\n    var next = root.next,\n      nextLanes = scheduleTaskForRootDuringMicrotask(root, currentTime);\n    if (0 === nextLanes)\n      (root.next = null),\n        null === prev ? (firstScheduledRoot = next) : (prev.next = next),\n        null === next && (lastScheduledRoot = prev);\n    else if (\n      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))\n    )\n      mightHavePendingSyncWork = !0;\n    root = next;\n  }\n  flushSyncWorkAcrossRoots_impl(syncTransitionLanes, !1);\n}\nfunction scheduleTaskForRootDuringMicrotask(root, currentTime) {\n  for (\n    var suspendedLanes = root.suspendedLanes,\n      pingedLanes = root.pingedLanes,\n      expirationTimes = root.expirationTimes,\n      lanes = root.pendingLanes & -62914561;\n    0 < lanes;\n\n  ) {\n    var index$3 = 31 - clz32(lanes),\n      lane = 1 << index$3,\n      expirationTime = expirationTimes[index$3];\n    if (-1 === expirationTime) {\n      if (0 === (lane & suspendedLanes) || 0 !== (lane & pingedLanes))\n        expirationTimes[index$3] = computeExpirationTime(lane, currentTime);\n    } else expirationTime <= currentTime && (root.expiredLanes |= lane);\n    lanes &= ~lane;\n  }\n  currentTime = workInProgressRoot;\n  suspendedLanes = workInProgressRootRenderLanes;\n  suspendedLanes = getNextLanes(\n    root,\n    root === currentTime ? suspendedLanes : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  pingedLanes = root.callbackNode;\n  if (\n    0 === suspendedLanes ||\n    (root === currentTime &&\n      (2 === workInProgressSuspendedReason ||\n        9 === workInProgressSuspendedReason)) ||\n    null !== root.cancelPendingCommit\n  )\n    return (\n      null !== pingedLanes &&\n        null !== pingedLanes &&\n        cancelCallback$1(pingedLanes),\n      (root.callbackNode = null),\n      (root.callbackPriority = 0)\n    );\n  if (\n    0 === (suspendedLanes & 3) ||\n    checkIfRootIsPrerendering(root, suspendedLanes)\n  ) {\n    currentTime = suspendedLanes & -suspendedLanes;\n    if (currentTime === root.callbackPriority) return currentTime;\n    null !== pingedLanes && cancelCallback$1(pingedLanes);\n    switch (lanesToEventPriority(suspendedLanes)) {\n      case 2:\n      case 8:\n        suspendedLanes = UserBlockingPriority;\n        break;\n      case 32:\n        suspendedLanes = NormalPriority$1;\n        break;\n      case 268435456:\n        suspendedLanes = IdlePriority;\n        break;\n      default:\n        suspendedLanes = NormalPriority$1;\n    }\n    pingedLanes = performWorkOnRootViaSchedulerTask.bind(null, root);\n    suspendedLanes = scheduleCallback$3(suspendedLanes, pingedLanes);\n    root.callbackPriority = currentTime;\n    root.callbackNode = suspendedLanes;\n    return currentTime;\n  }\n  null !== pingedLanes && null !== pingedLanes && cancelCallback$1(pingedLanes);\n  root.callbackPriority = 2;\n  root.callbackNode = null;\n  return 2;\n}\nfunction performWorkOnRootViaSchedulerTask(root, didTimeout) {\n  if (0 !== pendingEffectsStatus && 5 !== pendingEffectsStatus)\n    return (root.callbackNode = null), (root.callbackPriority = 0), null;\n  var originalCallbackNode = root.callbackNode;\n  if (flushPendingEffects(!0) && root.callbackNode !== originalCallbackNode)\n    return null;\n  var workInProgressRootRenderLanes$jscomp$0 = workInProgressRootRenderLanes;\n  workInProgressRootRenderLanes$jscomp$0 = getNextLanes(\n    root,\n    root === workInProgressRoot ? workInProgressRootRenderLanes$jscomp$0 : 0,\n    null !== root.cancelPendingCommit || -1 !== root.timeoutHandle\n  );\n  if (0 === workInProgressRootRenderLanes$jscomp$0) return null;\n  performWorkOnRoot(root, workInProgressRootRenderLanes$jscomp$0, didTimeout);\n  scheduleTaskForRootDuringMicrotask(root, now());\n  return null != root.callbackNode && root.callbackNode === originalCallbackNode\n    ? performWorkOnRootViaSchedulerTask.bind(null, root)\n    : null;\n}\nfunction performSyncWorkOnRoot(root, lanes) {\n  if (flushPendingEffects()) return null;\n  performWorkOnRoot(root, lanes, !0);\n}\nfunction scheduleImmediateRootScheduleTask() {\n  scheduleMicrotask(function () {\n    0 !== (executionContext & 6)\n      ? scheduleCallback$3(\n          ImmediatePriority,\n          processRootScheduleInImmediateTask\n        )\n      : processRootScheduleInMicrotask();\n  });\n}\nfunction requestTransitionLane() {\n  0 === currentEventTransitionLane &&\n    (currentEventTransitionLane = claimNextTransitionLane());\n  return currentEventTransitionLane;\n}\nfunction coerceFormActionProp(actionProp) {\n  return null == actionProp ||\n    \"symbol\" === typeof actionProp ||\n    \"boolean\" === typeof actionProp\n    ? null\n    : \"function\" === typeof actionProp\n      ? actionProp\n      : sanitizeURL(\"\" + actionProp);\n}\nfunction createFormDataWithSubmitter(form, submitter) {\n  var temp = submitter.ownerDocument.createElement(\"input\");\n  temp.name = submitter.name;\n  temp.value = submitter.value;\n  form.id && temp.setAttribute(\"form\", form.id);\n  submitter.parentNode.insertBefore(temp, submitter);\n  form = new FormData(form);\n  temp.parentNode.removeChild(temp);\n  return form;\n}\nfunction extractEvents$1(\n  dispatchQueue,\n  domEventName,\n  maybeTargetInst,\n  nativeEvent,\n  nativeEventTarget\n) {\n  if (\n    \"submit\" === domEventName &&\n    maybeTargetInst &&\n    maybeTargetInst.stateNode === nativeEventTarget\n  ) {\n    var action = coerceFormActionProp(\n        (nativeEventTarget[internalPropsKey] || null).action\n      ),\n      submitter = nativeEvent.submitter;\n    submitter &&\n      ((domEventName = (domEventName = submitter[internalPropsKey] || null)\n        ? coerceFormActionProp(domEventName.formAction)\n        : submitter.getAttribute(\"formAction\")),\n      null !== domEventName && ((action = domEventName), (submitter = null)));\n    var event = new SyntheticEvent(\n      \"action\",\n      \"action\",\n      null,\n      nativeEvent,\n      nativeEventTarget\n    );\n    dispatchQueue.push({\n      event: event,\n      listeners: [\n        {\n          instance: null,\n          listener: function () {\n            if (nativeEvent.defaultPrevented) {\n              if (0 !== currentEventTransitionLane) {\n                var formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget);\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  null,\n                  formData\n                );\n              }\n            } else\n              \"function\" === typeof action &&\n                (event.preventDefault(),\n                (formData = submitter\n                  ? createFormDataWithSubmitter(nativeEventTarget, submitter)\n                  : new FormData(nativeEventTarget)),\n                startHostTransition(\n                  maybeTargetInst,\n                  {\n                    pending: !0,\n                    data: formData,\n                    method: nativeEventTarget.method,\n                    action: action\n                  },\n                  action,\n                  formData\n                ));\n          },\n          currentTarget: nativeEventTarget\n        }\n      ]\n    });\n  }\n}\nfor (\n  var i$jscomp$inline_1528 = 0;\n  i$jscomp$inline_1528 < simpleEventPluginEvents.length;\n  i$jscomp$inline_1528++\n) {\n  var eventName$jscomp$inline_1529 =\n      simpleEventPluginEvents[i$jscomp$inline_1528],\n    domEventName$jscomp$inline_1530 =\n      eventName$jscomp$inline_1529.toLowerCase(),\n    capitalizedEvent$jscomp$inline_1531 =\n      eventName$jscomp$inline_1529[0].toUpperCase() +\n      eventName$jscomp$inline_1529.slice(1);\n  registerSimpleEvent(\n    domEventName$jscomp$inline_1530,\n    \"on\" + capitalizedEvent$jscomp$inline_1531\n  );\n}\nregisterSimpleEvent(ANIMATION_END, \"onAnimationEnd\");\nregisterSimpleEvent(ANIMATION_ITERATION, \"onAnimationIteration\");\nregisterSimpleEvent(ANIMATION_START, \"onAnimationStart\");\nregisterSimpleEvent(\"dblclick\", \"onDoubleClick\");\nregisterSimpleEvent(\"focusin\", \"onFocus\");\nregisterSimpleEvent(\"focusout\", \"onBlur\");\nregisterSimpleEvent(TRANSITION_RUN, \"onTransitionRun\");\nregisterSimpleEvent(TRANSITION_START, \"onTransitionStart\");\nregisterSimpleEvent(TRANSITION_CANCEL, \"onTransitionCancel\");\nregisterSimpleEvent(TRANSITION_END, \"onTransitionEnd\");\nregisterDirectEvent(\"onMouseEnter\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onMouseLeave\", [\"mouseout\", \"mouseover\"]);\nregisterDirectEvent(\"onPointerEnter\", [\"pointerout\", \"pointerover\"]);\nregisterDirectEvent(\"onPointerLeave\", [\"pointerout\", \"pointerover\"]);\nregisterTwoPhaseEvent(\n  \"onChange\",\n  \"change click focusin focusout input keydown keyup selectionchange\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onSelect\",\n  \"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\n    \" \"\n  )\n);\nregisterTwoPhaseEvent(\"onBeforeInput\", [\n  \"compositionend\",\n  \"keypress\",\n  \"textInput\",\n  \"paste\"\n]);\nregisterTwoPhaseEvent(\n  \"onCompositionEnd\",\n  \"compositionend focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionStart\",\n  \"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")\n);\nregisterTwoPhaseEvent(\n  \"onCompositionUpdate\",\n  \"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \")\n);\nvar mediaEventTypes =\n    \"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\n      \" \"\n    ),\n  nonDelegatedEvents = new Set(\n    \"beforetoggle cancel close invalid load scroll scrollend toggle\"\n      .split(\" \")\n      .concat(mediaEventTypes)\n  );\nfunction processDispatchQueue(dispatchQueue, eventSystemFlags) {\n  eventSystemFlags = 0 !== (eventSystemFlags & 4);\n  for (var i = 0; i < dispatchQueue.length; i++) {\n    var _dispatchQueue$i = dispatchQueue[i],\n      event = _dispatchQueue$i.event;\n    _dispatchQueue$i = _dispatchQueue$i.listeners;\n    a: {\n      var previousInstance = void 0;\n      if (eventSystemFlags)\n        for (\n          var i$jscomp$0 = _dispatchQueue$i.length - 1;\n          0 <= i$jscomp$0;\n          i$jscomp$0--\n        ) {\n          var _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0],\n            instance = _dispatchListeners$i.instance,\n            currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n      else\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < _dispatchQueue$i.length;\n          i$jscomp$0++\n        ) {\n          _dispatchListeners$i = _dispatchQueue$i[i$jscomp$0];\n          instance = _dispatchListeners$i.instance;\n          currentTarget = _dispatchListeners$i.currentTarget;\n          _dispatchListeners$i = _dispatchListeners$i.listener;\n          if (instance !== previousInstance && event.isPropagationStopped())\n            break a;\n          previousInstance = _dispatchListeners$i;\n          event.currentTarget = currentTarget;\n          try {\n            previousInstance(event);\n          } catch (error) {\n            reportGlobalError(error);\n          }\n          event.currentTarget = null;\n          previousInstance = instance;\n        }\n    }\n  }\n}\nfunction listenToNonDelegatedEvent(domEventName, targetElement) {\n  var JSCompiler_inline_result = targetElement[internalEventHandlersKey];\n  void 0 === JSCompiler_inline_result &&\n    (JSCompiler_inline_result = targetElement[internalEventHandlersKey] =\n      new Set());\n  var listenerSetKey = domEventName + \"__bubble\";\n  JSCompiler_inline_result.has(listenerSetKey) ||\n    (addTrappedEventListener(targetElement, domEventName, 2, !1),\n    JSCompiler_inline_result.add(listenerSetKey));\n}\nfunction listenToNativeEvent(domEventName, isCapturePhaseListener, target) {\n  var eventSystemFlags = 0;\n  isCapturePhaseListener && (eventSystemFlags |= 4);\n  addTrappedEventListener(\n    target,\n    domEventName,\n    eventSystemFlags,\n    isCapturePhaseListener\n  );\n}\nvar listeningMarker = \"_reactListening\" + Math.random().toString(36).slice(2);\nfunction listenToAllSupportedEvents(rootContainerElement) {\n  if (!rootContainerElement[listeningMarker]) {\n    rootContainerElement[listeningMarker] = !0;\n    allNativeEvents.forEach(function (domEventName) {\n      \"selectionchange\" !== domEventName &&\n        (nonDelegatedEvents.has(domEventName) ||\n          listenToNativeEvent(domEventName, !1, rootContainerElement),\n        listenToNativeEvent(domEventName, !0, rootContainerElement));\n    });\n    var ownerDocument =\n      9 === rootContainerElement.nodeType\n        ? rootContainerElement\n        : rootContainerElement.ownerDocument;\n    null === ownerDocument ||\n      ownerDocument[listeningMarker] ||\n      ((ownerDocument[listeningMarker] = !0),\n      listenToNativeEvent(\"selectionchange\", !1, ownerDocument));\n  }\n}\nfunction addTrappedEventListener(\n  targetContainer,\n  domEventName,\n  eventSystemFlags,\n  isCapturePhaseListener\n) {\n  switch (getEventPriority(domEventName)) {\n    case 2:\n      var listenerWrapper = dispatchDiscreteEvent;\n      break;\n    case 8:\n      listenerWrapper = dispatchContinuousEvent;\n      break;\n    default:\n      listenerWrapper = dispatchEvent;\n  }\n  eventSystemFlags = listenerWrapper.bind(\n    null,\n    domEventName,\n    eventSystemFlags,\n    targetContainer\n  );\n  listenerWrapper = void 0;\n  !passiveBrowserEventsSupported ||\n    (\"touchstart\" !== domEventName &&\n      \"touchmove\" !== domEventName &&\n      \"wheel\" !== domEventName) ||\n    (listenerWrapper = !0);\n  isCapturePhaseListener\n    ? void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          capture: !0,\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !0)\n    : void 0 !== listenerWrapper\n      ? targetContainer.addEventListener(domEventName, eventSystemFlags, {\n          passive: listenerWrapper\n        })\n      : targetContainer.addEventListener(domEventName, eventSystemFlags, !1);\n}\nfunction dispatchEventForPluginEventSystem(\n  domEventName,\n  eventSystemFlags,\n  nativeEvent,\n  targetInst$jscomp$0,\n  targetContainer\n) {\n  var ancestorInst = targetInst$jscomp$0;\n  if (\n    0 === (eventSystemFlags & 1) &&\n    0 === (eventSystemFlags & 2) &&\n    null !== targetInst$jscomp$0\n  )\n    a: for (;;) {\n      if (null === targetInst$jscomp$0) return;\n      var nodeTag = targetInst$jscomp$0.tag;\n      if (3 === nodeTag || 4 === nodeTag) {\n        var container = targetInst$jscomp$0.stateNode.containerInfo;\n        if (container === targetContainer) break;\n        if (4 === nodeTag)\n          for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {\n            var grandTag = nodeTag.tag;\n            if (\n              (3 === grandTag || 4 === grandTag) &&\n              nodeTag.stateNode.containerInfo === targetContainer\n            )\n              return;\n            nodeTag = nodeTag.return;\n          }\n        for (; null !== container; ) {\n          nodeTag = getClosestInstanceFromNode(container);\n          if (null === nodeTag) return;\n          grandTag = nodeTag.tag;\n          if (\n            5 === grandTag ||\n            6 === grandTag ||\n            26 === grandTag ||\n            27 === grandTag\n          ) {\n            targetInst$jscomp$0 = ancestorInst = nodeTag;\n            continue a;\n          }\n          container = container.parentNode;\n        }\n      }\n      targetInst$jscomp$0 = targetInst$jscomp$0.return;\n    }\n  batchedUpdates$1(function () {\n    var targetInst = ancestorInst,\n      nativeEventTarget = getEventTarget(nativeEvent),\n      dispatchQueue = [];\n    a: {\n      var reactName = topLevelEventsToReactNames.get(domEventName);\n      if (void 0 !== reactName) {\n        var SyntheticEventCtor = SyntheticEvent,\n          reactEventType = domEventName;\n        switch (domEventName) {\n          case \"keypress\":\n            if (0 === getEventCharCode(nativeEvent)) break a;\n          case \"keydown\":\n          case \"keyup\":\n            SyntheticEventCtor = SyntheticKeyboardEvent;\n            break;\n          case \"focusin\":\n            reactEventType = \"focus\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"focusout\":\n            reactEventType = \"blur\";\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"beforeblur\":\n          case \"afterblur\":\n            SyntheticEventCtor = SyntheticFocusEvent;\n            break;\n          case \"click\":\n            if (2 === nativeEvent.button) break a;\n          case \"auxclick\":\n          case \"dblclick\":\n          case \"mousedown\":\n          case \"mousemove\":\n          case \"mouseup\":\n          case \"mouseout\":\n          case \"mouseover\":\n          case \"contextmenu\":\n            SyntheticEventCtor = SyntheticMouseEvent;\n            break;\n          case \"drag\":\n          case \"dragend\":\n          case \"dragenter\":\n          case \"dragexit\":\n          case \"dragleave\":\n          case \"dragover\":\n          case \"dragstart\":\n          case \"drop\":\n            SyntheticEventCtor = SyntheticDragEvent;\n            break;\n          case \"touchcancel\":\n          case \"touchend\":\n          case \"touchmove\":\n          case \"touchstart\":\n            SyntheticEventCtor = SyntheticTouchEvent;\n            break;\n          case ANIMATION_END:\n          case ANIMATION_ITERATION:\n          case ANIMATION_START:\n            SyntheticEventCtor = SyntheticAnimationEvent;\n            break;\n          case TRANSITION_END:\n            SyntheticEventCtor = SyntheticTransitionEvent;\n            break;\n          case \"scroll\":\n          case \"scrollend\":\n            SyntheticEventCtor = SyntheticUIEvent;\n            break;\n          case \"wheel\":\n            SyntheticEventCtor = SyntheticWheelEvent;\n            break;\n          case \"copy\":\n          case \"cut\":\n          case \"paste\":\n            SyntheticEventCtor = SyntheticClipboardEvent;\n            break;\n          case \"gotpointercapture\":\n          case \"lostpointercapture\":\n          case \"pointercancel\":\n          case \"pointerdown\":\n          case \"pointermove\":\n          case \"pointerout\":\n          case \"pointerover\":\n          case \"pointerup\":\n            SyntheticEventCtor = SyntheticPointerEvent;\n            break;\n          case \"toggle\":\n          case \"beforetoggle\":\n            SyntheticEventCtor = SyntheticToggleEvent;\n        }\n        var inCapturePhase = 0 !== (eventSystemFlags & 4),\n          accumulateTargetOnly =\n            !inCapturePhase &&\n            (\"scroll\" === domEventName || \"scrollend\" === domEventName),\n          reactEventName = inCapturePhase\n            ? null !== reactName\n              ? reactName + \"Capture\"\n              : null\n            : reactName;\n        inCapturePhase = [];\n        for (\n          var instance = targetInst, lastHostComponent;\n          null !== instance;\n\n        ) {\n          var _instance = instance;\n          lastHostComponent = _instance.stateNode;\n          _instance = _instance.tag;\n          (5 !== _instance && 26 !== _instance && 27 !== _instance) ||\n            null === lastHostComponent ||\n            null === reactEventName ||\n            ((_instance = getListener(instance, reactEventName)),\n            null != _instance &&\n              inCapturePhase.push(\n                createDispatchListener(instance, _instance, lastHostComponent)\n              ));\n          if (accumulateTargetOnly) break;\n          instance = instance.return;\n        }\n        0 < inCapturePhase.length &&\n          ((reactName = new SyntheticEventCtor(\n            reactName,\n            reactEventType,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: reactName, listeners: inCapturePhase }));\n      }\n    }\n    if (0 === (eventSystemFlags & 7)) {\n      a: {\n        reactName =\n          \"mouseover\" === domEventName || \"pointerover\" === domEventName;\n        SyntheticEventCtor =\n          \"mouseout\" === domEventName || \"pointerout\" === domEventName;\n        if (\n          reactName &&\n          nativeEvent !== currentReplayingEvent &&\n          (reactEventType =\n            nativeEvent.relatedTarget || nativeEvent.fromElement) &&\n          (getClosestInstanceFromNode(reactEventType) ||\n            reactEventType[internalContainerInstanceKey])\n        )\n          break a;\n        if (SyntheticEventCtor || reactName) {\n          reactName =\n            nativeEventTarget.window === nativeEventTarget\n              ? nativeEventTarget\n              : (reactName = nativeEventTarget.ownerDocument)\n                ? reactName.defaultView || reactName.parentWindow\n                : window;\n          if (SyntheticEventCtor) {\n            if (\n              ((reactEventType =\n                nativeEvent.relatedTarget || nativeEvent.toElement),\n              (SyntheticEventCtor = targetInst),\n              (reactEventType = reactEventType\n                ? getClosestInstanceFromNode(reactEventType)\n                : null),\n              null !== reactEventType &&\n                ((accumulateTargetOnly =\n                  getNearestMountedFiber(reactEventType)),\n                (inCapturePhase = reactEventType.tag),\n                reactEventType !== accumulateTargetOnly ||\n                  (5 !== inCapturePhase &&\n                    27 !== inCapturePhase &&\n                    6 !== inCapturePhase)))\n            )\n              reactEventType = null;\n          } else (SyntheticEventCtor = null), (reactEventType = targetInst);\n          if (SyntheticEventCtor !== reactEventType) {\n            inCapturePhase = SyntheticMouseEvent;\n            _instance = \"onMouseLeave\";\n            reactEventName = \"onMouseEnter\";\n            instance = \"mouse\";\n            if (\"pointerout\" === domEventName || \"pointerover\" === domEventName)\n              (inCapturePhase = SyntheticPointerEvent),\n                (_instance = \"onPointerLeave\"),\n                (reactEventName = \"onPointerEnter\"),\n                (instance = \"pointer\");\n            accumulateTargetOnly =\n              null == SyntheticEventCtor\n                ? reactName\n                : getNodeFromInstance(SyntheticEventCtor);\n            lastHostComponent =\n              null == reactEventType\n                ? reactName\n                : getNodeFromInstance(reactEventType);\n            reactName = new inCapturePhase(\n              _instance,\n              instance + \"leave\",\n              SyntheticEventCtor,\n              nativeEvent,\n              nativeEventTarget\n            );\n            reactName.target = accumulateTargetOnly;\n            reactName.relatedTarget = lastHostComponent;\n            _instance = null;\n            getClosestInstanceFromNode(nativeEventTarget) === targetInst &&\n              ((inCapturePhase = new inCapturePhase(\n                reactEventName,\n                instance + \"enter\",\n                reactEventType,\n                nativeEvent,\n                nativeEventTarget\n              )),\n              (inCapturePhase.target = lastHostComponent),\n              (inCapturePhase.relatedTarget = accumulateTargetOnly),\n              (_instance = inCapturePhase));\n            accumulateTargetOnly = _instance;\n            if (SyntheticEventCtor && reactEventType)\n              b: {\n                inCapturePhase = SyntheticEventCtor;\n                reactEventName = reactEventType;\n                instance = 0;\n                for (\n                  lastHostComponent = inCapturePhase;\n                  lastHostComponent;\n                  lastHostComponent = getParent(lastHostComponent)\n                )\n                  instance++;\n                lastHostComponent = 0;\n                for (\n                  _instance = reactEventName;\n                  _instance;\n                  _instance = getParent(_instance)\n                )\n                  lastHostComponent++;\n                for (; 0 < instance - lastHostComponent; )\n                  (inCapturePhase = getParent(inCapturePhase)), instance--;\n                for (; 0 < lastHostComponent - instance; )\n                  (reactEventName = getParent(reactEventName)),\n                    lastHostComponent--;\n                for (; instance--; ) {\n                  if (\n                    inCapturePhase === reactEventName ||\n                    (null !== reactEventName &&\n                      inCapturePhase === reactEventName.alternate)\n                  )\n                    break b;\n                  inCapturePhase = getParent(inCapturePhase);\n                  reactEventName = getParent(reactEventName);\n                }\n                inCapturePhase = null;\n              }\n            else inCapturePhase = null;\n            null !== SyntheticEventCtor &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                reactName,\n                SyntheticEventCtor,\n                inCapturePhase,\n                !1\n              );\n            null !== reactEventType &&\n              null !== accumulateTargetOnly &&\n              accumulateEnterLeaveListenersForEvent(\n                dispatchQueue,\n                accumulateTargetOnly,\n                reactEventType,\n                inCapturePhase,\n                !0\n              );\n          }\n        }\n      }\n      a: {\n        reactName = targetInst ? getNodeFromInstance(targetInst) : window;\n        SyntheticEventCtor =\n          reactName.nodeName && reactName.nodeName.toLowerCase();\n        if (\n          \"select\" === SyntheticEventCtor ||\n          (\"input\" === SyntheticEventCtor && \"file\" === reactName.type)\n        )\n          var getTargetInstFunc = getTargetInstForChangeEvent;\n        else if (isTextInputElement(reactName))\n          if (isInputEventSupported)\n            getTargetInstFunc = getTargetInstForInputOrChangeEvent;\n          else {\n            getTargetInstFunc = getTargetInstForInputEventPolyfill;\n            var handleEventFunc = handleEventsForInputEventPolyfill;\n          }\n        else\n          (SyntheticEventCtor = reactName.nodeName),\n            !SyntheticEventCtor ||\n            \"input\" !== SyntheticEventCtor.toLowerCase() ||\n            (\"checkbox\" !== reactName.type && \"radio\" !== reactName.type)\n              ? targetInst &&\n                isCustomElement(targetInst.elementType) &&\n                (getTargetInstFunc = getTargetInstForChangeEvent)\n              : (getTargetInstFunc = getTargetInstForClickEvent);\n        if (\n          getTargetInstFunc &&\n          (getTargetInstFunc = getTargetInstFunc(domEventName, targetInst))\n        ) {\n          createAndAccumulateChangeEvent(\n            dispatchQueue,\n            getTargetInstFunc,\n            nativeEvent,\n            nativeEventTarget\n          );\n          break a;\n        }\n        handleEventFunc && handleEventFunc(domEventName, reactName, targetInst);\n        \"focusout\" === domEventName &&\n          targetInst &&\n          \"number\" === reactName.type &&\n          null != targetInst.memoizedProps.value &&\n          setDefaultValue(reactName, \"number\", reactName.value);\n      }\n      handleEventFunc = targetInst ? getNodeFromInstance(targetInst) : window;\n      switch (domEventName) {\n        case \"focusin\":\n          if (\n            isTextInputElement(handleEventFunc) ||\n            \"true\" === handleEventFunc.contentEditable\n          )\n            (activeElement = handleEventFunc),\n              (activeElementInst = targetInst),\n              (lastSelection = null);\n          break;\n        case \"focusout\":\n          lastSelection = activeElementInst = activeElement = null;\n          break;\n        case \"mousedown\":\n          mouseDown = !0;\n          break;\n        case \"contextmenu\":\n        case \"mouseup\":\n        case \"dragend\":\n          mouseDown = !1;\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n          break;\n        case \"selectionchange\":\n          if (skipSelectionChangeEvent) break;\n        case \"keydown\":\n        case \"keyup\":\n          constructSelectEvent(dispatchQueue, nativeEvent, nativeEventTarget);\n      }\n      var fallbackData;\n      if (canUseCompositionEvent)\n        b: {\n          switch (domEventName) {\n            case \"compositionstart\":\n              var eventType = \"onCompositionStart\";\n              break b;\n            case \"compositionend\":\n              eventType = \"onCompositionEnd\";\n              break b;\n            case \"compositionupdate\":\n              eventType = \"onCompositionUpdate\";\n              break b;\n          }\n          eventType = void 0;\n        }\n      else\n        isComposing\n          ? isFallbackCompositionEnd(domEventName, nativeEvent) &&\n            (eventType = \"onCompositionEnd\")\n          : \"keydown\" === domEventName &&\n            229 === nativeEvent.keyCode &&\n            (eventType = \"onCompositionStart\");\n      eventType &&\n        (useFallbackCompositionData &&\n          \"ko\" !== nativeEvent.locale &&\n          (isComposing || \"onCompositionStart\" !== eventType\n            ? \"onCompositionEnd\" === eventType &&\n              isComposing &&\n              (fallbackData = getData())\n            : ((root = nativeEventTarget),\n              (startText = \"value\" in root ? root.value : root.textContent),\n              (isComposing = !0))),\n        (handleEventFunc = accumulateTwoPhaseListeners(targetInst, eventType)),\n        0 < handleEventFunc.length &&\n          ((eventType = new SyntheticCompositionEvent(\n            eventType,\n            domEventName,\n            null,\n            nativeEvent,\n            nativeEventTarget\n          )),\n          dispatchQueue.push({ event: eventType, listeners: handleEventFunc }),\n          fallbackData\n            ? (eventType.data = fallbackData)\n            : ((fallbackData = getDataFromCustomEvent(nativeEvent)),\n              null !== fallbackData && (eventType.data = fallbackData))));\n      if (\n        (fallbackData = canUseTextInputEvent\n          ? getNativeBeforeInputChars(domEventName, nativeEvent)\n          : getFallbackBeforeInputChars(domEventName, nativeEvent))\n      )\n        (eventType = accumulateTwoPhaseListeners(targetInst, \"onBeforeInput\")),\n          0 < eventType.length &&\n            ((handleEventFunc = new SyntheticCompositionEvent(\n              \"onBeforeInput\",\n              \"beforeinput\",\n              null,\n              nativeEvent,\n              nativeEventTarget\n            )),\n            dispatchQueue.push({\n              event: handleEventFunc,\n              listeners: eventType\n            }),\n            (handleEventFunc.data = fallbackData));\n      extractEvents$1(\n        dispatchQueue,\n        domEventName,\n        targetInst,\n        nativeEvent,\n        nativeEventTarget\n      );\n    }\n    processDispatchQueue(dispatchQueue, eventSystemFlags);\n  });\n}\nfunction createDispatchListener(instance, listener, currentTarget) {\n  return {\n    instance: instance,\n    listener: listener,\n    currentTarget: currentTarget\n  };\n}\nfunction accumulateTwoPhaseListeners(targetFiber, reactName) {\n  for (\n    var captureName = reactName + \"Capture\", listeners = [];\n    null !== targetFiber;\n\n  ) {\n    var _instance2 = targetFiber,\n      stateNode = _instance2.stateNode;\n    _instance2 = _instance2.tag;\n    (5 !== _instance2 && 26 !== _instance2 && 27 !== _instance2) ||\n      null === stateNode ||\n      ((_instance2 = getListener(targetFiber, captureName)),\n      null != _instance2 &&\n        listeners.unshift(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ),\n      (_instance2 = getListener(targetFiber, reactName)),\n      null != _instance2 &&\n        listeners.push(\n          createDispatchListener(targetFiber, _instance2, stateNode)\n        ));\n    if (3 === targetFiber.tag) return listeners;\n    targetFiber = targetFiber.return;\n  }\n  return [];\n}\nfunction getParent(inst) {\n  if (null === inst) return null;\n  do inst = inst.return;\n  while (inst && 5 !== inst.tag && 27 !== inst.tag);\n  return inst ? inst : null;\n}\nfunction accumulateEnterLeaveListenersForEvent(\n  dispatchQueue,\n  event,\n  target,\n  common,\n  inCapturePhase\n) {\n  for (\n    var registrationName = event._reactName, listeners = [];\n    null !== target && target !== common;\n\n  ) {\n    var _instance3 = target,\n      alternate = _instance3.alternate,\n      stateNode = _instance3.stateNode;\n    _instance3 = _instance3.tag;\n    if (null !== alternate && alternate === common) break;\n    (5 !== _instance3 && 26 !== _instance3 && 27 !== _instance3) ||\n      null === stateNode ||\n      ((alternate = stateNode),\n      inCapturePhase\n        ? ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.unshift(\n              createDispatchListener(target, stateNode, alternate)\n            ))\n        : inCapturePhase ||\n          ((stateNode = getListener(target, registrationName)),\n          null != stateNode &&\n            listeners.push(\n              createDispatchListener(target, stateNode, alternate)\n            )));\n    target = target.return;\n  }\n  0 !== listeners.length &&\n    dispatchQueue.push({ event: event, listeners: listeners });\n}\nvar NORMALIZE_NEWLINES_REGEX = /\\r\\n?/g,\n  NORMALIZE_NULL_AND_REPLACEMENT_REGEX = /\\u0000|\\uFFFD/g;\nfunction normalizeMarkupForTextOrAttribute(markup) {\n  return (\"string\" === typeof markup ? markup : \"\" + markup)\n    .replace(NORMALIZE_NEWLINES_REGEX, \"\\n\")\n    .replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX, \"\");\n}\nfunction checkForUnmatchedText(serverText, clientText) {\n  clientText = normalizeMarkupForTextOrAttribute(clientText);\n  return normalizeMarkupForTextOrAttribute(serverText) === clientText ? !0 : !1;\n}\nfunction noop$1() {}\nfunction setProp(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"children\":\n      \"string\" === typeof value\n        ? \"body\" === tag ||\n          (\"textarea\" === tag && \"\" === value) ||\n          setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          \"body\" !== tag &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"className\":\n      setValueForKnownAttribute(domElement, \"class\", value);\n      break;\n    case \"tabIndex\":\n      setValueForKnownAttribute(domElement, \"tabindex\", value);\n      break;\n    case \"dir\":\n    case \"role\":\n    case \"viewBox\":\n    case \"width\":\n    case \"height\":\n      setValueForKnownAttribute(domElement, key, value);\n      break;\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"data\":\n      if (\"object\" !== tag) {\n        setValueForKnownAttribute(domElement, \"data\", value);\n        break;\n      }\n    case \"src\":\n    case \"href\":\n      if (\"\" === value && (\"a\" !== tag || \"href\" !== key)) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"action\":\n    case \"formAction\":\n      if (\"function\" === typeof value) {\n        domElement.setAttribute(\n          key,\n          \"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\"\n        );\n        break;\n      } else\n        \"function\" === typeof prevValue &&\n          (\"formAction\" === key\n            ? (\"input\" !== tag &&\n                setProp(domElement, tag, \"name\", props.name, props, null),\n              setProp(\n                domElement,\n                tag,\n                \"formEncType\",\n                props.formEncType,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formMethod\",\n                props.formMethod,\n                props,\n                null\n              ),\n              setProp(\n                domElement,\n                tag,\n                \"formTarget\",\n                props.formTarget,\n                props,\n                null\n              ))\n            : (setProp(domElement, tag, \"encType\", props.encType, props, null),\n              setProp(domElement, tag, \"method\", props.method, props, null),\n              setProp(domElement, tag, \"target\", props.target, props, null)));\n      if (\n        null == value ||\n        \"symbol\" === typeof value ||\n        \"boolean\" === typeof value\n      ) {\n        domElement.removeAttribute(key);\n        break;\n      }\n      value = sanitizeURL(\"\" + value);\n      domElement.setAttribute(key, value);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"multiple\":\n      domElement.multiple =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"muted\":\n      domElement.muted =\n        value && \"function\" !== typeof value && \"symbol\" !== typeof value;\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"defaultValue\":\n    case \"defaultChecked\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"autoFocus\":\n      break;\n    case \"xlinkHref\":\n      if (\n        null == value ||\n        \"function\" === typeof value ||\n        \"boolean\" === typeof value ||\n        \"symbol\" === typeof value\n      ) {\n        domElement.removeAttribute(\"xlink:href\");\n        break;\n      }\n      key = sanitizeURL(\"\" + value);\n      domElement.setAttributeNS(\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:href\",\n        key\n      );\n      break;\n    case \"contentEditable\":\n    case \"spellCheck\":\n    case \"draggable\":\n    case \"value\":\n    case \"autoReverse\":\n    case \"externalResourcesRequired\":\n    case \"focusable\":\n    case \"preserveAlpha\":\n      null != value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\" + value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"inert\":\n    case \"allowFullScreen\":\n    case \"async\":\n    case \"autoPlay\":\n    case \"controls\":\n    case \"default\":\n    case \"defer\":\n    case \"disabled\":\n    case \"disablePictureInPicture\":\n    case \"disableRemotePlayback\":\n    case \"formNoValidate\":\n    case \"hidden\":\n    case \"loop\":\n    case \"noModule\":\n    case \"noValidate\":\n    case \"open\":\n    case \"playsInline\":\n    case \"readOnly\":\n    case \"required\":\n    case \"reversed\":\n    case \"scoped\":\n    case \"seamless\":\n    case \"itemScope\":\n      value && \"function\" !== typeof value && \"symbol\" !== typeof value\n        ? domElement.setAttribute(key, \"\")\n        : domElement.removeAttribute(key);\n      break;\n    case \"capture\":\n    case \"download\":\n      !0 === value\n        ? domElement.setAttribute(key, \"\")\n        : !1 !== value &&\n            null != value &&\n            \"function\" !== typeof value &&\n            \"symbol\" !== typeof value\n          ? domElement.setAttribute(key, value)\n          : domElement.removeAttribute(key);\n      break;\n    case \"cols\":\n    case \"rows\":\n    case \"size\":\n    case \"span\":\n      null != value &&\n      \"function\" !== typeof value &&\n      \"symbol\" !== typeof value &&\n      !isNaN(value) &&\n      1 <= value\n        ? domElement.setAttribute(key, value)\n        : domElement.removeAttribute(key);\n      break;\n    case \"rowSpan\":\n    case \"start\":\n      null == value ||\n      \"function\" === typeof value ||\n      \"symbol\" === typeof value ||\n      isNaN(value)\n        ? domElement.removeAttribute(key)\n        : domElement.setAttribute(key, value);\n      break;\n    case \"popover\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      setValueForAttribute(domElement, \"popover\", value);\n      break;\n    case \"xlinkActuate\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:actuate\",\n        value\n      );\n      break;\n    case \"xlinkArcrole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:arcrole\",\n        value\n      );\n      break;\n    case \"xlinkRole\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:role\",\n        value\n      );\n      break;\n    case \"xlinkShow\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:show\",\n        value\n      );\n      break;\n    case \"xlinkTitle\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:title\",\n        value\n      );\n      break;\n    case \"xlinkType\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/1999/xlink\",\n        \"xlink:type\",\n        value\n      );\n      break;\n    case \"xmlBase\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:base\",\n        value\n      );\n      break;\n    case \"xmlLang\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:lang\",\n        value\n      );\n      break;\n    case \"xmlSpace\":\n      setValueForNamespacedAttribute(\n        domElement,\n        \"http://www.w3.org/XML/1998/namespace\",\n        \"xml:space\",\n        value\n      );\n      break;\n    case \"is\":\n      setValueForAttribute(domElement, \"is\", value);\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (\n        !(2 < key.length) ||\n        (\"o\" !== key[0] && \"O\" !== key[0]) ||\n        (\"n\" !== key[1] && \"N\" !== key[1])\n      )\n        (key = aliases.get(key) || key),\n          setValueForAttribute(domElement, key, value);\n  }\n}\nfunction setPropOnCustomElement(domElement, tag, key, value, props, prevValue) {\n  switch (key) {\n    case \"style\":\n      setValueForStyles(domElement, value, prevValue);\n      break;\n    case \"dangerouslySetInnerHTML\":\n      if (null != value) {\n        if (\"object\" !== typeof value || !(\"__html\" in value))\n          throw Error(formatProdErrorMessage(61));\n        key = value.__html;\n        if (null != key) {\n          if (null != props.children) throw Error(formatProdErrorMessage(60));\n          domElement.innerHTML = key;\n        }\n      }\n      break;\n    case \"children\":\n      \"string\" === typeof value\n        ? setTextContent(domElement, value)\n        : (\"number\" === typeof value || \"bigint\" === typeof value) &&\n          setTextContent(domElement, \"\" + value);\n      break;\n    case \"onScroll\":\n      null != value && listenToNonDelegatedEvent(\"scroll\", domElement);\n      break;\n    case \"onScrollEnd\":\n      null != value && listenToNonDelegatedEvent(\"scrollend\", domElement);\n      break;\n    case \"onClick\":\n      null != value && (domElement.onclick = noop$1);\n      break;\n    case \"suppressContentEditableWarning\":\n    case \"suppressHydrationWarning\":\n    case \"innerHTML\":\n    case \"ref\":\n      break;\n    case \"innerText\":\n    case \"textContent\":\n      break;\n    default:\n      if (!registrationNameDependencies.hasOwnProperty(key))\n        a: {\n          if (\n            \"o\" === key[0] &&\n            \"n\" === key[1] &&\n            ((props = key.endsWith(\"Capture\")),\n            (tag = key.slice(2, props ? key.length - 7 : void 0)),\n            (prevValue = domElement[internalPropsKey] || null),\n            (prevValue = null != prevValue ? prevValue[key] : null),\n            \"function\" === typeof prevValue &&\n              domElement.removeEventListener(tag, prevValue, props),\n            \"function\" === typeof value)\n          ) {\n            \"function\" !== typeof prevValue &&\n              null !== prevValue &&\n              (key in domElement\n                ? (domElement[key] = null)\n                : domElement.hasAttribute(key) &&\n                  domElement.removeAttribute(key));\n            domElement.addEventListener(tag, value, props);\n            break a;\n          }\n          key in domElement\n            ? (domElement[key] = value)\n            : !0 === value\n              ? domElement.setAttribute(key, \"\")\n              : setValueForAttribute(domElement, key, value);\n        }\n  }\n}\nfunction setInitialProperties(domElement, tag, props) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"img\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      var hasSrc = !1,\n        hasSrcSet = !1,\n        propKey;\n      for (propKey in props)\n        if (props.hasOwnProperty(propKey)) {\n          var propValue = props[propKey];\n          if (null != propValue)\n            switch (propKey) {\n              case \"src\":\n                hasSrc = !0;\n                break;\n              case \"srcSet\":\n                hasSrcSet = !0;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                throw Error(formatProdErrorMessage(137, tag));\n              default:\n                setProp(domElement, tag, propKey, propValue, props, null);\n            }\n        }\n      hasSrcSet &&\n        setProp(domElement, tag, \"srcSet\", props.srcSet, props, null);\n      hasSrc && setProp(domElement, tag, \"src\", props.src, props, null);\n      return;\n    case \"input\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      var defaultValue = (propKey = propValue = hasSrcSet = null),\n        checked = null,\n        defaultChecked = null;\n      for (hasSrc in props)\n        if (props.hasOwnProperty(hasSrc)) {\n          var propValue$188 = props[hasSrc];\n          if (null != propValue$188)\n            switch (hasSrc) {\n              case \"name\":\n                hasSrcSet = propValue$188;\n                break;\n              case \"type\":\n                propValue = propValue$188;\n                break;\n              case \"checked\":\n                checked = propValue$188;\n                break;\n              case \"defaultChecked\":\n                defaultChecked = propValue$188;\n                break;\n              case \"value\":\n                propKey = propValue$188;\n                break;\n              case \"defaultValue\":\n                defaultValue = propValue$188;\n                break;\n              case \"children\":\n              case \"dangerouslySetInnerHTML\":\n                if (null != propValue$188)\n                  throw Error(formatProdErrorMessage(137, tag));\n                break;\n              default:\n                setProp(domElement, tag, hasSrc, propValue$188, props, null);\n            }\n        }\n      initInput(\n        domElement,\n        propKey,\n        defaultValue,\n        checked,\n        defaultChecked,\n        propValue,\n        hasSrcSet,\n        !1\n      );\n      track(domElement);\n      return;\n    case \"select\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      hasSrc = propValue = propKey = null;\n      for (hasSrcSet in props)\n        if (\n          props.hasOwnProperty(hasSrcSet) &&\n          ((defaultValue = props[hasSrcSet]), null != defaultValue)\n        )\n          switch (hasSrcSet) {\n            case \"value\":\n              propKey = defaultValue;\n              break;\n            case \"defaultValue\":\n              propValue = defaultValue;\n              break;\n            case \"multiple\":\n              hasSrc = defaultValue;\n            default:\n              setProp(domElement, tag, hasSrcSet, defaultValue, props, null);\n          }\n      tag = propKey;\n      props = propValue;\n      domElement.multiple = !!hasSrc;\n      null != tag\n        ? updateOptions(domElement, !!hasSrc, tag, !1)\n        : null != props && updateOptions(domElement, !!hasSrc, props, !0);\n      return;\n    case \"textarea\":\n      listenToNonDelegatedEvent(\"invalid\", domElement);\n      propKey = hasSrcSet = hasSrc = null;\n      for (propValue in props)\n        if (\n          props.hasOwnProperty(propValue) &&\n          ((defaultValue = props[propValue]), null != defaultValue)\n        )\n          switch (propValue) {\n            case \"value\":\n              hasSrc = defaultValue;\n              break;\n            case \"defaultValue\":\n              hasSrcSet = defaultValue;\n              break;\n            case \"children\":\n              propKey = defaultValue;\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != defaultValue) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              setProp(domElement, tag, propValue, defaultValue, props, null);\n          }\n      initTextarea(domElement, hasSrc, hasSrcSet, propKey);\n      track(domElement);\n      return;\n    case \"option\":\n      for (checked in props)\n        if (\n          props.hasOwnProperty(checked) &&\n          ((hasSrc = props[checked]), null != hasSrc)\n        )\n          switch (checked) {\n            case \"selected\":\n              domElement.selected =\n                hasSrc &&\n                \"function\" !== typeof hasSrc &&\n                \"symbol\" !== typeof hasSrc;\n              break;\n            default:\n              setProp(domElement, tag, checked, hasSrc, props, null);\n          }\n      return;\n    case \"dialog\":\n      listenToNonDelegatedEvent(\"beforetoggle\", domElement);\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      listenToNonDelegatedEvent(\"cancel\", domElement);\n      listenToNonDelegatedEvent(\"close\", domElement);\n      break;\n    case \"iframe\":\n    case \"object\":\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"video\":\n    case \"audio\":\n      for (hasSrc = 0; hasSrc < mediaEventTypes.length; hasSrc++)\n        listenToNonDelegatedEvent(mediaEventTypes[hasSrc], domElement);\n      break;\n    case \"image\":\n      listenToNonDelegatedEvent(\"error\", domElement);\n      listenToNonDelegatedEvent(\"load\", domElement);\n      break;\n    case \"details\":\n      listenToNonDelegatedEvent(\"toggle\", domElement);\n      break;\n    case \"embed\":\n    case \"source\":\n    case \"link\":\n      listenToNonDelegatedEvent(\"error\", domElement),\n        listenToNonDelegatedEvent(\"load\", domElement);\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (defaultChecked in props)\n        if (\n          props.hasOwnProperty(defaultChecked) &&\n          ((hasSrc = props[defaultChecked]), null != hasSrc)\n        )\n          switch (defaultChecked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              throw Error(formatProdErrorMessage(137, tag));\n            default:\n              setProp(domElement, tag, defaultChecked, hasSrc, props, null);\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (propValue$188 in props)\n          props.hasOwnProperty(propValue$188) &&\n            ((hasSrc = props[propValue$188]),\n            void 0 !== hasSrc &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propValue$188,\n                hasSrc,\n                props,\n                void 0\n              ));\n        return;\n      }\n  }\n  for (defaultValue in props)\n    props.hasOwnProperty(defaultValue) &&\n      ((hasSrc = props[defaultValue]),\n      null != hasSrc &&\n        setProp(domElement, tag, defaultValue, hasSrc, props, null));\n}\nfunction updateProperties(domElement, tag, lastProps, nextProps) {\n  switch (tag) {\n    case \"div\":\n    case \"span\":\n    case \"svg\":\n    case \"path\":\n    case \"a\":\n    case \"g\":\n    case \"p\":\n    case \"li\":\n      break;\n    case \"input\":\n      var name = null,\n        type = null,\n        value = null,\n        defaultValue = null,\n        lastDefaultValue = null,\n        checked = null,\n        defaultChecked = null;\n      for (propKey in lastProps) {\n        var lastProp = lastProps[propKey];\n        if (lastProps.hasOwnProperty(propKey) && null != lastProp)\n          switch (propKey) {\n            case \"checked\":\n              break;\n            case \"value\":\n              break;\n            case \"defaultValue\":\n              lastDefaultValue = lastProp;\n            default:\n              nextProps.hasOwnProperty(propKey) ||\n                setProp(domElement, tag, propKey, null, nextProps, lastProp);\n          }\n      }\n      for (var propKey$205 in nextProps) {\n        var propKey = nextProps[propKey$205];\n        lastProp = lastProps[propKey$205];\n        if (\n          nextProps.hasOwnProperty(propKey$205) &&\n          (null != propKey || null != lastProp)\n        )\n          switch (propKey$205) {\n            case \"type\":\n              type = propKey;\n              break;\n            case \"name\":\n              name = propKey;\n              break;\n            case \"checked\":\n              checked = propKey;\n              break;\n            case \"defaultChecked\":\n              defaultChecked = propKey;\n              break;\n            case \"value\":\n              value = propKey;\n              break;\n            case \"defaultValue\":\n              defaultValue = propKey;\n              break;\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              propKey !== lastProp &&\n                setProp(\n                  domElement,\n                  tag,\n                  propKey$205,\n                  propKey,\n                  nextProps,\n                  lastProp\n                );\n          }\n      }\n      updateInput(\n        domElement,\n        value,\n        defaultValue,\n        lastDefaultValue,\n        checked,\n        defaultChecked,\n        type,\n        name\n      );\n      return;\n    case \"select\":\n      propKey = value = defaultValue = propKey$205 = null;\n      for (type in lastProps)\n        if (\n          ((lastDefaultValue = lastProps[type]),\n          lastProps.hasOwnProperty(type) && null != lastDefaultValue)\n        )\n          switch (type) {\n            case \"value\":\n              break;\n            case \"multiple\":\n              propKey = lastDefaultValue;\n            default:\n              nextProps.hasOwnProperty(type) ||\n                setProp(\n                  domElement,\n                  tag,\n                  type,\n                  null,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      for (name in nextProps)\n        if (\n          ((type = nextProps[name]),\n          (lastDefaultValue = lastProps[name]),\n          nextProps.hasOwnProperty(name) &&\n            (null != type || null != lastDefaultValue))\n        )\n          switch (name) {\n            case \"value\":\n              propKey$205 = type;\n              break;\n            case \"defaultValue\":\n              defaultValue = type;\n              break;\n            case \"multiple\":\n              value = type;\n            default:\n              type !== lastDefaultValue &&\n                setProp(\n                  domElement,\n                  tag,\n                  name,\n                  type,\n                  nextProps,\n                  lastDefaultValue\n                );\n          }\n      tag = defaultValue;\n      lastProps = value;\n      nextProps = propKey;\n      null != propKey$205\n        ? updateOptions(domElement, !!lastProps, propKey$205, !1)\n        : !!nextProps !== !!lastProps &&\n          (null != tag\n            ? updateOptions(domElement, !!lastProps, tag, !0)\n            : updateOptions(domElement, !!lastProps, lastProps ? [] : \"\", !1));\n      return;\n    case \"textarea\":\n      propKey = propKey$205 = null;\n      for (defaultValue in lastProps)\n        if (\n          ((name = lastProps[defaultValue]),\n          lastProps.hasOwnProperty(defaultValue) &&\n            null != name &&\n            !nextProps.hasOwnProperty(defaultValue))\n        )\n          switch (defaultValue) {\n            case \"value\":\n              break;\n            case \"children\":\n              break;\n            default:\n              setProp(domElement, tag, defaultValue, null, nextProps, name);\n          }\n      for (value in nextProps)\n        if (\n          ((name = nextProps[value]),\n          (type = lastProps[value]),\n          nextProps.hasOwnProperty(value) && (null != name || null != type))\n        )\n          switch (value) {\n            case \"value\":\n              propKey$205 = name;\n              break;\n            case \"defaultValue\":\n              propKey = name;\n              break;\n            case \"children\":\n              break;\n            case \"dangerouslySetInnerHTML\":\n              if (null != name) throw Error(formatProdErrorMessage(91));\n              break;\n            default:\n              name !== type &&\n                setProp(domElement, tag, value, name, nextProps, type);\n          }\n      updateTextarea(domElement, propKey$205, propKey);\n      return;\n    case \"option\":\n      for (var propKey$221 in lastProps)\n        if (\n          ((propKey$205 = lastProps[propKey$221]),\n          lastProps.hasOwnProperty(propKey$221) &&\n            null != propKey$205 &&\n            !nextProps.hasOwnProperty(propKey$221))\n        )\n          switch (propKey$221) {\n            case \"selected\":\n              domElement.selected = !1;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                propKey$221,\n                null,\n                nextProps,\n                propKey$205\n              );\n          }\n      for (lastDefaultValue in nextProps)\n        if (\n          ((propKey$205 = nextProps[lastDefaultValue]),\n          (propKey = lastProps[lastDefaultValue]),\n          nextProps.hasOwnProperty(lastDefaultValue) &&\n            propKey$205 !== propKey &&\n            (null != propKey$205 || null != propKey))\n        )\n          switch (lastDefaultValue) {\n            case \"selected\":\n              domElement.selected =\n                propKey$205 &&\n                \"function\" !== typeof propKey$205 &&\n                \"symbol\" !== typeof propKey$205;\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                lastDefaultValue,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    case \"img\":\n    case \"link\":\n    case \"area\":\n    case \"base\":\n    case \"br\":\n    case \"col\":\n    case \"embed\":\n    case \"hr\":\n    case \"keygen\":\n    case \"meta\":\n    case \"param\":\n    case \"source\":\n    case \"track\":\n    case \"wbr\":\n    case \"menuitem\":\n      for (var propKey$226 in lastProps)\n        (propKey$205 = lastProps[propKey$226]),\n          lastProps.hasOwnProperty(propKey$226) &&\n            null != propKey$205 &&\n            !nextProps.hasOwnProperty(propKey$226) &&\n            setProp(domElement, tag, propKey$226, null, nextProps, propKey$205);\n      for (checked in nextProps)\n        if (\n          ((propKey$205 = nextProps[checked]),\n          (propKey = lastProps[checked]),\n          nextProps.hasOwnProperty(checked) &&\n            propKey$205 !== propKey &&\n            (null != propKey$205 || null != propKey))\n        )\n          switch (checked) {\n            case \"children\":\n            case \"dangerouslySetInnerHTML\":\n              if (null != propKey$205)\n                throw Error(formatProdErrorMessage(137, tag));\n              break;\n            default:\n              setProp(\n                domElement,\n                tag,\n                checked,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n          }\n      return;\n    default:\n      if (isCustomElement(tag)) {\n        for (var propKey$231 in lastProps)\n          (propKey$205 = lastProps[propKey$231]),\n            lastProps.hasOwnProperty(propKey$231) &&\n              void 0 !== propKey$205 &&\n              !nextProps.hasOwnProperty(propKey$231) &&\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                propKey$231,\n                void 0,\n                nextProps,\n                propKey$205\n              );\n        for (defaultChecked in nextProps)\n          (propKey$205 = nextProps[defaultChecked]),\n            (propKey = lastProps[defaultChecked]),\n            !nextProps.hasOwnProperty(defaultChecked) ||\n              propKey$205 === propKey ||\n              (void 0 === propKey$205 && void 0 === propKey) ||\n              setPropOnCustomElement(\n                domElement,\n                tag,\n                defaultChecked,\n                propKey$205,\n                nextProps,\n                propKey\n              );\n        return;\n      }\n  }\n  for (var propKey$236 in lastProps)\n    (propKey$205 = lastProps[propKey$236]),\n      lastProps.hasOwnProperty(propKey$236) &&\n        null != propKey$205 &&\n        !nextProps.hasOwnProperty(propKey$236) &&\n        setProp(domElement, tag, propKey$236, null, nextProps, propKey$205);\n  for (lastProp in nextProps)\n    (propKey$205 = nextProps[lastProp]),\n      (propKey = lastProps[lastProp]),\n      !nextProps.hasOwnProperty(lastProp) ||\n        propKey$205 === propKey ||\n        (null == propKey$205 && null == propKey) ||\n        setProp(domElement, tag, lastProp, propKey$205, nextProps, propKey);\n}\nvar eventsEnabled = null,\n  selectionInformation = null;\nfunction getOwnerDocumentFromRootContainer(rootContainerElement) {\n  return 9 === rootContainerElement.nodeType\n    ? rootContainerElement\n    : rootContainerElement.ownerDocument;\n}\nfunction getOwnHostContext(namespaceURI) {\n  switch (namespaceURI) {\n    case \"http://www.w3.org/2000/svg\":\n      return 1;\n    case \"http://www.w3.org/1998/Math/MathML\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getChildHostContextProd(parentNamespace, type) {\n  if (0 === parentNamespace)\n    switch (type) {\n      case \"svg\":\n        return 1;\n      case \"math\":\n        return 2;\n      default:\n        return 0;\n    }\n  return 1 === parentNamespace && \"foreignObject\" === type\n    ? 0\n    : parentNamespace;\n}\nfunction shouldSetTextContent(type, props) {\n  return (\n    \"textarea\" === type ||\n    \"noscript\" === type ||\n    \"string\" === typeof props.children ||\n    \"number\" === typeof props.children ||\n    \"bigint\" === typeof props.children ||\n    (\"object\" === typeof props.dangerouslySetInnerHTML &&\n      null !== props.dangerouslySetInnerHTML &&\n      null != props.dangerouslySetInnerHTML.__html)\n  );\n}\nvar currentPopstateTransitionEvent = null;\nfunction shouldAttemptEagerTransition() {\n  var event = window.event;\n  if (event && \"popstate\" === event.type) {\n    if (event === currentPopstateTransitionEvent) return !1;\n    currentPopstateTransitionEvent = event;\n    return !0;\n  }\n  currentPopstateTransitionEvent = null;\n  return !1;\n}\nvar scheduleTimeout = \"function\" === typeof setTimeout ? setTimeout : void 0,\n  cancelTimeout = \"function\" === typeof clearTimeout ? clearTimeout : void 0,\n  localPromise = \"function\" === typeof Promise ? Promise : void 0,\n  scheduleMicrotask =\n    \"function\" === typeof queueMicrotask\n      ? queueMicrotask\n      : \"undefined\" !== typeof localPromise\n        ? function (callback) {\n            return localPromise\n              .resolve(null)\n              .then(callback)\n              .catch(handleErrorInNextTick);\n          }\n        : scheduleTimeout;\nfunction handleErrorInNextTick(error) {\n  setTimeout(function () {\n    throw error;\n  });\n}\nfunction isSingletonScope(type) {\n  return \"head\" === type;\n}\nfunction clearSuspenseBoundary(parentInstance, suspenseInstance) {\n  var node = suspenseInstance,\n    possiblePreambleContribution = 0,\n    depth = 0;\n  do {\n    var nextNode = node.nextSibling;\n    parentInstance.removeChild(node);\n    if (nextNode && 8 === nextNode.nodeType)\n      if (((node = nextNode.data), \"/$\" === node)) {\n        if (\n          0 < possiblePreambleContribution &&\n          8 > possiblePreambleContribution\n        ) {\n          node = possiblePreambleContribution;\n          var ownerDocument = parentInstance.ownerDocument;\n          node & 1 && releaseSingletonInstance(ownerDocument.documentElement);\n          node & 2 && releaseSingletonInstance(ownerDocument.body);\n          if (node & 4)\n            for (\n              node = ownerDocument.head,\n                releaseSingletonInstance(node),\n                ownerDocument = node.firstChild;\n              ownerDocument;\n\n            ) {\n              var nextNode$jscomp$0 = ownerDocument.nextSibling,\n                nodeName = ownerDocument.nodeName;\n              ownerDocument[internalHoistableMarker] ||\n                \"SCRIPT\" === nodeName ||\n                \"STYLE\" === nodeName ||\n                (\"LINK\" === nodeName &&\n                  \"stylesheet\" === ownerDocument.rel.toLowerCase()) ||\n                node.removeChild(ownerDocument);\n              ownerDocument = nextNode$jscomp$0;\n            }\n        }\n        if (0 === depth) {\n          parentInstance.removeChild(nextNode);\n          retryIfBlockedOn(suspenseInstance);\n          return;\n        }\n        depth--;\n      } else\n        \"$\" === node || \"$?\" === node || \"$!\" === node\n          ? depth++\n          : (possiblePreambleContribution = node.charCodeAt(0) - 48);\n    else possiblePreambleContribution = 0;\n    node = nextNode;\n  } while (node);\n  retryIfBlockedOn(suspenseInstance);\n}\nfunction clearContainerSparingly(container) {\n  var nextNode = container.firstChild;\n  nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);\n  for (; nextNode; ) {\n    var node = nextNode;\n    nextNode = nextNode.nextSibling;\n    switch (node.nodeName) {\n      case \"HTML\":\n      case \"HEAD\":\n      case \"BODY\":\n        clearContainerSparingly(node);\n        detachDeletedInstance(node);\n        continue;\n      case \"SCRIPT\":\n      case \"STYLE\":\n        continue;\n      case \"LINK\":\n        if (\"stylesheet\" === node.rel.toLowerCase()) continue;\n    }\n    container.removeChild(node);\n  }\n}\nfunction canHydrateInstance(instance, type, props, inRootOrSingleton) {\n  for (; 1 === instance.nodeType; ) {\n    var anyProps = props;\n    if (instance.nodeName.toLowerCase() !== type.toLowerCase()) {\n      if (\n        !inRootOrSingleton &&\n        (\"INPUT\" !== instance.nodeName || \"hidden\" !== instance.type)\n      )\n        break;\n    } else if (!inRootOrSingleton)\n      if (\"input\" === type && \"hidden\" === instance.type) {\n        var name = null == anyProps.name ? null : \"\" + anyProps.name;\n        if (\n          \"hidden\" === anyProps.type &&\n          instance.getAttribute(\"name\") === name\n        )\n          return instance;\n      } else return instance;\n    else if (!instance[internalHoistableMarker])\n      switch (type) {\n        case \"meta\":\n          if (!instance.hasAttribute(\"itemprop\")) break;\n          return instance;\n        case \"link\":\n          name = instance.getAttribute(\"rel\");\n          if (\"stylesheet\" === name && instance.hasAttribute(\"data-precedence\"))\n            break;\n          else if (\n            name !== anyProps.rel ||\n            instance.getAttribute(\"href\") !==\n              (null == anyProps.href || \"\" === anyProps.href\n                ? null\n                : anyProps.href) ||\n            instance.getAttribute(\"crossorigin\") !==\n              (null == anyProps.crossOrigin ? null : anyProps.crossOrigin) ||\n            instance.getAttribute(\"title\") !==\n              (null == anyProps.title ? null : anyProps.title)\n          )\n            break;\n          return instance;\n        case \"style\":\n          if (instance.hasAttribute(\"data-precedence\")) break;\n          return instance;\n        case \"script\":\n          name = instance.getAttribute(\"src\");\n          if (\n            (name !== (null == anyProps.src ? null : anyProps.src) ||\n              instance.getAttribute(\"type\") !==\n                (null == anyProps.type ? null : anyProps.type) ||\n              instance.getAttribute(\"crossorigin\") !==\n                (null == anyProps.crossOrigin ? null : anyProps.crossOrigin)) &&\n            name &&\n            instance.hasAttribute(\"async\") &&\n            !instance.hasAttribute(\"itemprop\")\n          )\n            break;\n          return instance;\n        default:\n          return instance;\n      }\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) break;\n  }\n  return null;\n}\nfunction canHydrateTextInstance(instance, text, inRootOrSingleton) {\n  if (\"\" === text) return null;\n  for (; 3 !== instance.nodeType; ) {\n    if (\n      (1 !== instance.nodeType ||\n        \"INPUT\" !== instance.nodeName ||\n        \"hidden\" !== instance.type) &&\n      !inRootOrSingleton\n    )\n      return null;\n    instance = getNextHydratable(instance.nextSibling);\n    if (null === instance) return null;\n  }\n  return instance;\n}\nfunction isSuspenseInstanceFallback(instance) {\n  return (\n    \"$!\" === instance.data ||\n    (\"$?\" === instance.data && \"complete\" === instance.ownerDocument.readyState)\n  );\n}\nfunction registerSuspenseInstanceRetry(instance, callback) {\n  var ownerDocument = instance.ownerDocument;\n  if (\"$?\" !== instance.data || \"complete\" === ownerDocument.readyState)\n    callback();\n  else {\n    var listener = function () {\n      callback();\n      ownerDocument.removeEventListener(\"DOMContentLoaded\", listener);\n    };\n    ownerDocument.addEventListener(\"DOMContentLoaded\", listener);\n    instance._reactRetry = listener;\n  }\n}\nfunction getNextHydratable(node) {\n  for (; null != node; node = node.nextSibling) {\n    var nodeType = node.nodeType;\n    if (1 === nodeType || 3 === nodeType) break;\n    if (8 === nodeType) {\n      nodeType = node.data;\n      if (\n        \"$\" === nodeType ||\n        \"$!\" === nodeType ||\n        \"$?\" === nodeType ||\n        \"F!\" === nodeType ||\n        \"F\" === nodeType\n      )\n        break;\n      if (\"/$\" === nodeType) return null;\n    }\n  }\n  return node;\n}\nvar previousHydratableOnEnteringScopedSingleton = null;\nfunction getParentSuspenseInstance(targetInstance) {\n  targetInstance = targetInstance.previousSibling;\n  for (var depth = 0; targetInstance; ) {\n    if (8 === targetInstance.nodeType) {\n      var data = targetInstance.data;\n      if (\"$\" === data || \"$!\" === data || \"$?\" === data) {\n        if (0 === depth) return targetInstance;\n        depth--;\n      } else \"/$\" === data && depth++;\n    }\n    targetInstance = targetInstance.previousSibling;\n  }\n  return null;\n}\nfunction resolveSingletonInstance(type, props, rootContainerInstance) {\n  props = getOwnerDocumentFromRootContainer(rootContainerInstance);\n  switch (type) {\n    case \"html\":\n      type = props.documentElement;\n      if (!type) throw Error(formatProdErrorMessage(452));\n      return type;\n    case \"head\":\n      type = props.head;\n      if (!type) throw Error(formatProdErrorMessage(453));\n      return type;\n    case \"body\":\n      type = props.body;\n      if (!type) throw Error(formatProdErrorMessage(454));\n      return type;\n    default:\n      throw Error(formatProdErrorMessage(451));\n  }\n}\nfunction releaseSingletonInstance(instance) {\n  for (var attributes = instance.attributes; attributes.length; )\n    instance.removeAttributeNode(attributes[0]);\n  detachDeletedInstance(instance);\n}\nvar preloadPropsMap = new Map(),\n  preconnectsSet = new Set();\nfunction getHoistableRoot(container) {\n  return \"function\" === typeof container.getRootNode\n    ? container.getRootNode()\n    : 9 === container.nodeType\n      ? container\n      : container.ownerDocument;\n}\nvar previousDispatcher = ReactDOMSharedInternals.d;\nReactDOMSharedInternals.d = {\n  f: flushSyncWork,\n  r: requestFormReset,\n  D: prefetchDNS,\n  C: preconnect,\n  L: preload,\n  m: preloadModule,\n  X: preinitScript,\n  S: preinitStyle,\n  M: preinitModuleScript\n};\nfunction flushSyncWork() {\n  var previousWasRendering = previousDispatcher.f(),\n    wasRendering = flushSyncWork$1();\n  return previousWasRendering || wasRendering;\n}\nfunction requestFormReset(form) {\n  var formInst = getInstanceFromNode(form);\n  null !== formInst && 5 === formInst.tag && \"form\" === formInst.type\n    ? requestFormReset$1(formInst)\n    : previousDispatcher.r(form);\n}\nvar globalDocument = \"undefined\" === typeof document ? null : document;\nfunction preconnectAs(rel, href, crossOrigin) {\n  var ownerDocument = globalDocument;\n  if (ownerDocument && \"string\" === typeof href && href) {\n    var limitedEscapedHref =\n      escapeSelectorAttributeValueInsideDoubleQuotes(href);\n    limitedEscapedHref =\n      'link[rel=\"' + rel + '\"][href=\"' + limitedEscapedHref + '\"]';\n    \"string\" === typeof crossOrigin &&\n      (limitedEscapedHref += '[crossorigin=\"' + crossOrigin + '\"]');\n    preconnectsSet.has(limitedEscapedHref) ||\n      (preconnectsSet.add(limitedEscapedHref),\n      (rel = { rel: rel, crossOrigin: crossOrigin, href: href }),\n      null === ownerDocument.querySelector(limitedEscapedHref) &&\n        ((href = ownerDocument.createElement(\"link\")),\n        setInitialProperties(href, \"link\", rel),\n        markNodeAsHoistable(href),\n        ownerDocument.head.appendChild(href)));\n  }\n}\nfunction prefetchDNS(href) {\n  previousDispatcher.D(href);\n  preconnectAs(\"dns-prefetch\", href, null);\n}\nfunction preconnect(href, crossOrigin) {\n  previousDispatcher.C(href, crossOrigin);\n  preconnectAs(\"preconnect\", href, crossOrigin);\n}\nfunction preload(href, as, options) {\n  previousDispatcher.L(href, as, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href && as) {\n    var preloadSelector =\n      'link[rel=\"preload\"][as=\"' +\n      escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n      '\"]';\n    \"image\" === as\n      ? options && options.imageSrcSet\n        ? ((preloadSelector +=\n            '[imagesrcset=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(\n              options.imageSrcSet\n            ) +\n            '\"]'),\n          \"string\" === typeof options.imageSizes &&\n            (preloadSelector +=\n              '[imagesizes=\"' +\n              escapeSelectorAttributeValueInsideDoubleQuotes(\n                options.imageSizes\n              ) +\n              '\"]'))\n        : (preloadSelector +=\n            '[href=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n            '\"]')\n      : (preloadSelector +=\n          '[href=\"' +\n          escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n          '\"]');\n    var key = preloadSelector;\n    switch (as) {\n      case \"style\":\n        key = getStyleKey(href);\n        break;\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    preloadPropsMap.has(key) ||\n      ((href = assign(\n        {\n          rel: \"preload\",\n          href:\n            \"image\" === as && options && options.imageSrcSet ? void 0 : href,\n          as: as\n        },\n        options\n      )),\n      preloadPropsMap.set(key, href),\n      null !== ownerDocument.querySelector(preloadSelector) ||\n        (\"style\" === as &&\n          ownerDocument.querySelector(getStylesheetSelectorFromKey(key))) ||\n        (\"script\" === as &&\n          ownerDocument.querySelector(getScriptSelectorFromKey(key))) ||\n        ((as = ownerDocument.createElement(\"link\")),\n        setInitialProperties(as, \"link\", href),\n        markNodeAsHoistable(as),\n        ownerDocument.head.appendChild(as)));\n  }\n}\nfunction preloadModule(href, options) {\n  previousDispatcher.m(href, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var as = options && \"string\" === typeof options.as ? options.as : \"script\",\n      preloadSelector =\n        'link[rel=\"modulepreload\"][as=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(as) +\n        '\"][href=\"' +\n        escapeSelectorAttributeValueInsideDoubleQuotes(href) +\n        '\"]',\n      key = preloadSelector;\n    switch (as) {\n      case \"audioworklet\":\n      case \"paintworklet\":\n      case \"serviceworker\":\n      case \"sharedworker\":\n      case \"worker\":\n      case \"script\":\n        key = getScriptKey(href);\n    }\n    if (\n      !preloadPropsMap.has(key) &&\n      ((href = assign({ rel: \"modulepreload\", href: href }, options)),\n      preloadPropsMap.set(key, href),\n      null === ownerDocument.querySelector(preloadSelector))\n    ) {\n      switch (as) {\n        case \"audioworklet\":\n        case \"paintworklet\":\n        case \"serviceworker\":\n        case \"sharedworker\":\n        case \"worker\":\n        case \"script\":\n          if (ownerDocument.querySelector(getScriptSelectorFromKey(key)))\n            return;\n      }\n      as = ownerDocument.createElement(\"link\");\n      setInitialProperties(as, \"link\", href);\n      markNodeAsHoistable(as);\n      ownerDocument.head.appendChild(as);\n    }\n  }\n}\nfunction preinitStyle(href, precedence, options) {\n  previousDispatcher.S(href, precedence, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && href) {\n    var styles = getResourcesFromRoot(ownerDocument).hoistableStyles,\n      key = getStyleKey(href);\n    precedence = precedence || \"default\";\n    var resource = styles.get(key);\n    if (!resource) {\n      var state = { loading: 0, preload: null };\n      if (\n        (resource = ownerDocument.querySelector(\n          getStylesheetSelectorFromKey(key)\n        ))\n      )\n        state.loading = 5;\n      else {\n        href = assign(\n          { rel: \"stylesheet\", href: href, \"data-precedence\": precedence },\n          options\n        );\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForStylesheet(href, options);\n        var link = (resource = ownerDocument.createElement(\"link\"));\n        markNodeAsHoistable(link);\n        setInitialProperties(link, \"link\", href);\n        link._p = new Promise(function (resolve, reject) {\n          link.onload = resolve;\n          link.onerror = reject;\n        });\n        link.addEventListener(\"load\", function () {\n          state.loading |= 1;\n        });\n        link.addEventListener(\"error\", function () {\n          state.loading |= 2;\n        });\n        state.loading |= 4;\n        insertStylesheet(resource, precedence, ownerDocument);\n      }\n      resource = {\n        type: \"stylesheet\",\n        instance: resource,\n        count: 1,\n        state: state\n      };\n      styles.set(key, resource);\n    }\n  }\n}\nfunction preinitScript(src, options) {\n  previousDispatcher.X(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0 }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction preinitModuleScript(src, options) {\n  previousDispatcher.M(src, options);\n  var ownerDocument = globalDocument;\n  if (ownerDocument && src) {\n    var scripts = getResourcesFromRoot(ownerDocument).hoistableScripts,\n      key = getScriptKey(src),\n      resource = scripts.get(key);\n    resource ||\n      ((resource = ownerDocument.querySelector(getScriptSelectorFromKey(key))),\n      resource ||\n        ((src = assign({ src: src, async: !0, type: \"module\" }, options)),\n        (options = preloadPropsMap.get(key)) &&\n          adoptPreloadPropsForScript(src, options),\n        (resource = ownerDocument.createElement(\"script\")),\n        markNodeAsHoistable(resource),\n        setInitialProperties(resource, \"link\", src),\n        ownerDocument.head.appendChild(resource)),\n      (resource = {\n        type: \"script\",\n        instance: resource,\n        count: 1,\n        state: null\n      }),\n      scripts.set(key, resource));\n  }\n}\nfunction getResource(type, currentProps, pendingProps, currentResource) {\n  var JSCompiler_inline_result = (JSCompiler_inline_result =\n    rootInstanceStackCursor.current)\n    ? getHoistableRoot(JSCompiler_inline_result)\n    : null;\n  if (!JSCompiler_inline_result) throw Error(formatProdErrorMessage(446));\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return null;\n    case \"style\":\n      return \"string\" === typeof pendingProps.precedence &&\n        \"string\" === typeof pendingProps.href\n        ? ((currentProps = getStyleKey(pendingProps.href)),\n          (pendingProps = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles),\n          (currentResource = pendingProps.get(currentProps)),\n          currentResource ||\n            ((currentResource = {\n              type: \"style\",\n              instance: null,\n              count: 0,\n              state: null\n            }),\n            pendingProps.set(currentProps, currentResource)),\n          currentResource)\n        : { type: \"void\", instance: null, count: 0, state: null };\n    case \"link\":\n      if (\n        \"stylesheet\" === pendingProps.rel &&\n        \"string\" === typeof pendingProps.href &&\n        \"string\" === typeof pendingProps.precedence\n      ) {\n        type = getStyleKey(pendingProps.href);\n        var styles$244 = getResourcesFromRoot(\n            JSCompiler_inline_result\n          ).hoistableStyles,\n          resource$245 = styles$244.get(type);\n        resource$245 ||\n          ((JSCompiler_inline_result =\n            JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),\n          (resource$245 = {\n            type: \"stylesheet\",\n            instance: null,\n            count: 0,\n            state: { loading: 0, preload: null }\n          }),\n          styles$244.set(type, resource$245),\n          (styles$244 = JSCompiler_inline_result.querySelector(\n            getStylesheetSelectorFromKey(type)\n          )) &&\n            !styles$244._p &&\n            ((resource$245.instance = styles$244),\n            (resource$245.state.loading = 5)),\n          preloadPropsMap.has(type) ||\n            ((pendingProps = {\n              rel: \"preload\",\n              as: \"style\",\n              href: pendingProps.href,\n              crossOrigin: pendingProps.crossOrigin,\n              integrity: pendingProps.integrity,\n              media: pendingProps.media,\n              hrefLang: pendingProps.hrefLang,\n              referrerPolicy: pendingProps.referrerPolicy\n            }),\n            preloadPropsMap.set(type, pendingProps),\n            styles$244 ||\n              preloadStylesheet(\n                JSCompiler_inline_result,\n                type,\n                pendingProps,\n                resource$245.state\n              )));\n        if (currentProps && null === currentResource)\n          throw Error(formatProdErrorMessage(528, \"\"));\n        return resource$245;\n      }\n      if (currentProps && null !== currentResource)\n        throw Error(formatProdErrorMessage(529, \"\"));\n      return null;\n    case \"script\":\n      return (\n        (currentProps = pendingProps.async),\n        (pendingProps = pendingProps.src),\n        \"string\" === typeof pendingProps &&\n        currentProps &&\n        \"function\" !== typeof currentProps &&\n        \"symbol\" !== typeof currentProps\n          ? ((currentProps = getScriptKey(pendingProps)),\n            (pendingProps = getResourcesFromRoot(\n              JSCompiler_inline_result\n            ).hoistableScripts),\n            (currentResource = pendingProps.get(currentProps)),\n            currentResource ||\n              ((currentResource = {\n                type: \"script\",\n                instance: null,\n                count: 0,\n                state: null\n              }),\n              pendingProps.set(currentProps, currentResource)),\n            currentResource)\n          : { type: \"void\", instance: null, count: 0, state: null }\n      );\n    default:\n      throw Error(formatProdErrorMessage(444, type));\n  }\n}\nfunction getStyleKey(href) {\n  return 'href=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(href) + '\"';\n}\nfunction getStylesheetSelectorFromKey(key) {\n  return 'link[rel=\"stylesheet\"][' + key + \"]\";\n}\nfunction stylesheetPropsFromRawProps(rawProps) {\n  return assign({}, rawProps, {\n    \"data-precedence\": rawProps.precedence,\n    precedence: null\n  });\n}\nfunction preloadStylesheet(ownerDocument, key, preloadProps, state) {\n  ownerDocument.querySelector('link[rel=\"preload\"][as=\"style\"][' + key + \"]\")\n    ? (state.loading = 1)\n    : ((key = ownerDocument.createElement(\"link\")),\n      (state.preload = key),\n      key.addEventListener(\"load\", function () {\n        return (state.loading |= 1);\n      }),\n      key.addEventListener(\"error\", function () {\n        return (state.loading |= 2);\n      }),\n      setInitialProperties(key, \"link\", preloadProps),\n      markNodeAsHoistable(key),\n      ownerDocument.head.appendChild(key));\n}\nfunction getScriptKey(src) {\n  return '[src=\"' + escapeSelectorAttributeValueInsideDoubleQuotes(src) + '\"]';\n}\nfunction getScriptSelectorFromKey(key) {\n  return \"script[async]\" + key;\n}\nfunction acquireResource(hoistableRoot, resource, props) {\n  resource.count++;\n  if (null === resource.instance)\n    switch (resource.type) {\n      case \"style\":\n        var instance = hoistableRoot.querySelector(\n          'style[data-href~=\"' +\n            escapeSelectorAttributeValueInsideDoubleQuotes(props.href) +\n            '\"]'\n        );\n        if (instance)\n          return (\n            (resource.instance = instance),\n            markNodeAsHoistable(instance),\n            instance\n          );\n        var styleProps = assign({}, props, {\n          \"data-href\": props.href,\n          \"data-precedence\": props.precedence,\n          href: null,\n          precedence: null\n        });\n        instance = (hoistableRoot.ownerDocument || hoistableRoot).createElement(\n          \"style\"\n        );\n        markNodeAsHoistable(instance);\n        setInitialProperties(instance, \"style\", styleProps);\n        insertStylesheet(instance, props.precedence, hoistableRoot);\n        return (resource.instance = instance);\n      case \"stylesheet\":\n        styleProps = getStyleKey(props.href);\n        var instance$250 = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(styleProps)\n        );\n        if (instance$250)\n          return (\n            (resource.state.loading |= 4),\n            (resource.instance = instance$250),\n            markNodeAsHoistable(instance$250),\n            instance$250\n          );\n        instance = stylesheetPropsFromRawProps(props);\n        (styleProps = preloadPropsMap.get(styleProps)) &&\n          adoptPreloadPropsForStylesheet(instance, styleProps);\n        instance$250 = (\n          hoistableRoot.ownerDocument || hoistableRoot\n        ).createElement(\"link\");\n        markNodeAsHoistable(instance$250);\n        var linkInstance = instance$250;\n        linkInstance._p = new Promise(function (resolve, reject) {\n          linkInstance.onload = resolve;\n          linkInstance.onerror = reject;\n        });\n        setInitialProperties(instance$250, \"link\", instance);\n        resource.state.loading |= 4;\n        insertStylesheet(instance$250, props.precedence, hoistableRoot);\n        return (resource.instance = instance$250);\n      case \"script\":\n        instance$250 = getScriptKey(props.src);\n        if (\n          (styleProps = hoistableRoot.querySelector(\n            getScriptSelectorFromKey(instance$250)\n          ))\n        )\n          return (\n            (resource.instance = styleProps),\n            markNodeAsHoistable(styleProps),\n            styleProps\n          );\n        instance = props;\n        if ((styleProps = preloadPropsMap.get(instance$250)))\n          (instance = assign({}, props)),\n            adoptPreloadPropsForScript(instance, styleProps);\n        hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n        styleProps = hoistableRoot.createElement(\"script\");\n        markNodeAsHoistable(styleProps);\n        setInitialProperties(styleProps, \"link\", instance);\n        hoistableRoot.head.appendChild(styleProps);\n        return (resource.instance = styleProps);\n      case \"void\":\n        return null;\n      default:\n        throw Error(formatProdErrorMessage(443, resource.type));\n    }\n  else\n    \"stylesheet\" === resource.type &&\n      0 === (resource.state.loading & 4) &&\n      ((instance = resource.instance),\n      (resource.state.loading |= 4),\n      insertStylesheet(instance, props.precedence, hoistableRoot));\n  return resource.instance;\n}\nfunction insertStylesheet(instance, precedence, root) {\n  for (\n    var nodes = root.querySelectorAll(\n        'link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'\n      ),\n      last = nodes.length ? nodes[nodes.length - 1] : null,\n      prior = last,\n      i = 0;\n    i < nodes.length;\n    i++\n  ) {\n    var node = nodes[i];\n    if (node.dataset.precedence === precedence) prior = node;\n    else if (prior !== last) break;\n  }\n  prior\n    ? prior.parentNode.insertBefore(instance, prior.nextSibling)\n    : ((precedence = 9 === root.nodeType ? root.head : root),\n      precedence.insertBefore(instance, precedence.firstChild));\n}\nfunction adoptPreloadPropsForStylesheet(stylesheetProps, preloadProps) {\n  null == stylesheetProps.crossOrigin &&\n    (stylesheetProps.crossOrigin = preloadProps.crossOrigin);\n  null == stylesheetProps.referrerPolicy &&\n    (stylesheetProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == stylesheetProps.title && (stylesheetProps.title = preloadProps.title);\n}\nfunction adoptPreloadPropsForScript(scriptProps, preloadProps) {\n  null == scriptProps.crossOrigin &&\n    (scriptProps.crossOrigin = preloadProps.crossOrigin);\n  null == scriptProps.referrerPolicy &&\n    (scriptProps.referrerPolicy = preloadProps.referrerPolicy);\n  null == scriptProps.integrity &&\n    (scriptProps.integrity = preloadProps.integrity);\n}\nvar tagCaches = null;\nfunction getHydratableHoistableCache(type, keyAttribute, ownerDocument) {\n  if (null === tagCaches) {\n    var cache = new Map();\n    var caches = (tagCaches = new Map());\n    caches.set(ownerDocument, cache);\n  } else\n    (caches = tagCaches),\n      (cache = caches.get(ownerDocument)),\n      cache || ((cache = new Map()), caches.set(ownerDocument, cache));\n  if (cache.has(type)) return cache;\n  cache.set(type, null);\n  ownerDocument = ownerDocument.getElementsByTagName(type);\n  for (caches = 0; caches < ownerDocument.length; caches++) {\n    var node = ownerDocument[caches];\n    if (\n      !(\n        node[internalHoistableMarker] ||\n        node[internalInstanceKey] ||\n        (\"link\" === type && \"stylesheet\" === node.getAttribute(\"rel\"))\n      ) &&\n      \"http://www.w3.org/2000/svg\" !== node.namespaceURI\n    ) {\n      var nodeKey = node.getAttribute(keyAttribute) || \"\";\n      nodeKey = type + nodeKey;\n      var existing = cache.get(nodeKey);\n      existing ? existing.push(node) : cache.set(nodeKey, [node]);\n    }\n  }\n  return cache;\n}\nfunction mountHoistable(hoistableRoot, type, instance) {\n  hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;\n  hoistableRoot.head.insertBefore(\n    instance,\n    \"title\" === type ? hoistableRoot.querySelector(\"head > title\") : null\n  );\n}\nfunction isHostHoistableType(type, props, hostContext) {\n  if (1 === hostContext || null != props.itemProp) return !1;\n  switch (type) {\n    case \"meta\":\n    case \"title\":\n      return !0;\n    case \"style\":\n      if (\n        \"string\" !== typeof props.precedence ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href\n      )\n        break;\n      return !0;\n    case \"link\":\n      if (\n        \"string\" !== typeof props.rel ||\n        \"string\" !== typeof props.href ||\n        \"\" === props.href ||\n        props.onLoad ||\n        props.onError\n      )\n        break;\n      switch (props.rel) {\n        case \"stylesheet\":\n          return (\n            (type = props.disabled),\n            \"string\" === typeof props.precedence && null == type\n          );\n        default:\n          return !0;\n      }\n    case \"script\":\n      if (\n        props.async &&\n        \"function\" !== typeof props.async &&\n        \"symbol\" !== typeof props.async &&\n        !props.onLoad &&\n        !props.onError &&\n        props.src &&\n        \"string\" === typeof props.src\n      )\n        return !0;\n  }\n  return !1;\n}\nfunction preloadResource(resource) {\n  return \"stylesheet\" === resource.type && 0 === (resource.state.loading & 3)\n    ? !1\n    : !0;\n}\nvar suspendedState = null;\nfunction noop() {}\nfunction suspendResource(hoistableRoot, resource, props) {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  if (\n    \"stylesheet\" === resource.type &&\n    (\"string\" !== typeof props.media ||\n      !1 !== matchMedia(props.media).matches) &&\n    0 === (resource.state.loading & 4)\n  ) {\n    if (null === resource.instance) {\n      var key = getStyleKey(props.href),\n        instance = hoistableRoot.querySelector(\n          getStylesheetSelectorFromKey(key)\n        );\n      if (instance) {\n        hoistableRoot = instance._p;\n        null !== hoistableRoot &&\n          \"object\" === typeof hoistableRoot &&\n          \"function\" === typeof hoistableRoot.then &&\n          (state.count++,\n          (state = onUnsuspend.bind(state)),\n          hoistableRoot.then(state, state));\n        resource.state.loading |= 4;\n        resource.instance = instance;\n        markNodeAsHoistable(instance);\n        return;\n      }\n      instance = hoistableRoot.ownerDocument || hoistableRoot;\n      props = stylesheetPropsFromRawProps(props);\n      (key = preloadPropsMap.get(key)) &&\n        adoptPreloadPropsForStylesheet(props, key);\n      instance = instance.createElement(\"link\");\n      markNodeAsHoistable(instance);\n      var linkInstance = instance;\n      linkInstance._p = new Promise(function (resolve, reject) {\n        linkInstance.onload = resolve;\n        linkInstance.onerror = reject;\n      });\n      setInitialProperties(instance, \"link\", props);\n      resource.instance = instance;\n    }\n    null === state.stylesheets && (state.stylesheets = new Map());\n    state.stylesheets.set(resource, hoistableRoot);\n    (hoistableRoot = resource.state.preload) &&\n      0 === (resource.state.loading & 3) &&\n      (state.count++,\n      (resource = onUnsuspend.bind(state)),\n      hoistableRoot.addEventListener(\"load\", resource),\n      hoistableRoot.addEventListener(\"error\", resource));\n  }\n}\nfunction waitForCommitToBeReady() {\n  if (null === suspendedState) throw Error(formatProdErrorMessage(475));\n  var state = suspendedState;\n  state.stylesheets &&\n    0 === state.count &&\n    insertSuspendedStylesheets(state, state.stylesheets);\n  return 0 < state.count\n    ? function (commit) {\n        var stylesheetTimer = setTimeout(function () {\n          state.stylesheets &&\n            insertSuspendedStylesheets(state, state.stylesheets);\n          if (state.unsuspend) {\n            var unsuspend = state.unsuspend;\n            state.unsuspend = null;\n            unsuspend();\n          }\n        }, 6e4);\n        state.unsuspend = commit;\n        return function () {\n          state.unsuspend = null;\n          clearTimeout(stylesheetTimer);\n        };\n      }\n    : null;\n}\nfunction onUnsuspend() {\n  this.count--;\n  if (0 === this.count)\n    if (this.stylesheets) insertSuspendedStylesheets(this, this.stylesheets);\n    else if (this.unsuspend) {\n      var unsuspend = this.unsuspend;\n      this.unsuspend = null;\n      unsuspend();\n    }\n}\nvar precedencesByRoot = null;\nfunction insertSuspendedStylesheets(state, resources) {\n  state.stylesheets = null;\n  null !== state.unsuspend &&\n    (state.count++,\n    (precedencesByRoot = new Map()),\n    resources.forEach(insertStylesheetIntoRoot, state),\n    (precedencesByRoot = null),\n    onUnsuspend.call(state));\n}\nfunction insertStylesheetIntoRoot(root, resource) {\n  if (!(resource.state.loading & 4)) {\n    var precedences = precedencesByRoot.get(root);\n    if (precedences) var last = precedences.get(null);\n    else {\n      precedences = new Map();\n      precedencesByRoot.set(root, precedences);\n      for (\n        var nodes = root.querySelectorAll(\n            \"link[data-precedence],style[data-precedence]\"\n          ),\n          i = 0;\n        i < nodes.length;\n        i++\n      ) {\n        var node = nodes[i];\n        if (\n          \"LINK\" === node.nodeName ||\n          \"not all\" !== node.getAttribute(\"media\")\n        )\n          precedences.set(node.dataset.precedence, node), (last = node);\n      }\n      last && precedences.set(null, last);\n    }\n    nodes = resource.instance;\n    node = nodes.getAttribute(\"data-precedence\");\n    i = precedences.get(node) || last;\n    i === last && precedences.set(null, nodes);\n    precedences.set(node, nodes);\n    this.count++;\n    last = onUnsuspend.bind(this);\n    nodes.addEventListener(\"load\", last);\n    nodes.addEventListener(\"error\", last);\n    i\n      ? i.parentNode.insertBefore(nodes, i.nextSibling)\n      : ((root = 9 === root.nodeType ? root.head : root),\n        root.insertBefore(nodes, root.firstChild));\n    resource.state.loading |= 4;\n  }\n}\nvar HostTransitionContext = {\n  $$typeof: REACT_CONTEXT_TYPE,\n  Provider: null,\n  Consumer: null,\n  _currentValue: sharedNotPendingObject,\n  _currentValue2: sharedNotPendingObject,\n  _threadCount: 0\n};\nfunction FiberRootNode(\n  containerInfo,\n  tag,\n  hydrate,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  formState\n) {\n  this.tag = 1;\n  this.containerInfo = containerInfo;\n  this.pingCache = this.current = this.pendingChildren = null;\n  this.timeoutHandle = -1;\n  this.callbackNode =\n    this.next =\n    this.pendingContext =\n    this.context =\n    this.cancelPendingCommit =\n      null;\n  this.callbackPriority = 0;\n  this.expirationTimes = createLaneMap(-1);\n  this.entangledLanes =\n    this.shellSuspendCounter =\n    this.errorRecoveryDisabledLanes =\n    this.expiredLanes =\n    this.warmLanes =\n    this.pingedLanes =\n    this.suspendedLanes =\n    this.pendingLanes =\n      0;\n  this.entanglements = createLaneMap(0);\n  this.hiddenUpdates = createLaneMap(null);\n  this.identifierPrefix = identifierPrefix;\n  this.onUncaughtError = onUncaughtError;\n  this.onCaughtError = onCaughtError;\n  this.onRecoverableError = onRecoverableError;\n  this.pooledCache = null;\n  this.pooledCacheLanes = 0;\n  this.formState = formState;\n  this.incompleteTransitions = new Map();\n}\nfunction createFiberRoot(\n  containerInfo,\n  tag,\n  hydrate,\n  initialChildren,\n  hydrationCallbacks,\n  isStrictMode,\n  identifierPrefix,\n  onUncaughtError,\n  onCaughtError,\n  onRecoverableError,\n  transitionCallbacks,\n  formState\n) {\n  containerInfo = new FiberRootNode(\n    containerInfo,\n    tag,\n    hydrate,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    formState\n  );\n  tag = 1;\n  !0 === isStrictMode && (tag |= 24);\n  isStrictMode = createFiberImplClass(3, null, null, tag);\n  containerInfo.current = isStrictMode;\n  isStrictMode.stateNode = containerInfo;\n  tag = createCache();\n  tag.refCount++;\n  containerInfo.pooledCache = tag;\n  tag.refCount++;\n  isStrictMode.memoizedState = {\n    element: initialChildren,\n    isDehydrated: hydrate,\n    cache: tag\n  };\n  initializeUpdateQueue(isStrictMode);\n  return containerInfo;\n}\nfunction getContextForSubtree(parentComponent) {\n  if (!parentComponent) return emptyContextObject;\n  parentComponent = emptyContextObject;\n  return parentComponent;\n}\nfunction updateContainerImpl(\n  rootFiber,\n  lane,\n  element,\n  container,\n  parentComponent,\n  callback\n) {\n  parentComponent = getContextForSubtree(parentComponent);\n  null === container.context\n    ? (container.context = parentComponent)\n    : (container.pendingContext = parentComponent);\n  container = createUpdate(lane);\n  container.payload = { element: element };\n  callback = void 0 === callback ? null : callback;\n  null !== callback && (container.callback = callback);\n  element = enqueueUpdate(rootFiber, container, lane);\n  null !== element &&\n    (scheduleUpdateOnFiber(element, rootFiber, lane),\n    entangleTransitions(element, rootFiber, lane));\n}\nfunction markRetryLaneImpl(fiber, retryLane) {\n  fiber = fiber.memoizedState;\n  if (null !== fiber && null !== fiber.dehydrated) {\n    var a = fiber.retryLane;\n    fiber.retryLane = 0 !== a && a < retryLane ? a : retryLane;\n  }\n}\nfunction markRetryLaneIfNotHydrated(fiber, retryLane) {\n  markRetryLaneImpl(fiber, retryLane);\n  (fiber = fiber.alternate) && markRetryLaneImpl(fiber, retryLane);\n}\nfunction attemptContinuousHydration(fiber) {\n  if (13 === fiber.tag) {\n    var root = enqueueConcurrentRenderForLane(fiber, 67108864);\n    null !== root && scheduleUpdateOnFiber(root, fiber, 67108864);\n    markRetryLaneIfNotHydrated(fiber, 67108864);\n  }\n}\nvar _enabled = !0;\nfunction dispatchDiscreteEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 2),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchContinuousEvent(\n  domEventName,\n  eventSystemFlags,\n  container,\n  nativeEvent\n) {\n  var prevTransition = ReactSharedInternals.T;\n  ReactSharedInternals.T = null;\n  var previousPriority = ReactDOMSharedInternals.p;\n  try {\n    (ReactDOMSharedInternals.p = 8),\n      dispatchEvent(domEventName, eventSystemFlags, container, nativeEvent);\n  } finally {\n    (ReactDOMSharedInternals.p = previousPriority),\n      (ReactSharedInternals.T = prevTransition);\n  }\n}\nfunction dispatchEvent(\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (_enabled) {\n    var blockedOn = findInstanceBlockingEvent(nativeEvent);\n    if (null === blockedOn)\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        return_targetInst,\n        targetContainer\n      ),\n        clearIfContinuousEvent(domEventName, nativeEvent);\n    else if (\n      queueIfContinuousEvent(\n        blockedOn,\n        domEventName,\n        eventSystemFlags,\n        targetContainer,\n        nativeEvent\n      )\n    )\n      nativeEvent.stopPropagation();\n    else if (\n      (clearIfContinuousEvent(domEventName, nativeEvent),\n      eventSystemFlags & 4 &&\n        -1 < discreteReplayableEvents.indexOf(domEventName))\n    ) {\n      for (; null !== blockedOn; ) {\n        var fiber = getInstanceFromNode(blockedOn);\n        if (null !== fiber)\n          switch (fiber.tag) {\n            case 3:\n              fiber = fiber.stateNode;\n              if (fiber.current.memoizedState.isDehydrated) {\n                var lanes = getHighestPriorityLanes(fiber.pendingLanes);\n                if (0 !== lanes) {\n                  var root = fiber;\n                  root.pendingLanes |= 2;\n                  for (root.entangledLanes |= 2; lanes; ) {\n                    var lane = 1 << (31 - clz32(lanes));\n                    root.entanglements[1] |= lane;\n                    lanes &= ~lane;\n                  }\n                  ensureRootIsScheduled(fiber);\n                  0 === (executionContext & 6) &&\n                    ((workInProgressRootRenderTargetTime = now() + 500),\n                    flushSyncWorkAcrossRoots_impl(0, !1));\n                }\n              }\n              break;\n            case 13:\n              (root = enqueueConcurrentRenderForLane(fiber, 2)),\n                null !== root && scheduleUpdateOnFiber(root, fiber, 2),\n                flushSyncWork$1(),\n                markRetryLaneIfNotHydrated(fiber, 2);\n          }\n        fiber = findInstanceBlockingEvent(nativeEvent);\n        null === fiber &&\n          dispatchEventForPluginEventSystem(\n            domEventName,\n            eventSystemFlags,\n            nativeEvent,\n            return_targetInst,\n            targetContainer\n          );\n        if (fiber === blockedOn) break;\n        blockedOn = fiber;\n      }\n      null !== blockedOn && nativeEvent.stopPropagation();\n    } else\n      dispatchEventForPluginEventSystem(\n        domEventName,\n        eventSystemFlags,\n        nativeEvent,\n        null,\n        targetContainer\n      );\n  }\n}\nfunction findInstanceBlockingEvent(nativeEvent) {\n  nativeEvent = getEventTarget(nativeEvent);\n  return findInstanceBlockingTarget(nativeEvent);\n}\nvar return_targetInst = null;\nfunction findInstanceBlockingTarget(targetNode) {\n  return_targetInst = null;\n  targetNode = getClosestInstanceFromNode(targetNode);\n  if (null !== targetNode) {\n    var nearestMounted = getNearestMountedFiber(targetNode);\n    if (null === nearestMounted) targetNode = null;\n    else {\n      var tag = nearestMounted.tag;\n      if (13 === tag) {\n        targetNode = getSuspenseInstanceFromFiber(nearestMounted);\n        if (null !== targetNode) return targetNode;\n        targetNode = null;\n      } else if (3 === tag) {\n        if (nearestMounted.stateNode.current.memoizedState.isDehydrated)\n          return 3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        targetNode = null;\n      } else nearestMounted !== targetNode && (targetNode = null);\n    }\n  }\n  return_targetInst = targetNode;\n  return null;\n}\nfunction getEventPriority(domEventName) {\n  switch (domEventName) {\n    case \"beforetoggle\":\n    case \"cancel\":\n    case \"click\":\n    case \"close\":\n    case \"contextmenu\":\n    case \"copy\":\n    case \"cut\":\n    case \"auxclick\":\n    case \"dblclick\":\n    case \"dragend\":\n    case \"dragstart\":\n    case \"drop\":\n    case \"focusin\":\n    case \"focusout\":\n    case \"input\":\n    case \"invalid\":\n    case \"keydown\":\n    case \"keypress\":\n    case \"keyup\":\n    case \"mousedown\":\n    case \"mouseup\":\n    case \"paste\":\n    case \"pause\":\n    case \"play\":\n    case \"pointercancel\":\n    case \"pointerdown\":\n    case \"pointerup\":\n    case \"ratechange\":\n    case \"reset\":\n    case \"resize\":\n    case \"seeked\":\n    case \"submit\":\n    case \"toggle\":\n    case \"touchcancel\":\n    case \"touchend\":\n    case \"touchstart\":\n    case \"volumechange\":\n    case \"change\":\n    case \"selectionchange\":\n    case \"textInput\":\n    case \"compositionstart\":\n    case \"compositionend\":\n    case \"compositionupdate\":\n    case \"beforeblur\":\n    case \"afterblur\":\n    case \"beforeinput\":\n    case \"blur\":\n    case \"fullscreenchange\":\n    case \"focus\":\n    case \"hashchange\":\n    case \"popstate\":\n    case \"select\":\n    case \"selectstart\":\n      return 2;\n    case \"drag\":\n    case \"dragenter\":\n    case \"dragexit\":\n    case \"dragleave\":\n    case \"dragover\":\n    case \"mousemove\":\n    case \"mouseout\":\n    case \"mouseover\":\n    case \"pointermove\":\n    case \"pointerout\":\n    case \"pointerover\":\n    case \"scroll\":\n    case \"touchmove\":\n    case \"wheel\":\n    case \"mouseenter\":\n    case \"mouseleave\":\n    case \"pointerenter\":\n    case \"pointerleave\":\n      return 8;\n    case \"message\":\n      switch (getCurrentPriorityLevel()) {\n        case ImmediatePriority:\n          return 2;\n        case UserBlockingPriority:\n          return 8;\n        case NormalPriority$1:\n        case LowPriority:\n          return 32;\n        case IdlePriority:\n          return 268435456;\n        default:\n          return 32;\n      }\n    default:\n      return 32;\n  }\n}\nvar hasScheduledReplayAttempt = !1,\n  queuedFocus = null,\n  queuedDrag = null,\n  queuedMouse = null,\n  queuedPointers = new Map(),\n  queuedPointerCaptures = new Map(),\n  queuedExplicitHydrationTargets = [],\n  discreteReplayableEvents =\n    \"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\n      \" \"\n    );\nfunction clearIfContinuousEvent(domEventName, nativeEvent) {\n  switch (domEventName) {\n    case \"focusin\":\n    case \"focusout\":\n      queuedFocus = null;\n      break;\n    case \"dragenter\":\n    case \"dragleave\":\n      queuedDrag = null;\n      break;\n    case \"mouseover\":\n    case \"mouseout\":\n      queuedMouse = null;\n      break;\n    case \"pointerover\":\n    case \"pointerout\":\n      queuedPointers.delete(nativeEvent.pointerId);\n      break;\n    case \"gotpointercapture\":\n    case \"lostpointercapture\":\n      queuedPointerCaptures.delete(nativeEvent.pointerId);\n  }\n}\nfunction accumulateOrCreateContinuousQueuedReplayableEvent(\n  existingQueuedEvent,\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  if (\n    null === existingQueuedEvent ||\n    existingQueuedEvent.nativeEvent !== nativeEvent\n  )\n    return (\n      (existingQueuedEvent = {\n        blockedOn: blockedOn,\n        domEventName: domEventName,\n        eventSystemFlags: eventSystemFlags,\n        nativeEvent: nativeEvent,\n        targetContainers: [targetContainer]\n      }),\n      null !== blockedOn &&\n        ((blockedOn = getInstanceFromNode(blockedOn)),\n        null !== blockedOn && attemptContinuousHydration(blockedOn)),\n      existingQueuedEvent\n    );\n  existingQueuedEvent.eventSystemFlags |= eventSystemFlags;\n  blockedOn = existingQueuedEvent.targetContainers;\n  null !== targetContainer &&\n    -1 === blockedOn.indexOf(targetContainer) &&\n    blockedOn.push(targetContainer);\n  return existingQueuedEvent;\n}\nfunction queueIfContinuousEvent(\n  blockedOn,\n  domEventName,\n  eventSystemFlags,\n  targetContainer,\n  nativeEvent\n) {\n  switch (domEventName) {\n    case \"focusin\":\n      return (\n        (queuedFocus = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedFocus,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"dragenter\":\n      return (\n        (queuedDrag = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedDrag,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"mouseover\":\n      return (\n        (queuedMouse = accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedMouse,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )),\n        !0\n      );\n    case \"pointerover\":\n      var pointerId = nativeEvent.pointerId;\n      queuedPointers.set(\n        pointerId,\n        accumulateOrCreateContinuousQueuedReplayableEvent(\n          queuedPointers.get(pointerId) || null,\n          blockedOn,\n          domEventName,\n          eventSystemFlags,\n          targetContainer,\n          nativeEvent\n        )\n      );\n      return !0;\n    case \"gotpointercapture\":\n      return (\n        (pointerId = nativeEvent.pointerId),\n        queuedPointerCaptures.set(\n          pointerId,\n          accumulateOrCreateContinuousQueuedReplayableEvent(\n            queuedPointerCaptures.get(pointerId) || null,\n            blockedOn,\n            domEventName,\n            eventSystemFlags,\n            targetContainer,\n            nativeEvent\n          )\n        ),\n        !0\n      );\n  }\n  return !1;\n}\nfunction attemptExplicitHydrationTarget(queuedTarget) {\n  var targetInst = getClosestInstanceFromNode(queuedTarget.target);\n  if (null !== targetInst) {\n    var nearestMounted = getNearestMountedFiber(targetInst);\n    if (null !== nearestMounted)\n      if (((targetInst = nearestMounted.tag), 13 === targetInst)) {\n        if (\n          ((targetInst = getSuspenseInstanceFromFiber(nearestMounted)),\n          null !== targetInst)\n        ) {\n          queuedTarget.blockedOn = targetInst;\n          runWithPriority(queuedTarget.priority, function () {\n            if (13 === nearestMounted.tag) {\n              var lane = requestUpdateLane();\n              lane = getBumpedLaneForHydrationByLane(lane);\n              var root = enqueueConcurrentRenderForLane(nearestMounted, lane);\n              null !== root &&\n                scheduleUpdateOnFiber(root, nearestMounted, lane);\n              markRetryLaneIfNotHydrated(nearestMounted, lane);\n            }\n          });\n          return;\n        }\n      } else if (\n        3 === targetInst &&\n        nearestMounted.stateNode.current.memoizedState.isDehydrated\n      ) {\n        queuedTarget.blockedOn =\n          3 === nearestMounted.tag\n            ? nearestMounted.stateNode.containerInfo\n            : null;\n        return;\n      }\n  }\n  queuedTarget.blockedOn = null;\n}\nfunction attemptReplayContinuousQueuedEvent(queuedEvent) {\n  if (null !== queuedEvent.blockedOn) return !1;\n  for (\n    var targetContainers = queuedEvent.targetContainers;\n    0 < targetContainers.length;\n\n  ) {\n    var nextBlockedOn = findInstanceBlockingEvent(queuedEvent.nativeEvent);\n    if (null === nextBlockedOn) {\n      nextBlockedOn = queuedEvent.nativeEvent;\n      var nativeEventClone = new nextBlockedOn.constructor(\n        nextBlockedOn.type,\n        nextBlockedOn\n      );\n      currentReplayingEvent = nativeEventClone;\n      nextBlockedOn.target.dispatchEvent(nativeEventClone);\n      currentReplayingEvent = null;\n    } else\n      return (\n        (targetContainers = getInstanceFromNode(nextBlockedOn)),\n        null !== targetContainers &&\n          attemptContinuousHydration(targetContainers),\n        (queuedEvent.blockedOn = nextBlockedOn),\n        !1\n      );\n    targetContainers.shift();\n  }\n  return !0;\n}\nfunction attemptReplayContinuousQueuedEventInMap(queuedEvent, key, map) {\n  attemptReplayContinuousQueuedEvent(queuedEvent) && map.delete(key);\n}\nfunction replayUnblockedEvents() {\n  hasScheduledReplayAttempt = !1;\n  null !== queuedFocus &&\n    attemptReplayContinuousQueuedEvent(queuedFocus) &&\n    (queuedFocus = null);\n  null !== queuedDrag &&\n    attemptReplayContinuousQueuedEvent(queuedDrag) &&\n    (queuedDrag = null);\n  null !== queuedMouse &&\n    attemptReplayContinuousQueuedEvent(queuedMouse) &&\n    (queuedMouse = null);\n  queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap);\n  queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap);\n}\nfunction scheduleCallbackIfUnblocked(queuedEvent, unblocked) {\n  queuedEvent.blockedOn === unblocked &&\n    ((queuedEvent.blockedOn = null),\n    hasScheduledReplayAttempt ||\n      ((hasScheduledReplayAttempt = !0),\n      Scheduler.unstable_scheduleCallback(\n        Scheduler.unstable_NormalPriority,\n        replayUnblockedEvents\n      )));\n}\nvar lastScheduledReplayQueue = null;\nfunction scheduleReplayQueueIfNeeded(formReplayingQueue) {\n  lastScheduledReplayQueue !== formReplayingQueue &&\n    ((lastScheduledReplayQueue = formReplayingQueue),\n    Scheduler.unstable_scheduleCallback(\n      Scheduler.unstable_NormalPriority,\n      function () {\n        lastScheduledReplayQueue === formReplayingQueue &&\n          (lastScheduledReplayQueue = null);\n        for (var i = 0; i < formReplayingQueue.length; i += 3) {\n          var form = formReplayingQueue[i],\n            submitterOrAction = formReplayingQueue[i + 1],\n            formData = formReplayingQueue[i + 2];\n          if (\"function\" !== typeof submitterOrAction)\n            if (null === findInstanceBlockingTarget(submitterOrAction || form))\n              continue;\n            else break;\n          var formInst = getInstanceFromNode(form);\n          null !== formInst &&\n            (formReplayingQueue.splice(i, 3),\n            (i -= 3),\n            startHostTransition(\n              formInst,\n              {\n                pending: !0,\n                data: formData,\n                method: form.method,\n                action: submitterOrAction\n              },\n              submitterOrAction,\n              formData\n            ));\n        }\n      }\n    ));\n}\nfunction retryIfBlockedOn(unblocked) {\n  function unblock(queuedEvent) {\n    return scheduleCallbackIfUnblocked(queuedEvent, unblocked);\n  }\n  null !== queuedFocus && scheduleCallbackIfUnblocked(queuedFocus, unblocked);\n  null !== queuedDrag && scheduleCallbackIfUnblocked(queuedDrag, unblocked);\n  null !== queuedMouse && scheduleCallbackIfUnblocked(queuedMouse, unblocked);\n  queuedPointers.forEach(unblock);\n  queuedPointerCaptures.forEach(unblock);\n  for (var i = 0; i < queuedExplicitHydrationTargets.length; i++) {\n    var queuedTarget = queuedExplicitHydrationTargets[i];\n    queuedTarget.blockedOn === unblocked && (queuedTarget.blockedOn = null);\n  }\n  for (\n    ;\n    0 < queuedExplicitHydrationTargets.length &&\n    ((i = queuedExplicitHydrationTargets[0]), null === i.blockedOn);\n\n  )\n    attemptExplicitHydrationTarget(i),\n      null === i.blockedOn && queuedExplicitHydrationTargets.shift();\n  i = (unblocked.ownerDocument || unblocked).$$reactFormReplay;\n  if (null != i)\n    for (queuedTarget = 0; queuedTarget < i.length; queuedTarget += 3) {\n      var form = i[queuedTarget],\n        submitterOrAction = i[queuedTarget + 1],\n        formProps = form[internalPropsKey] || null;\n      if (\"function\" === typeof submitterOrAction)\n        formProps || scheduleReplayQueueIfNeeded(i);\n      else if (formProps) {\n        var action = null;\n        if (submitterOrAction && submitterOrAction.hasAttribute(\"formAction\"))\n          if (\n            ((form = submitterOrAction),\n            (formProps = submitterOrAction[internalPropsKey] || null))\n          )\n            action = formProps.formAction;\n          else {\n            if (null !== findInstanceBlockingTarget(form)) continue;\n          }\n        else action = formProps.action;\n        \"function\" === typeof action\n          ? (i[queuedTarget + 1] = action)\n          : (i.splice(queuedTarget, 3), (queuedTarget -= 3));\n        scheduleReplayQueueIfNeeded(i);\n      }\n    }\n}\nfunction ReactDOMRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.render = ReactDOMRoot.prototype.render =\n  function (children) {\n    var root = this._internalRoot;\n    if (null === root) throw Error(formatProdErrorMessage(409));\n    var current = root.current,\n      lane = requestUpdateLane();\n    updateContainerImpl(current, lane, children, root, null, null);\n  };\nReactDOMHydrationRoot.prototype.unmount = ReactDOMRoot.prototype.unmount =\n  function () {\n    var root = this._internalRoot;\n    if (null !== root) {\n      this._internalRoot = null;\n      var container = root.containerInfo;\n      updateContainerImpl(root.current, 2, null, root, null, null);\n      flushSyncWork$1();\n      container[internalContainerInstanceKey] = null;\n    }\n  };\nfunction ReactDOMHydrationRoot(internalRoot) {\n  this._internalRoot = internalRoot;\n}\nReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {\n  if (target) {\n    var updatePriority = resolveUpdatePriority();\n    target = { blockedOn: null, target: target, priority: updatePriority };\n    for (\n      var i = 0;\n      i < queuedExplicitHydrationTargets.length &&\n      0 !== updatePriority &&\n      updatePriority < queuedExplicitHydrationTargets[i].priority;\n      i++\n    );\n    queuedExplicitHydrationTargets.splice(i, 0, target);\n    0 === i && attemptExplicitHydrationTarget(target);\n  }\n};\nvar isomorphicReactPackageVersion$jscomp$inline_1785 = React.version;\nif (\n  \"19.1.1\" !==\n  isomorphicReactPackageVersion$jscomp$inline_1785\n)\n  throw Error(\n    formatProdErrorMessage(\n      527,\n      isomorphicReactPackageVersion$jscomp$inline_1785,\n      \"19.1.1\"\n    )\n  );\nReactDOMSharedInternals.findDOMNode = function (componentOrElement) {\n  var fiber = componentOrElement._reactInternals;\n  if (void 0 === fiber) {\n    if (\"function\" === typeof componentOrElement.render)\n      throw Error(formatProdErrorMessage(188));\n    componentOrElement = Object.keys(componentOrElement).join(\",\");\n    throw Error(formatProdErrorMessage(268, componentOrElement));\n  }\n  componentOrElement = findCurrentFiberUsingSlowPath(fiber);\n  componentOrElement =\n    null !== componentOrElement\n      ? findCurrentHostFiberImpl(componentOrElement)\n      : null;\n  componentOrElement =\n    null === componentOrElement ? null : componentOrElement.stateNode;\n  return componentOrElement;\n};\nvar internals$jscomp$inline_2256 = {\n  bundleType: 0,\n  version: \"19.1.1\",\n  rendererPackageName: \"react-dom\",\n  currentDispatcherRef: ReactSharedInternals,\n  reconcilerVersion: \"19.1.1\"\n};\nif (\"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {\n  var hook$jscomp$inline_2257 = __REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (\n    !hook$jscomp$inline_2257.isDisabled &&\n    hook$jscomp$inline_2257.supportsFiber\n  )\n    try {\n      (rendererID = hook$jscomp$inline_2257.inject(\n        internals$jscomp$inline_2256\n      )),\n        (injectedHook = hook$jscomp$inline_2257);\n    } catch (err) {}\n}\nexports.createRoot = function (container, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks));\n  options = createFiberRoot(\n    container,\n    1,\n    !1,\n    null,\n    null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    null\n  );\n  container[internalContainerInstanceKey] = options.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMRoot(options);\n};\nexports.hydrateRoot = function (container, initialChildren, options) {\n  if (!isValidContainer(container)) throw Error(formatProdErrorMessage(299));\n  var isStrictMode = !1,\n    identifierPrefix = \"\",\n    onUncaughtError = defaultOnUncaughtError,\n    onCaughtError = defaultOnCaughtError,\n    onRecoverableError = defaultOnRecoverableError,\n    transitionCallbacks = null,\n    formState = null;\n  null !== options &&\n    void 0 !== options &&\n    (!0 === options.unstable_strictMode && (isStrictMode = !0),\n    void 0 !== options.identifierPrefix &&\n      (identifierPrefix = options.identifierPrefix),\n    void 0 !== options.onUncaughtError &&\n      (onUncaughtError = options.onUncaughtError),\n    void 0 !== options.onCaughtError && (onCaughtError = options.onCaughtError),\n    void 0 !== options.onRecoverableError &&\n      (onRecoverableError = options.onRecoverableError),\n    void 0 !== options.unstable_transitionCallbacks &&\n      (transitionCallbacks = options.unstable_transitionCallbacks),\n    void 0 !== options.formState && (formState = options.formState));\n  initialChildren = createFiberRoot(\n    container,\n    1,\n    !0,\n    initialChildren,\n    null != options ? options : null,\n    isStrictMode,\n    identifierPrefix,\n    onUncaughtError,\n    onCaughtError,\n    onRecoverableError,\n    transitionCallbacks,\n    formState\n  );\n  initialChildren.context = getContextForSubtree(null);\n  options = initialChildren.current;\n  isStrictMode = requestUpdateLane();\n  isStrictMode = getBumpedLaneForHydrationByLane(isStrictMode);\n  identifierPrefix = createUpdate(isStrictMode);\n  identifierPrefix.callback = null;\n  enqueueUpdate(options, identifierPrefix, isStrictMode);\n  options = isStrictMode;\n  initialChildren.current.lanes = options;\n  markRootUpdated$1(initialChildren, options);\n  ensureRootIsScheduled(initialChildren);\n  container[internalContainerInstanceKey] = initialChildren.current;\n  listenToAllSupportedEvents(container);\n  return new ReactDOMHydrationRoot(initialChildren);\n};\nexports.version = \"19.1.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null, V: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.__COMPILER_RUNTIME = {\n  __proto__: null,\n  c: function (size) {\n    return ReactSharedInternals.H.useMemoCache(size);\n  }\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, createDeps, update) {\n  var dispatcher = ReactSharedInternals.H;\n  if (\"function\" === typeof update)\n    throw Error(\n      \"useEffect CRUD overload is not enabled in this build of React.\"\n    );\n  return dispatcher.useEffect(create, createDeps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = function (passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n};\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.1.1\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom-client.production.js');\n} else {\n  module.exports = require('./cjs/react-dom-client.development.js');\n}\n","// utils/sessionManager.js\r\nimport API_CONFIG from '../api/config.js';\r\n\r\nclass SessionManager {\r\n  constructor() {\r\n    this.accessTokenKey = 'chatapp_access_token';\r\n    this.refreshTokenKey = 'chatapp_refresh_token';\r\n    this.userKey = 'chatapp_user';\r\n    this.currentUserTabKey = 'chatapp_current_user_tab';\r\n    this.userSessionsKey = 'chatapp_user_sessions';\r\n    this.pendingVerificationKey = 'chatapp_pending_verification';\r\n    this.sessionExpiryMinutes = 60; // 1 hour\r\n    \r\n    // Setup token refresh timer\r\n    this.setupTokenRefresh();\r\n    \r\n    // Setup activity tracking for session extension\r\n    this.setupActivityTracking();\r\n    \r\n    // Setup cleanup timer\r\n    this.startCleanupTimer();\r\n  }\r\n\r\n  // Send email verification code for login\r\n  async sendLoginVerificationCode(email) {\r\n    try {\r\n      const response = await fetch(`${API_CONFIG.BASE_URL}/auth/send-login-code`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email })\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        // Store pending verification info\r\n        const pendingData = {\r\n          email,\r\n          type: 'login',\r\n          timestamp: Date.now(),\r\n          expiresAt: Date.now() + (10 * 60 * 1000) // 10 minutes\r\n        };\r\n        sessionStorage.setItem(this.pendingVerificationKey, JSON.stringify(pendingData));\r\n        return data;\r\n      } else {\r\n        throw new Error(data.message || 'Failed to send verification code');\r\n      }\r\n    } catch (error) {\r\n      console.error('Send login verification code error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Verify login code and complete authentication\r\n  async verifyLoginCode(email, code) {\r\n    try {\r\n      const response = await fetch(`${API_CONFIG.BASE_URL}/auth/verify-login-code`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email, code })\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        // Clear pending verification\r\n        sessionStorage.removeItem(this.pendingVerificationKey);\r\n        \r\n        // Set session with tokens\r\n        this.setSession(data.user, data.accessToken, data.refreshToken);\r\n        \r\n        return data;\r\n      } else {\r\n        throw new Error(data.message || 'Invalid verification code');\r\n      }\r\n    } catch (error) {\r\n      console.error('Verify login code error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Send email verification code for registration\r\n  async sendRegistrationVerificationCode(userData) {\r\n    try {\r\n      const response = await fetch(`${API_CONFIG.BASE_URL}/auth/send-registration-code`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(userData)\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        // Store pending verification info with user data\r\n        const pendingData = {\r\n          ...userData,\r\n          type: 'registration',\r\n          timestamp: Date.now(),\r\n          expiresAt: Date.now() + (10 * 60 * 1000) // 10 minutes\r\n        };\r\n        sessionStorage.setItem(this.pendingVerificationKey, JSON.stringify(pendingData));\r\n        return data;\r\n      } else {\r\n        throw new Error(data.message || 'Failed to send verification code');\r\n      }\r\n    } catch (error) {\r\n      console.error('Send registration verification code error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Verify registration code and complete registration\r\n  async verifyRegistrationCode(email, code) {\r\n    try {\r\n      const pendingData = this.getPendingVerification();\r\n      if (!pendingData || pendingData.email !== email || pendingData.type !== 'registration') {\r\n        throw new Error('No pending registration found');\r\n      }\r\n\r\n      const response = await fetch(`${API_CONFIG.BASE_URL}/auth/verify-registration-code`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ \r\n          email, \r\n          code,\r\n          userData: {\r\n            name: pendingData.name,\r\n            email: pendingData.email,\r\n            phone: pendingData.phone,\r\n            bio: pendingData.bio,\r\n            password: pendingData.password\r\n          }\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        // Clear pending verification\r\n        sessionStorage.removeItem(this.pendingVerificationKey);\r\n        \r\n        // Set session with tokens\r\n        this.setSession(data.user, data.accessToken, data.refreshToken);\r\n        \r\n        return data;\r\n      } else {\r\n        throw new Error(data.message || 'Registration verification failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Verify registration code error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Send password reset code\r\n  async sendPasswordResetCode(email) {\r\n    try {\r\n      const response = await fetch(`${API_CONFIG.BASE_URL}/auth/send-reset-code`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email })\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        // Store pending verification info\r\n        const pendingData = {\r\n          email,\r\n          type: 'password_reset',\r\n          timestamp: Date.now(),\r\n          expiresAt: Date.now() + (10 * 60 * 1000) // 10 minutes\r\n        };\r\n        sessionStorage.setItem(this.pendingVerificationKey, JSON.stringify(pendingData));\r\n        return data;\r\n      } else {\r\n        throw new Error(data.message || 'Failed to send reset code');\r\n      }\r\n    } catch (error) {\r\n      console.error('Send password reset code error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Verify reset code and update password\r\n  async verifyPasswordResetCode(email, code, newPassword) {\r\n    try {\r\n      const response = await fetch(`${API_CONFIG.BASE_URL}/auth/verify-reset-code`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email, code, newPassword })\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        // Clear pending verification\r\n        sessionStorage.removeItem(this.pendingVerificationKey);\r\n        return data;\r\n      } else {\r\n        throw new Error(data.message || 'Password reset verification failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Verify password reset code error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Resend verification code\r\n  async resendVerificationCode() {\r\n    try {\r\n      const pendingData = this.getPendingVerification();\r\n      if (!pendingData) {\r\n        throw new Error('No pending verification found');\r\n      }\r\n\r\n      let endpoint;\r\n      let body;\r\n\r\n      switch (pendingData.type) {\r\n        case 'login':\r\n          endpoint = '/auth/send-login-code';\r\n          body = { email: pendingData.email };\r\n          break;\r\n        case 'registration':\r\n          endpoint = '/auth/send-registration-code';\r\n          body = {\r\n            name: pendingData.name,\r\n            email: pendingData.email,\r\n            phone: pendingData.phone,\r\n            bio: pendingData.bio,\r\n            password: pendingData.password\r\n          };\r\n          break;\r\n        case 'password_reset':\r\n          endpoint = '/auth/send-reset-code';\r\n          body = { email: pendingData.email };\r\n          break;\r\n        default:\r\n          throw new Error('Invalid verification type');\r\n      }\r\n\r\n      const response = await fetch(`${API_CONFIG.BASE_URL}${endpoint}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(body)\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        // Update pending verification timestamp\r\n        pendingData.timestamp = Date.now();\r\n        pendingData.expiresAt = Date.now() + (10 * 60 * 1000);\r\n        sessionStorage.setItem(this.pendingVerificationKey, JSON.stringify(pendingData));\r\n        return data;\r\n      } else {\r\n        throw new Error(data.message || 'Failed to resend verification code');\r\n      }\r\n    } catch (error) {\r\n      console.error('Resend verification code error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Get pending verification data\r\n  getPendingVerification() {\r\n    try {\r\n      const data = sessionStorage.getItem(this.pendingVerificationKey);\r\n      if (!data) return null;\r\n\r\n      const pendingData = JSON.parse(data);\r\n      \r\n      // Check if expired\r\n      if (Date.now() > pendingData.expiresAt) {\r\n        sessionStorage.removeItem(this.pendingVerificationKey);\r\n        return null;\r\n      }\r\n\r\n      return pendingData;\r\n    } catch (error) {\r\n      console.error('Error parsing pending verification:', error);\r\n      sessionStorage.removeItem(this.pendingVerificationKey);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Clear pending verification\r\n  clearPendingVerification() {\r\n    sessionStorage.removeItem(this.pendingVerificationKey);\r\n  }\r\n\r\n  // Get time until verification expires\r\n  getVerificationTimeRemaining() {\r\n    const pendingData = this.getPendingVerification();\r\n    if (!pendingData) return 0;\r\n    \r\n    return Math.max(0, pendingData.expiresAt - Date.now());\r\n  }\r\n\r\n  // Check if user exists (for login vs registration flow)\r\n  async checkUserExists(email) {\r\n    try {\r\n      const response = await fetch(`${API_CONFIG.BASE_URL}/auth/check-user`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email })\r\n      });\r\n\r\n      const data = await response.json();\r\n      return data.exists || false;\r\n    } catch (error) {\r\n      console.error('Check user exists error:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Set user session with both tokens\r\n  setSession(userData, accessToken, refreshToken, expiryMinutes = this.sessionExpiryMinutes) {\r\n    const now = Date.now();\r\n    const tabId = this.getOrCreateTabId();\r\n    \r\n    // Store current user in sessionStorage (tab-specific)\r\n    sessionStorage.setItem(this.currentUserTabKey, userData.id || userData._id);\r\n    sessionStorage.setItem(this.accessTokenKey, accessToken);\r\n    sessionStorage.setItem(this.userKey, JSON.stringify(userData));\r\n    \r\n    // Store all user sessions in localStorage with expiration\r\n    const sessions = this.getSessions();\r\n    const userId = userData.id || userData._id;\r\n    sessions[userId] = {\r\n      accessToken,\r\n      refreshToken,\r\n      user: userData,\r\n      expiry: now + (expiryMinutes * 60 * 1000),\r\n      lastActive: now,\r\n      tabId: tabId\r\n    };\r\n    \r\n    localStorage.setItem(this.userSessionsKey, JSON.stringify(sessions));\r\n    localStorage.setItem(this.refreshTokenKey, refreshToken);\r\n  }\r\n\r\n  // Get current tab's session\r\n  getCurrentSession() {\r\n    const currentUserId = sessionStorage.getItem(this.currentUserTabKey);\r\n    const accessToken = sessionStorage.getItem(this.accessTokenKey);\r\n    const userData = sessionStorage.getItem(this.userKey);\r\n\r\n    if (!currentUserId || !accessToken || !userData) {\r\n      // Try to restore from localStorage if available\r\n      return this.restoreSessionFromStorage();\r\n    }\r\n\r\n    try {\r\n      const user = JSON.parse(userData);\r\n      return {\r\n        userId: currentUserId,\r\n        accessToken,\r\n        refreshToken: localStorage.getItem(this.refreshTokenKey),\r\n        user\r\n      };\r\n    } catch (error) {\r\n      console.error('Error parsing user data:', error);\r\n      this.clearCurrentSession();\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Restore session from localStorage if valid\r\n  restoreSessionFromStorage() {\r\n    const sessions = this.getSessions();\r\n    const now = Date.now();\r\n    \r\n    // Find a valid session\r\n    for (const [userId, session] of Object.entries(sessions)) {\r\n      if (now < session.expiry) {\r\n        // Restore to current tab\r\n        sessionStorage.setItem(this.currentUserTabKey, userId);\r\n        sessionStorage.setItem(this.accessTokenKey, session.accessToken);\r\n        sessionStorage.setItem(this.userKey, JSON.stringify(session.user));\r\n        \r\n        // Update last active\r\n        session.lastActive = now;\r\n        sessions[userId] = session;\r\n        localStorage.setItem(this.userSessionsKey, JSON.stringify(sessions));\r\n        \r\n        return {\r\n          userId,\r\n          accessToken: session.accessToken,\r\n          refreshToken: session.refreshToken,\r\n          user: session.user\r\n        };\r\n      }\r\n    }\r\n    \r\n    return null;\r\n  }\r\n\r\n  // Get all stored sessions\r\n  getSessions() {\r\n    try {\r\n      return JSON.parse(localStorage.getItem(this.userSessionsKey) || '{}');\r\n    } catch (error) {\r\n      console.error('Error parsing sessions:', error);\r\n      return {};\r\n    }\r\n  }\r\n\r\n  // Update access token after refresh\r\n  updateAccessToken(newAccessToken) {\r\n    const currentUserId = sessionStorage.getItem(this.currentUserTabKey);\r\n    if (!currentUserId) return;\r\n\r\n    // Update in sessionStorage\r\n    sessionStorage.setItem(this.accessTokenKey, newAccessToken);\r\n\r\n    // Update in localStorage\r\n    const sessions = this.getSessions();\r\n    if (sessions[currentUserId]) {\r\n      sessions[currentUserId].accessToken = newAccessToken;\r\n      sessions[currentUserId].lastActive = Date.now();\r\n      localStorage.setItem(this.userSessionsKey, JSON.stringify(sessions));\r\n    }\r\n  }\r\n\r\n  // Refresh access token using refresh token\r\n  async refreshAccessToken() {\r\n    const session = this.getCurrentSession();\r\n    if (!session?.refreshToken) {\r\n      throw new Error('No refresh token available');\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_CONFIG.BASE_URL}/auth/refresh-token`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          refreshToken: session.refreshToken\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.success) {\r\n        this.updateAccessToken(data.accessToken);\r\n        \r\n        // Update user data if provided\r\n        if (data.user) {\r\n          sessionStorage.setItem(this.userKey, JSON.stringify(data.user));\r\n          \r\n          const sessions = this.getSessions();\r\n          const currentUserId = sessionStorage.getItem(this.currentUserTabKey);\r\n          if (sessions[currentUserId]) {\r\n            sessions[currentUserId].user = data.user;\r\n            localStorage.setItem(this.userSessionsKey, JSON.stringify(sessions));\r\n          }\r\n        }\r\n\r\n        return data.accessToken;\r\n      } else {\r\n        throw new Error(data.message || 'Token refresh failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Token refresh error:', error);\r\n      this.clearCurrentSession();\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Make authenticated API request with auto token refresh\r\n  async authenticatedRequest(url, options = {}) {\r\n    const session = this.getCurrentSession();\r\n    if (!session?.accessToken) {\r\n      throw new Error('No access token available');\r\n    }\r\n\r\n    // Ensure proper URL construction without double slashes\r\n    let fullUrl;\r\n    if (url.startsWith('http')) {\r\n      fullUrl = url;\r\n    } else {\r\n      const baseUrl = API_CONFIG.BASE_URL.endsWith('/') ? API_CONFIG.BASE_URL.slice(0, -1) : API_CONFIG.BASE_URL;\r\n      const path = url.startsWith('/') ? url : '/' + url;\r\n      fullUrl = `${baseUrl}${path}`;\r\n    }\r\n\r\n    // Add authorization header\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      ...options.headers,\r\n      'Authorization': `Bearer ${session.accessToken}`\r\n    };\r\n\r\n    console.log(\"headers\", headers);\r\n\r\n    // Prepare request configuration\r\n    const requestConfig = {\r\n      method: 'GET',\r\n      ...options,\r\n      headers\r\n    };\r\n\r\n    // Handle body for POST/PUT/PATCH requests\r\n    if (options.body && typeof options.body === 'string') {\r\n      requestConfig.body = options.body;\r\n    } else if (options.body && typeof options.body === 'object' && !(options.body instanceof FormData)) {\r\n      requestConfig.body = JSON.stringify(options.body);\r\n    } else if (options.body instanceof FormData) {\r\n      delete requestConfig.headers['Content-Type'];\r\n      requestConfig.body = options.body;\r\n    } else if (options.body) {\r\n      requestConfig.body = options.body;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(fullUrl, requestConfig);\r\n\r\n      // If token expired, try to refresh and retry\r\n      if (response.status === 401) {\r\n        let errorData;\r\n        try {\r\n          errorData = await response.json();\r\n        } catch (parseError) {\r\n          errorData = { message: 'Unauthorized' };\r\n        }\r\n        \r\n        if (errorData.code === 'TOKEN_EXPIRED' || errorData.message?.includes('expired')) {\r\n          try {\r\n            await this.refreshAccessToken();\r\n            \r\n            // Retry request with new token\r\n            const newSession = this.getCurrentSession();\r\n            const retryConfig = {\r\n              ...requestConfig,\r\n              headers: {\r\n                ...requestConfig.headers,\r\n                'Authorization': `Bearer ${newSession.accessToken}`\r\n              }\r\n            };\r\n            \r\n            const retryResponse = await fetch(fullUrl, retryConfig);\r\n            return retryResponse;\r\n          } catch (refreshError) {\r\n            this.handleAuthFailure();\r\n            throw new Error('Authentication failed');\r\n          }\r\n        }\r\n      }\r\n\r\n      return response;\r\n    } catch (error) {\r\n      console.error(' Authenticated request error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Extend current session\r\n  extendSession(additionalMinutes = this.sessionExpiryMinutes) {\r\n    const currentUserId = sessionStorage.getItem(this.currentUserTabKey);\r\n    if (!currentUserId) return;\r\n\r\n    const sessions = this.getSessions();\r\n    if (sessions[currentUserId]) {\r\n      const now = Date.now();\r\n      sessions[currentUserId].expiry = now + (additionalMinutes * 60 * 1000);\r\n      sessions[currentUserId].lastActive = now;\r\n      localStorage.setItem(this.userSessionsKey, JSON.stringify(sessions));\r\n    }\r\n  }\r\n\r\n  // Clear current tab's session\r\n  clearCurrentSession() {\r\n    sessionStorage.removeItem(this.currentUserTabKey);\r\n    sessionStorage.removeItem(this.accessTokenKey);\r\n    sessionStorage.removeItem(this.userKey);\r\n    sessionStorage.removeItem(this.pendingVerificationKey);\r\n  }\r\n\r\n  // Logout specific user\r\n  logout(userId = null) {\r\n    const currentUserId = userId || sessionStorage.getItem(this.currentUserTabKey);\r\n    \r\n    if (currentUserId) {\r\n      const sessions = this.getSessions();\r\n      delete sessions[currentUserId];\r\n      localStorage.setItem(this.userSessionsKey, JSON.stringify(sessions));\r\n      \r\n      // If logging out current user, clear session storage\r\n      if (currentUserId === sessionStorage.getItem(this.currentUserTabKey)) {\r\n        this.clearCurrentSession();\r\n      }\r\n    }\r\n    \r\n    // Clear refresh token if no sessions left\r\n    const remainingSessions = this.getSessions();\r\n    if (Object.keys(remainingSessions).length === 0) {\r\n      localStorage.removeItem(this.refreshTokenKey);\r\n    }\r\n  }\r\n\r\n  // Logout all users\r\n  logoutAll() {\r\n    localStorage.removeItem(this.userSessionsKey);\r\n    localStorage.removeItem(this.refreshTokenKey);\r\n    this.clearCurrentSession();\r\n  }\r\n\r\n  // Get or create tab ID\r\n  getOrCreateTabId() {\r\n    let tabId = sessionStorage.getItem('tabId');\r\n    if (!tabId) {\r\n      tabId = Date.now() + Math.random().toString(36).substr(2, 9);\r\n      sessionStorage.setItem('tabId', tabId);\r\n    }\r\n    return tabId;\r\n  }\r\n\r\n  // Check if session is valid (not expired)\r\n  isSessionValid() {\r\n    const session = this.getCurrentSession();\r\n    if (!session) return false;\r\n\r\n    const sessions = this.getSessions();\r\n    const userSession = sessions[session.userId];\r\n    \r\n    if (!userSession) return false;\r\n    \r\n    return Date.now() < userSession.expiry;\r\n  }\r\n\r\n  // Get time until session expires (in milliseconds)\r\n  getTimeUntilExpiry() {\r\n    const session = this.getCurrentSession();\r\n    if (!session) return 0;\r\n\r\n    const sessions = this.getSessions();\r\n    const userSession = sessions[session.userId];\r\n    \r\n    if (!userSession) return 0;\r\n    \r\n    return Math.max(0, userSession.expiry - Date.now());\r\n  }\r\n\r\n  // Setup automatic token refresh\r\n  setupTokenRefresh() {\r\n    setInterval(async () => {\r\n      const timeUntilExpiry = this.getTimeUntilExpiry();\r\n      \r\n      if (timeUntilExpiry > 0 && timeUntilExpiry < 5 * 60 * 1000) {\r\n        try {\r\n          await this.refreshAccessToken();\r\n        } catch (error) {\r\n          console.error('Auto token refresh failed:', error);\r\n        }\r\n      }\r\n    }, 60000);\r\n  }\r\n\r\n  // Setup activity tracking for session extension\r\n  setupActivityTracking() {\r\n    let lastActivity = 0;\r\n    \r\n    const activityEvents = ['click', 'keypress', 'scroll', 'mousemove', 'touchstart'];\r\n    \r\n    const handleActivity = () => {\r\n      const now = Date.now();\r\n      if (now - lastActivity > 5 * 60 * 1000) {\r\n        this.extendSession();\r\n        lastActivity = now;\r\n      }\r\n    };\r\n\r\n    activityEvents.forEach(event => {\r\n      document.addEventListener(event, handleActivity, { passive: true });\r\n    });\r\n  }\r\n\r\n  // Start cleanup timer for expired sessions\r\n  startCleanupTimer() {\r\n    setInterval(() => {\r\n      const sessions = this.getSessions();\r\n      const now = Date.now();\r\n      let hasChanges = false;\r\n\r\n      Object.keys(sessions).forEach(userId => {\r\n        if (now > sessions[userId].expiry) {\r\n          delete sessions[userId];\r\n          hasChanges = true;\r\n        }\r\n      });\r\n\r\n      if (hasChanges) {\r\n        localStorage.setItem(this.userSessionsKey, JSON.stringify(sessions));\r\n        \r\n        const currentUserId = sessionStorage.getItem(this.currentUserTabKey);\r\n        if (currentUserId && !sessions[currentUserId]) {\r\n          this.clearCurrentSession();\r\n          this.handleAuthFailure();\r\n        }\r\n      }\r\n    }, 60000);\r\n  }\r\n\r\n  // Handle authentication failure\r\n  handleAuthFailure() {\r\n    this.clearCurrentSession();\r\n    \r\n    window.dispatchEvent(new CustomEvent('auth:failure', {\r\n      detail: { message: 'Session expired. Please login again.' }\r\n    }));\r\n    \r\n    if (window.location.pathname !== '/login') {\r\n      window.location.href = '/login';\r\n    }\r\n  }\r\n\r\n  // Initialize session manager\r\n  init() {\r\n    const session = this.getCurrentSession();\r\n    if (session && this.isSessionValid()) {\r\n      window.dispatchEvent(new CustomEvent('auth:restored', {\r\n        detail: { user: session.user }\r\n      }));\r\n      return session;\r\n    } else {\r\n      this.clearCurrentSession();\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Get available user sessions (for switching between users)\r\n  getAvailableSessions() {\r\n    const sessions = this.getSessions();\r\n    const now = Date.now();\r\n    const validSessions = {};\r\n\r\n    Object.entries(sessions).forEach(([userId, session]) => {\r\n      if (now < session.expiry) {\r\n        validSessions[userId] = {\r\n          user: session.user,\r\n          lastActive: session.lastActive,\r\n          expiry: session.expiry\r\n        };\r\n      }\r\n    });\r\n\r\n    return validSessions;\r\n  }\r\n\r\n  // Switch to different user session\r\n  switchToUser(userId) {\r\n    const sessions = this.getSessions();\r\n    const session = sessions[userId];\r\n    \r\n    if (!session || Date.now() > session.expiry) {\r\n      throw new Error('Session not found or expired');\r\n    }\r\n\r\n    sessionStorage.setItem(this.currentUserTabKey, userId);\r\n    sessionStorage.setItem(this.accessTokenKey, session.accessToken);\r\n    sessionStorage.setItem(this.userKey, JSON.stringify(session.user));\r\n\r\n    window.dispatchEvent(new CustomEvent('auth:switched', {\r\n      detail: { user: session.user }\r\n    }));\r\n\r\n    return session;\r\n  }\r\n}\r\n\r\n// Create and export singleton instance\r\nconst sessionManager = new SessionManager();\r\n\r\n// Export both the class and instance\r\nexport default sessionManager;\r\nexport { SessionManager };","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction formatProdErrorMessage(code) {\n  var url = \"https://react.dev/errors/\" + code;\n  if (1 < arguments.length) {\n    url += \"?args[]=\" + encodeURIComponent(arguments[1]);\n    for (var i = 2; i < arguments.length; i++)\n      url += \"&args[]=\" + encodeURIComponent(arguments[i]);\n  }\n  return (\n    \"Minified React error #\" +\n    code +\n    \"; visit \" +\n    url +\n    \" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"\n  );\n}\nfunction noop() {}\nvar Internals = {\n    d: {\n      f: noop,\n      r: function () {\n        throw Error(formatProdErrorMessage(522));\n      },\n      D: noop,\n      C: noop,\n      L: noop,\n      m: noop,\n      X: noop,\n      S: noop,\n      M: noop\n    },\n    p: 0,\n    findDOMNode: null\n  },\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\nfunction createPortal$1(children, containerInfo, implementation) {\n  var key =\n    3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : null;\n  return {\n    $$typeof: REACT_PORTAL_TYPE,\n    key: null == key ? null : \"\" + key,\n    children: children,\n    containerInfo: containerInfo,\n    implementation: implementation\n  };\n}\nvar ReactSharedInternals =\n  React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;\nfunction getCrossOriginStringAs(as, input) {\n  if (\"font\" === as) return \"\";\n  if (\"string\" === typeof input)\n    return \"use-credentials\" === input ? input : \"\";\n}\nexports.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  Internals;\nexports.createPortal = function (children, container) {\n  var key =\n    2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : null;\n  if (\n    !container ||\n    (1 !== container.nodeType &&\n      9 !== container.nodeType &&\n      11 !== container.nodeType)\n  )\n    throw Error(formatProdErrorMessage(299));\n  return createPortal$1(children, container, null, key);\n};\nexports.flushSync = function (fn) {\n  var previousTransition = ReactSharedInternals.T,\n    previousUpdatePriority = Internals.p;\n  try {\n    if (((ReactSharedInternals.T = null), (Internals.p = 2), fn)) return fn();\n  } finally {\n    (ReactSharedInternals.T = previousTransition),\n      (Internals.p = previousUpdatePriority),\n      Internals.d.f();\n  }\n};\nexports.preconnect = function (href, options) {\n  \"string\" === typeof href &&\n    (options\n      ? ((options = options.crossOrigin),\n        (options =\n          \"string\" === typeof options\n            ? \"use-credentials\" === options\n              ? options\n              : \"\"\n            : void 0))\n      : (options = null),\n    Internals.d.C(href, options));\n};\nexports.prefetchDNS = function (href) {\n  \"string\" === typeof href && Internals.d.D(href);\n};\nexports.preinit = function (href, options) {\n  if (\"string\" === typeof href && options && \"string\" === typeof options.as) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin),\n      integrity =\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      fetchPriority =\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0;\n    \"style\" === as\n      ? Internals.d.S(\n          href,\n          \"string\" === typeof options.precedence ? options.precedence : void 0,\n          {\n            crossOrigin: crossOrigin,\n            integrity: integrity,\n            fetchPriority: fetchPriority\n          }\n        )\n      : \"script\" === as &&\n        Internals.d.X(href, {\n          crossOrigin: crossOrigin,\n          integrity: integrity,\n          fetchPriority: fetchPriority,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n  }\n};\nexports.preinitModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (\"object\" === typeof options && null !== options) {\n      if (null == options.as || \"script\" === options.as) {\n        var crossOrigin = getCrossOriginStringAs(\n          options.as,\n          options.crossOrigin\n        );\n        Internals.d.M(href, {\n          crossOrigin: crossOrigin,\n          integrity:\n            \"string\" === typeof options.integrity ? options.integrity : void 0,\n          nonce: \"string\" === typeof options.nonce ? options.nonce : void 0\n        });\n      }\n    } else null == options && Internals.d.M(href);\n};\nexports.preload = function (href, options) {\n  if (\n    \"string\" === typeof href &&\n    \"object\" === typeof options &&\n    null !== options &&\n    \"string\" === typeof options.as\n  ) {\n    var as = options.as,\n      crossOrigin = getCrossOriginStringAs(as, options.crossOrigin);\n    Internals.d.L(href, as, {\n      crossOrigin: crossOrigin,\n      integrity:\n        \"string\" === typeof options.integrity ? options.integrity : void 0,\n      nonce: \"string\" === typeof options.nonce ? options.nonce : void 0,\n      type: \"string\" === typeof options.type ? options.type : void 0,\n      fetchPriority:\n        \"string\" === typeof options.fetchPriority\n          ? options.fetchPriority\n          : void 0,\n      referrerPolicy:\n        \"string\" === typeof options.referrerPolicy\n          ? options.referrerPolicy\n          : void 0,\n      imageSrcSet:\n        \"string\" === typeof options.imageSrcSet ? options.imageSrcSet : void 0,\n      imageSizes:\n        \"string\" === typeof options.imageSizes ? options.imageSizes : void 0,\n      media: \"string\" === typeof options.media ? options.media : void 0\n    });\n  }\n};\nexports.preloadModule = function (href, options) {\n  if (\"string\" === typeof href)\n    if (options) {\n      var crossOrigin = getCrossOriginStringAs(options.as, options.crossOrigin);\n      Internals.d.m(href, {\n        as:\n          \"string\" === typeof options.as && \"script\" !== options.as\n            ? options.as\n            : void 0,\n        crossOrigin: crossOrigin,\n        integrity:\n          \"string\" === typeof options.integrity ? options.integrity : void 0\n      });\n    } else Internals.d.m(href);\n};\nexports.requestFormReset = function (form) {\n  Internals.d.r(form);\n};\nexports.unstable_batchedUpdates = function (fn, a) {\n  return fn(a);\n};\nexports.useFormState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useFormState(action, initialState, permalink);\n};\nexports.useFormStatus = function () {\n  return ReactSharedInternals.H.useHostTransitionStatus();\n};\nexports.version = \"19.1.1\";\n","/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nfunction push(heap, node) {\n  var index = heap.length;\n  heap.push(node);\n  a: for (; 0 < index; ) {\n    var parentIndex = (index - 1) >>> 1,\n      parent = heap[parentIndex];\n    if (0 < compare(parent, node))\n      (heap[parentIndex] = node), (heap[index] = parent), (index = parentIndex);\n    else break a;\n  }\n}\nfunction peek(heap) {\n  return 0 === heap.length ? null : heap[0];\n}\nfunction pop(heap) {\n  if (0 === heap.length) return null;\n  var first = heap[0],\n    last = heap.pop();\n  if (last !== first) {\n    heap[0] = last;\n    a: for (\n      var index = 0, length = heap.length, halfLength = length >>> 1;\n      index < halfLength;\n\n    ) {\n      var leftIndex = 2 * (index + 1) - 1,\n        left = heap[leftIndex],\n        rightIndex = leftIndex + 1,\n        right = heap[rightIndex];\n      if (0 > compare(left, last))\n        rightIndex < length && 0 > compare(right, left)\n          ? ((heap[index] = right),\n            (heap[rightIndex] = last),\n            (index = rightIndex))\n          : ((heap[index] = left),\n            (heap[leftIndex] = last),\n            (index = leftIndex));\n      else if (rightIndex < length && 0 > compare(right, last))\n        (heap[index] = right), (heap[rightIndex] = last), (index = rightIndex);\n      else break a;\n    }\n  }\n  return first;\n}\nfunction compare(a, b) {\n  var diff = a.sortIndex - b.sortIndex;\n  return 0 !== diff ? diff : a.id - b.id;\n}\nexports.unstable_now = void 0;\nif (\"object\" === typeof performance && \"function\" === typeof performance.now) {\n  var localPerformance = performance;\n  exports.unstable_now = function () {\n    return localPerformance.now();\n  };\n} else {\n  var localDate = Date,\n    initialTime = localDate.now();\n  exports.unstable_now = function () {\n    return localDate.now() - initialTime;\n  };\n}\nvar taskQueue = [],\n  timerQueue = [],\n  taskIdCounter = 1,\n  currentTask = null,\n  currentPriorityLevel = 3,\n  isPerformingWork = !1,\n  isHostCallbackScheduled = !1,\n  isHostTimeoutScheduled = !1,\n  needsPaint = !1,\n  localSetTimeout = \"function\" === typeof setTimeout ? setTimeout : null,\n  localClearTimeout = \"function\" === typeof clearTimeout ? clearTimeout : null,\n  localSetImmediate = \"undefined\" !== typeof setImmediate ? setImmediate : null;\nfunction advanceTimers(currentTime) {\n  for (var timer = peek(timerQueue); null !== timer; ) {\n    if (null === timer.callback) pop(timerQueue);\n    else if (timer.startTime <= currentTime)\n      pop(timerQueue),\n        (timer.sortIndex = timer.expirationTime),\n        push(taskQueue, timer);\n    else break;\n    timer = peek(timerQueue);\n  }\n}\nfunction handleTimeout(currentTime) {\n  isHostTimeoutScheduled = !1;\n  advanceTimers(currentTime);\n  if (!isHostCallbackScheduled)\n    if (null !== peek(taskQueue))\n      (isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline());\n    else {\n      var firstTimer = peek(timerQueue);\n      null !== firstTimer &&\n        requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);\n    }\n}\nvar isMessageLoopRunning = !1,\n  taskTimeoutID = -1,\n  frameInterval = 5,\n  startTime = -1;\nfunction shouldYieldToHost() {\n  return needsPaint\n    ? !0\n    : exports.unstable_now() - startTime < frameInterval\n      ? !1\n      : !0;\n}\nfunction performWorkUntilDeadline() {\n  needsPaint = !1;\n  if (isMessageLoopRunning) {\n    var currentTime = exports.unstable_now();\n    startTime = currentTime;\n    var hasMoreWork = !0;\n    try {\n      a: {\n        isHostCallbackScheduled = !1;\n        isHostTimeoutScheduled &&\n          ((isHostTimeoutScheduled = !1),\n          localClearTimeout(taskTimeoutID),\n          (taskTimeoutID = -1));\n        isPerformingWork = !0;\n        var previousPriorityLevel = currentPriorityLevel;\n        try {\n          b: {\n            advanceTimers(currentTime);\n            for (\n              currentTask = peek(taskQueue);\n              null !== currentTask &&\n              !(\n                currentTask.expirationTime > currentTime && shouldYieldToHost()\n              );\n\n            ) {\n              var callback = currentTask.callback;\n              if (\"function\" === typeof callback) {\n                currentTask.callback = null;\n                currentPriorityLevel = currentTask.priorityLevel;\n                var continuationCallback = callback(\n                  currentTask.expirationTime <= currentTime\n                );\n                currentTime = exports.unstable_now();\n                if (\"function\" === typeof continuationCallback) {\n                  currentTask.callback = continuationCallback;\n                  advanceTimers(currentTime);\n                  hasMoreWork = !0;\n                  break b;\n                }\n                currentTask === peek(taskQueue) && pop(taskQueue);\n                advanceTimers(currentTime);\n              } else pop(taskQueue);\n              currentTask = peek(taskQueue);\n            }\n            if (null !== currentTask) hasMoreWork = !0;\n            else {\n              var firstTimer = peek(timerQueue);\n              null !== firstTimer &&\n                requestHostTimeout(\n                  handleTimeout,\n                  firstTimer.startTime - currentTime\n                );\n              hasMoreWork = !1;\n            }\n          }\n          break a;\n        } finally {\n          (currentTask = null),\n            (currentPriorityLevel = previousPriorityLevel),\n            (isPerformingWork = !1);\n        }\n        hasMoreWork = void 0;\n      }\n    } finally {\n      hasMoreWork\n        ? schedulePerformWorkUntilDeadline()\n        : (isMessageLoopRunning = !1);\n    }\n  }\n}\nvar schedulePerformWorkUntilDeadline;\nif (\"function\" === typeof localSetImmediate)\n  schedulePerformWorkUntilDeadline = function () {\n    localSetImmediate(performWorkUntilDeadline);\n  };\nelse if (\"undefined\" !== typeof MessageChannel) {\n  var channel = new MessageChannel(),\n    port = channel.port2;\n  channel.port1.onmessage = performWorkUntilDeadline;\n  schedulePerformWorkUntilDeadline = function () {\n    port.postMessage(null);\n  };\n} else\n  schedulePerformWorkUntilDeadline = function () {\n    localSetTimeout(performWorkUntilDeadline, 0);\n  };\nfunction requestHostTimeout(callback, ms) {\n  taskTimeoutID = localSetTimeout(function () {\n    callback(exports.unstable_now());\n  }, ms);\n}\nexports.unstable_IdlePriority = 5;\nexports.unstable_ImmediatePriority = 1;\nexports.unstable_LowPriority = 4;\nexports.unstable_NormalPriority = 3;\nexports.unstable_Profiling = null;\nexports.unstable_UserBlockingPriority = 2;\nexports.unstable_cancelCallback = function (task) {\n  task.callback = null;\n};\nexports.unstable_forceFrameRate = function (fps) {\n  0 > fps || 125 < fps\n    ? console.error(\n        \"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"\n      )\n    : (frameInterval = 0 < fps ? Math.floor(1e3 / fps) : 5);\n};\nexports.unstable_getCurrentPriorityLevel = function () {\n  return currentPriorityLevel;\n};\nexports.unstable_next = function (eventHandler) {\n  switch (currentPriorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n      var priorityLevel = 3;\n      break;\n    default:\n      priorityLevel = currentPriorityLevel;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_requestPaint = function () {\n  needsPaint = !0;\n};\nexports.unstable_runWithPriority = function (priorityLevel, eventHandler) {\n  switch (priorityLevel) {\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n      break;\n    default:\n      priorityLevel = 3;\n  }\n  var previousPriorityLevel = currentPriorityLevel;\n  currentPriorityLevel = priorityLevel;\n  try {\n    return eventHandler();\n  } finally {\n    currentPriorityLevel = previousPriorityLevel;\n  }\n};\nexports.unstable_scheduleCallback = function (\n  priorityLevel,\n  callback,\n  options\n) {\n  var currentTime = exports.unstable_now();\n  \"object\" === typeof options && null !== options\n    ? ((options = options.delay),\n      (options =\n        \"number\" === typeof options && 0 < options\n          ? currentTime + options\n          : currentTime))\n    : (options = currentTime);\n  switch (priorityLevel) {\n    case 1:\n      var timeout = -1;\n      break;\n    case 2:\n      timeout = 250;\n      break;\n    case 5:\n      timeout = 1073741823;\n      break;\n    case 4:\n      timeout = 1e4;\n      break;\n    default:\n      timeout = 5e3;\n  }\n  timeout = options + timeout;\n  priorityLevel = {\n    id: taskIdCounter++,\n    callback: callback,\n    priorityLevel: priorityLevel,\n    startTime: options,\n    expirationTime: timeout,\n    sortIndex: -1\n  };\n  options > currentTime\n    ? ((priorityLevel.sortIndex = options),\n      push(timerQueue, priorityLevel),\n      null === peek(taskQueue) &&\n        priorityLevel === peek(timerQueue) &&\n        (isHostTimeoutScheduled\n          ? (localClearTimeout(taskTimeoutID), (taskTimeoutID = -1))\n          : (isHostTimeoutScheduled = !0),\n        requestHostTimeout(handleTimeout, options - currentTime)))\n    : ((priorityLevel.sortIndex = timeout),\n      push(taskQueue, priorityLevel),\n      isHostCallbackScheduled ||\n        isPerformingWork ||\n        ((isHostCallbackScheduled = !0),\n        isMessageLoopRunning ||\n          ((isMessageLoopRunning = !0), schedulePerformWorkUntilDeadline())));\n  return priorityLevel;\n};\nexports.unstable_shouldYield = shouldYieldToHost;\nexports.unstable_wrapCallback = function (callback) {\n  var parentPriorityLevel = currentPriorityLevel;\n  return function () {\n    var previousPriorityLevel = currentPriorityLevel;\n    currentPriorityLevel = parentPriorityLevel;\n    try {\n      return callback.apply(this, arguments);\n    } finally {\n      currentPriorityLevel = previousPriorityLevel;\n    }\n  };\n};\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","// api/config.js\r\nconst API_CONFIG = {\r\n  BASE_URL: process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000',\r\n  TIMEOUT: 30000, // 30 seconds\r\n  \r\n  ENDPOINTS: {\r\n    AUTH: {\r\n      LOGIN: 'auth/login',\r\n      REGISTER: 'auth/register',\r\n      LOGOUT: 'auth/logout',\r\n      LOGOUT_ALL: 'auth/logout-all',\r\n      REFRESH: 'auth/refresh',\r\n      REFRESH_TOKEN: 'auth/refresh-token',\r\n      VERIFY_TOKEN: 'auth/verify-token',\r\n      ME: 'auth/me',\r\n      PROFILE: 'auth/profile',\r\n      CHANGE_PASSWORD: 'auth/change-password',\r\n      FORGOT_PASSWORD: 'auth/forgot-password',\r\n      RESET_PASSWORD: 'auth/reset-password',\r\n      VERIFY_EMAIL: 'auth/verify-email',\r\n      RESEND_VERIFICATION: 'auth/resend-verification',\r\n    },\r\n    \r\n    CONVERSATIONS: {\r\n      LIST: '/conversations',\r\n      CREATE: '/conversations',\r\n      GET: (id) => `/conversations/${id}`,\r\n      UPDATE: (id) => `/conversations/${id}`,\r\n      DELETE: (id) => `/conversations/${id}`,\r\n      LEAVE: (id) => `/conversations/${id}/leave`,\r\n      PARTICIPANTS: (id) => `/conversations/${id}/participants`,\r\n      ADD_PARTICIPANT: (id) => `/conversations/${id}/participants`,\r\n      REMOVE_PARTICIPANT: (id, userId) => `/conversations/${id}/participants/${userId}`,\r\n      MESSAGES: (id) => `/conversations/${id}/messages`\r\n    },\r\n    \r\n    MESSAGES: {\r\n      LIST: (conversationId) => `/messages/${conversationId}?page=1&limit=50`,\r\n      SEND: (conversationId) => `/messages/${conversationId}`,\r\n      SEND_FILE: (conversationId) => `/messages/${conversationId}/file`,\r\n      GET: (id) => `/messages/${id}`,\r\n      EDIT: (id) => `/messages/${id}`,\r\n      DELETE: (id) => `/messages/${id}`,\r\n      REACT: (id) => `/messages/${id}/react`,\r\n      UNREACT: (id) => `/messages/${id}/unreact`,\r\n      PIN: (id) => `/messages/${id}/pin`,\r\n      UNPIN: (id) => `/messages/${id}/unpin`,\r\n      REPORT: (id) => `/messages/${id}/report`\r\n    },\r\n    \r\n    USERS: {\r\n      LIST: '/users',\r\n      SEARCH: '/users/search',\r\n      SEARCH_BY_EMAIL: '/users/search',\r\n      ONLINE_STATUS: '/users/online',\r\n      ONLINE_USERS: '/users/online-users',\r\n      UPDATE_STATUS: '/users/status',\r\n      CONTACTS: '/users/me/contacts',\r\n      UPDATE_PROFILE: '/users/me/profile',\r\n      \r\n      // Dynamic endpoints\r\n      GET_PROFILE: (id) => `/users/${id}`,\r\n      CREATE_CONVERSATION: (id) => `/users/${id}/conversation`,\r\n      MUTUAL_CONVERSATIONS: (id) => `/users/${id}/mutual-conversations`,\r\n      BLOCK_USER: (id) => `/users/${id}/block`,\r\n      REPORT_USER: (id) => `/users/${id}/report`,\r\n      \r\n      // Additional endpoints\r\n      UPLOAD_AVATAR: '/users/me/avatar',\r\n      PREFERENCES: '/users/me/preferences',\r\n      SESSIONS: '/users/me/sessions',\r\n      STATS: '/users/me/stats',\r\n      ACTIVITY: '/users/me/activity',\r\n      EXPORT_DATA: '/users/me/export',\r\n      DELETE_ACCOUNT: '/users/me/delete',\r\n      BLOCKED_USERS: '/users/me/blocked',\r\n      CHECK_EMAIL: '/users/check-email',\r\n      BATCH_UPDATE: '/users/batch'\r\n    },\r\n    \r\n    FILES: {\r\n      UPLOAD: '/files/upload',\r\n      DOWNLOAD: (fileId) => `/files/${fileId}/download`,\r\n      DELETE: (fileId) => `/files/${fileId}`,\r\n      METADATA: (fileId) => `/files/${fileId}/metadata`\r\n    },\r\n    \r\n    ADMIN: {\r\n      USERS: '/admin/users',\r\n      CONVERSATIONS: '/admin/conversations',\r\n      MESSAGES: '/admin/messages',\r\n      REPORTS: '/admin/reports',\r\n      ANALYTICS: '/admin/analytics',\r\n      SETTINGS: '/admin/settings'\r\n    },\r\n    \r\n    HEALTH: '/health',\r\n    INFO: ''\r\n  },\r\n  \r\n  // WebSocket configuration\r\n  WEBSOCKET: {\r\n    URL: process.env.REACT_APP_WS_URL || 'ws://localhost:5000',\r\n    RECONNECT_INTERVAL: 3000, // 3 seconds\r\n    MAX_RECONNECT_ATTEMPTS: 5\r\n  },\r\n  \r\n  // File upload limits\r\n  FILES: {\r\n    MAX_SIZE: 50 * 1024 * 1024, // 50MB\r\n    ALLOWED_TYPES: {\r\n      IMAGES: ['image/jpeg', 'image/png', 'image/gif', 'image/webp'],\r\n      DOCUMENTS: [\r\n        'application/pdf', \r\n        'text/plain', \r\n        'application/msword', \r\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n        'application/vnd.ms-excel',\r\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\r\n      ],\r\n      AUDIO: ['audio/mpeg', 'audio/wav', 'audio/ogg', 'audio/mp4'],\r\n      VIDEO: ['video/mp4', 'video/webm', 'video/ogg']\r\n    },\r\n    AVATAR_MAX_SIZE: 5 * 1024 * 1024 // 5MB for avatars\r\n  },\r\n  \r\n  // Session configuration\r\n  SESSION: {\r\n    DEFAULT_EXPIRY_MINUTES: 60, // 1 hour\r\n    REFRESH_THRESHOLD_MINUTES: 5, // Refresh when < 5 minutes remaining\r\n    ACTIVITY_EXTENSION_MINUTES: 60, // Extend by 1 hour on activity\r\n    CLEANUP_INTERVAL_MS: 60000, // Clean up expired sessions every minute\r\n    MAX_SESSIONS_PER_USER: 5 // Maximum sessions per user\r\n  },\r\n  \r\n  // Pagination defaults\r\n  PAGINATION: {\r\n    DEFAULT_PAGE_SIZE: 20,\r\n    MAX_PAGE_SIZE: 100,\r\n    MESSAGES_PAGE_SIZE: 50,\r\n    USERS_PAGE_SIZE: 20,\r\n    CONVERSATIONS_PAGE_SIZE: 20\r\n  },\r\n  \r\n  // Rate limiting (for client-side throttling)\r\n  RATE_LIMITS: {\r\n    MESSAGES_PER_MINUTE: 30,\r\n    FILE_UPLOADS_PER_HOUR: 20,\r\n    API_REQUESTS_PER_MINUTE: 100,\r\n    LOGIN_ATTEMPTS_PER_HOUR: 10\r\n  },\r\n  \r\n  // Feature flags\r\n  FEATURES: {\r\n    FILE_UPLOADS: true,\r\n    VIDEO_CALLS: false,\r\n    VOICE_MESSAGES: true,\r\n    MESSAGE_REACTIONS: true,\r\n    MESSAGE_EDITING: true,\r\n    MESSAGE_DELETION: true,\r\n    TYPING_INDICATORS: true,\r\n    READ_RECEIPTS: true,\r\n    PUSH_NOTIFICATIONS: false,\r\n    DARK_MODE: true,\r\n    MULTI_USER_SESSIONS: true,\r\n    SESSION_MANAGEMENT: true,\r\n    AUTO_TOKEN_REFRESH: true\r\n  },\r\n  \r\n  // UI Constants\r\n  UI: {\r\n    TOAST_DURATION: 5000, // 5 seconds\r\n    TYPING_TIMEOUT: 2000, // 2 seconds\r\n    MESSAGE_MAX_LENGTH: 4096,\r\n    CONVERSATION_NAME_MAX_LENGTH: 100,\r\n    USER_BIO_MAX_LENGTH: 500,\r\n    SEARCH_DEBOUNCE_MS: 300\r\n  },\r\n  \r\n  // Storage keys (for localStorage/sessionStorage)\r\n  STORAGE_KEYS: {\r\n    DARK_MODE: 'darkMode',\r\n    USER_PREFERENCES: 'userPreferences',\r\n    CHAT_APP_ACCESS_TOKEN: 'chatapp_access_token',\r\n    CHAT_APP_REFRESH_TOKEN: 'chatapp_refresh_token',\r\n    CHAT_APP_USER: 'chatapp_user',\r\n    CHAT_APP_USER_SESSIONS: 'chatapp_user_sessions',\r\n    CHAT_APP_CURRENT_USER_TAB: 'chatapp_current_user_tab'\r\n  }\r\n};\r\n\r\nexport default API_CONFIG;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// api/client.js - FIXED VERSION\r\nimport API_CONFIG from \"./config\";\r\n\r\nclass ApiClient {\r\n  constructor() {\r\n    this.baseURL = API_CONFIG.BASE_URL;\r\n    this.sessionManager = null; // Will be set when sessionManager is available\r\n  }\r\n\r\n  // Set session manager instance\r\n  setSessionManager(sessionManager) {\r\n    this.sessionManager = sessionManager;\r\n  }\r\n\r\n  // Get auth token - prioritize sessionManager, fallback to sessionStorage\r\n  getAuthToken() {\r\n    if (this.sessionManager) {\r\n      const session = this.sessionManager.getCurrentSession();\r\n      return session?.accessToken;\r\n    }\r\n    // Use consistent key with sessionManager\r\n    return sessionStorage.getItem('chatapp_access_token');\r\n  }\r\n\r\n  // Set auth token (legacy method for compatibility)\r\n  setAuthToken(token) {\r\n    if (!this.sessionManager) {\r\n      sessionStorage.setItem('chatapp_access_token', token);\r\n    }\r\n  }\r\n\r\n  // Remove auth token (legacy method for compatibility)\r\n  removeAuthToken() {\r\n    if (!this.sessionManager) {\r\n      sessionStorage.removeItem('chatapp_access_token');\r\n      localStorage.removeItem('chatapp_refresh_token');\r\n    }\r\n  }\r\n\r\n  // Build full URL\r\n  buildUrl(endpoint) {\r\n    return `${this.baseURL}${endpoint}`;\r\n  }\r\n\r\n  // Get default headers\r\n  getHeaders(customHeaders = {}) {\r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      ...customHeaders\r\n    };\r\n\r\n    const token = this.getAuthToken();\r\n    if (token) {\r\n      headers.Authorization = `Bearer ${token}`;\r\n    }\r\n\r\n    return headers;\r\n  }\r\n\r\n  // Generic request method with automatic token refresh\r\n  async request(endpoint, options = {}) {\r\n    const url = this.buildUrl(endpoint);\r\n    const config = {\r\n      ...options,\r\n      headers: this.getHeaders(options.headers)\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(url, config);\r\n      \r\n      // Handle successful responses first\r\n      if (response.ok) {\r\n        const contentType = response.headers.get('content-type');\r\n        \r\n        if (contentType?.includes('application/json')) {\r\n          return await response.json();\r\n        } else if (contentType?.includes('text/')) {\r\n          return await response.text();\r\n        } else {\r\n          return await response.blob();\r\n        }\r\n      }\r\n\r\n      // Handle error responses\r\n      let errorData;\r\n      try {\r\n        const contentType = response.headers.get('content-type');\r\n        if (contentType?.includes('application/json')) {\r\n          errorData = await response.json();\r\n        } else {\r\n          errorData = { message: await response.text() };\r\n        }\r\n      } catch (parseError) {\r\n        errorData = { message: `HTTP ${response.status}: ${response.statusText}` };\r\n      }\r\n\r\n      // Handle token expiration with automatic refresh\r\n      if (response.status === 401) {\r\n        const isTokenExpired = errorData.code === 'TOKEN_EXPIRED' || \r\n                              errorData.message?.includes('token') || \r\n                              errorData.message?.includes('expired');\r\n        \r\n        if (isTokenExpired && this.sessionManager) {\r\n          try {\r\n            // Try to refresh token\r\n            await this.sessionManager.refreshAccessToken();\r\n            \r\n            // Retry the original request with new token\r\n            const newConfig = {\r\n              ...config,\r\n              headers: this.getHeaders(options.headers)\r\n            };\r\n            \r\n            const retryResponse = await fetch(url, newConfig);\r\n            \r\n            if (retryResponse.ok) {\r\n              const contentType = retryResponse.headers.get('content-type');\r\n              if (contentType?.includes('application/json')) {\r\n                return await retryResponse.json();\r\n              } else if (contentType?.includes('text/')) {\r\n                return await retryResponse.text();\r\n              } else {\r\n                return await retryResponse.blob();\r\n              }\r\n            }\r\n          } catch (refreshError) {\r\n            console.error('Token refresh failed:', refreshError);\r\n            // Clear session and redirect to login\r\n            this.handleAuthFailure();\r\n            throw new Error('Session expired. Please login again.');\r\n          }\r\n        } else {\r\n          // No session manager or refresh failed\r\n          this.handleAuthFailure();\r\n          throw new Error('Authentication required');\r\n        }\r\n      }\r\n\r\n      throw new Error(errorData.message || errorData.error || `HTTP error! status: ${response.status}`);\r\n      \r\n    } catch (error) {\r\n      // Handle network errors\r\n      if (error.name === 'TypeError' && error.message.includes('fetch')) {\r\n        throw new Error('Network error. Please check your connection and try again.');\r\n      }\r\n      \r\n      console.error('API Request failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Handle authentication failure\r\n  handleAuthFailure() {\r\n    this.removeAuthToken();\r\n    \r\n    // Emit custom event for app to handle\r\n    window.dispatchEvent(new CustomEvent('auth:failure', {\r\n      detail: { message: 'Session expired. Please login again.' }\r\n    }));\r\n    \r\n    // Clear session if sessionManager is available\r\n    if (this.sessionManager) {\r\n      this.sessionManager.logout();\r\n    }\r\n  }\r\n\r\n  // Authenticated request using sessionManager if available\r\n  async authenticatedRequest(endpoint, options = {}) {\r\n    if (this.sessionManager) {\r\n      // Use sessionManager's authenticated request for automatic token handling\r\n      try {\r\n        const response = await this.sessionManager.authenticatedRequest(\r\n          endpoint,\r\n          options\r\n        );\r\n        \r\n        // Parse response - sessionManager returns Response object\r\n        const contentType = response.headers.get('content-type');\r\n        if (contentType?.includes('application/json')) {\r\n          return await response.json();\r\n        } else if (contentType?.includes('text/')) {\r\n          return await response.text();\r\n        } else {\r\n          return await response.blob();\r\n        }\r\n      } catch (error) {\r\n        console.error('Authenticated request failed:', error);\r\n        throw error;\r\n      }\r\n    } else {\r\n      // Fallback to regular request\r\n      return this.request(endpoint, options);\r\n    }\r\n  }\r\n\r\n  // GET request\r\n  async get(endpoint) {\r\n    return this.request(endpoint, { method: 'GET' });\r\n  }\r\n\r\n  // POST request\r\n  async post(endpoint, data) {\r\n    return this.request(endpoint, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n\r\n  // PUT request\r\n  async put(endpoint, data) {\r\n    return this.request(endpoint, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n\r\n  // PATCH request\r\n  async patch(endpoint, data) {\r\n    return this.request(endpoint, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n\r\n  // DELETE request\r\n  async delete(endpoint) {\r\n    return this.request(endpoint, { method: 'DELETE' });\r\n  }\r\n\r\n  // Upload file (multipart/form-data) - FIXED\r\n  async upload(endpoint, formData) {\r\n    const url = this.buildUrl(endpoint);\r\n    const headers = {};\r\n    \r\n    const token = this.getAuthToken();\r\n    if (token) {\r\n      headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    \r\n    // Don't set Content-Type - let browser set it for FormData\r\n    try {\r\n      const response = await fetch(url, {\r\n        method: 'POST',\r\n        headers,\r\n        body: formData\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      return response.json();\r\n    } catch (error) {\r\n      console.error('Upload failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Download file\r\n  async downloadFile(endpoint, filename) {\r\n    try {\r\n      const response = await fetch(this.buildUrl(endpoint), {\r\n        headers: {\r\n          Authorization: `Bearer ${this.getAuthToken()}`\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Download failed: ${response.statusText}`);\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      \r\n      // Create download link\r\n      const url = window.URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = filename || 'download';\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      window.URL.revokeObjectURL(url);\r\n\r\n      return blob;\r\n    } catch (error) {\r\n      console.error('Download failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Health check\r\n  async healthCheck() {\r\n    try {\r\n      const response = await this.get('/health');\r\n      return response;\r\n    } catch (error) {\r\n      console.error('Health check failed:', error);\r\n      return { status: 'error', message: error.message };\r\n    }\r\n  }\r\n\r\n  // Get base URL\r\n  getBaseURL() {\r\n    return this.baseURL;\r\n  }\r\n\r\n  // Set base URL\r\n  setBaseURL(url) {\r\n    this.baseURL = url;\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst apiClient = new ApiClient();\r\n\r\n// Dynamically import sessionManager to avoid circular dependencies\r\nif (typeof window !== 'undefined') {\r\n  import('../utils/sessionManager').then((module) => {\r\n    apiClient.setSessionManager(module.default);\r\n  }).catch((error) => {\r\n    console.warn('SessionManager not available:', error);\r\n  });\r\n}\r\n\r\nexport default apiClient;","// api/auth.js (or wherever your authService is)\r\nimport apiClient from \"./client\";\r\nimport API_CONFIG from \"./config\";\r\n\r\nclass AuthService {\r\n  constructor() {\r\n    this.sessionManager = null;\r\n  }\r\n\r\n  // Set session manager when available\r\n  setSessionManager(sessionManager) {\r\n    this.sessionManager = sessionManager;\r\n  }\r\n\r\n  // Login with session management\r\n  async login(credentials) {\r\n    try {\r\n      const response = await apiClient.post(\r\n        API_CONFIG.ENDPOINTS.AUTH.LOGIN,\r\n        credentials\r\n      );\r\n\r\n      if (response.success && response.accessToken && response.refreshToken) {\r\n        // Store session with 1-hour expiry using sessionManager\r\n        if (this.sessionManager) {\r\n          this.sessionManager.setSession(\r\n            response.user,\r\n            response.accessToken,\r\n            response.refreshToken,\r\n            60 // 1 hour\r\n          );\r\n        } else {\r\n          // Fallback for backward compatibility\r\n          apiClient.setAuthToken(response.accessToken);\r\n        }\r\n      }\r\n\r\n      return response;\r\n    } catch (error) {\r\n      throw new Error(error.message || \"Login failed\");\r\n    }\r\n  }\r\n\r\n  // Register with session management\r\n  async register(userData) {\r\n    try {\r\n      const response = await apiClient.post(\r\n        API_CONFIG.ENDPOINTS.AUTH.REGISTER,\r\n        userData\r\n      );\r\n\r\n      if (response.success && response.accessToken && response.refreshToken) {\r\n        // Store session with 1-hour expiry\r\n        if (this.sessionManager) {\r\n          this.sessionManager.setSession(\r\n            response.user,\r\n            response.accessToken,\r\n            response.refreshToken,\r\n            60 // 1 hour\r\n          );\r\n        } else {\r\n          // Fallback for backward compatibility\r\n          apiClient.setAuthToken(response.accessToken);\r\n        }\r\n      }\r\n\r\n      return response;\r\n    } catch (error) {\r\n      throw new Error(error.message || \"Registration failed\");\r\n    }\r\n  }\r\n\r\n  // Logout with session cleanup\r\n  async logout() {\r\n    try {\r\n      // Try to logout on server using authenticated request\r\n      if (this.sessionManager) {\r\n        await this.sessionManager.authenticatedRequest(\r\n          apiClient.buildUrl(API_CONFIG.ENDPOINTS.AUTH.LOGOUT),\r\n          { method: \"POST\" }\r\n        );\r\n      } else {\r\n        // Fallback\r\n        await apiClient.post(API_CONFIG.ENDPOINTS.AUTH.LOGOUT);\r\n      }\r\n    } catch (error) {\r\n      // Continue with logout even if API call fails\r\n      console.error(\"Logout API call failed:\", error);\r\n    } finally {\r\n      // Always clear local session\r\n      if (this.sessionManager) {\r\n        this.sessionManager.logout();\r\n      } else {\r\n        apiClient.removeAuthToken();\r\n      }\r\n    }\r\n  }\r\n\r\n  // Add these missing methods to your authService class:\r\n\r\nasync verifyEmail(email, token = null, code = null) {\r\n  try {\r\n    const response = await apiClient.post(\r\n      API_CONFIG.ENDPOINTS.AUTH.VERIFY_EMAIL,\r\n      { email, token, code }\r\n    );\r\n\r\n    if (response.success && response.accessToken && response.refreshToken) {\r\n      // Store session after successful verification\r\n      if (this.sessionManager) {\r\n        this.sessionManager.setSession(\r\n          response.user,\r\n          response.accessToken,\r\n          response.refreshToken,\r\n          60 // 1 hour\r\n        );\r\n      }\r\n      apiClient.setAuthToken(response.accessToken);\r\n    }\r\n\r\n    return response;\r\n  } catch (error) {\r\n    throw new Error(error.message || \"Email verification failed\");\r\n  }\r\n}\r\n\r\nasync resendVerification(email) {\r\n  try {\r\n    const response = await apiClient.post(\r\n      API_CONFIG.ENDPOINTS.AUTH.RESEND_VERIFICATION,\r\n      { email }\r\n    );\r\n    return response;\r\n  } catch (error) {\r\n    throw new Error(error.message || \"Failed to resend verification\");\r\n  }\r\n}\r\n\r\n  // Logout from all devices\r\n  async logoutAll() {\r\n    try {\r\n      if (this.sessionManager) {\r\n        await this.sessionManager.authenticatedRequest(\r\n          apiClient.buildUrl(API_CONFIG.ENDPOINTS.AUTH.LOGOUT_ALL),\r\n          { method: \"POST\" }\r\n        );\r\n      } else {\r\n        await apiClient.post(API_CONFIG.ENDPOINTS.AUTH.LOGOUT_ALL);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Logout all API call failed:\", error);\r\n    } finally {\r\n      if (this.sessionManager) {\r\n        this.sessionManager.logoutAll();\r\n      } else {\r\n        apiClient.removeAuthToken();\r\n      }\r\n    }\r\n  }\r\n\r\n  // Verify token and restore session\r\n  async verifyToken() {\r\n    try {\r\n      if (this.sessionManager) {\r\n        const session = this.sessionManager.getCurrentSession();\r\n\r\n        if (!session?.accessToken) {\r\n          throw new Error(\"No access token available\");\r\n        }\r\n\r\n        // Use authenticated request to verify token\r\n        const response = await this.sessionManager.authenticatedRequest(\r\n          apiClient.buildUrl(API_CONFIG.ENDPOINTS.AUTH.VERIFY_TOKEN),\r\n          { method: \"POST\" }\r\n        );\r\n\r\n        if (response.success) {\r\n          // Update API client token\r\n          apiClient.setAuthToken(session.accessToken);\r\n          return response;\r\n        }\r\n\r\n        throw new Error(\"Token verification failed\");\r\n      } else {\r\n        // Fallback for backward compatibility\r\n        const response = await apiClient.post(\r\n          API_CONFIG.ENDPOINTS.AUTH.VERIFY_TOKEN\r\n        );\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      // Clear invalid session\r\n      if (this.sessionManager) {\r\n        this.sessionManager.logout();\r\n      } else {\r\n        apiClient.removeAuthToken();\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Get current user\r\n  async getCurrentUser() {\r\n    try {\r\n      if (this.sessionManager) {\r\n        const response = await this.sessionManager.authenticatedRequest(\r\n          apiClient.buildUrl(API_CONFIG.ENDPOINTS.AUTH.ME)\r\n        );\r\n        return response;\r\n      } else {\r\n        return await apiClient.get(API_CONFIG.ENDPOINTS.AUTH.ME);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Get current user failed:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Refresh access token\r\n  async refreshToken() {\r\n    try {\r\n      if (this.sessionManager) {\r\n        return await this.sessionManager.refreshAccessToken();\r\n      } else {\r\n        // Fallback refresh using refresh endpoint\r\n        const refreshToken = localStorage.getItem(\"refreshToken\");\r\n        if (!refreshToken) {\r\n          throw new Error(\"No refresh token available\");\r\n        }\r\n\r\n        const response = await apiClient.post(\r\n          API_CONFIG.ENDPOINTS.AUTH.REFRESH_TOKEN,\r\n          {\r\n            refreshToken,\r\n          }\r\n        );\r\n\r\n        if (response.success && response.accessToken) {\r\n          apiClient.setAuthToken(response.accessToken);\r\n          return response.accessToken;\r\n        }\r\n\r\n        throw new Error(\"Token refresh failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Token refresh failed:\", error);\r\n      // Clear invalid session\r\n      if (this.sessionManager) {\r\n        this.sessionManager.logout();\r\n      } else {\r\n        apiClient.removeAuthToken();\r\n      }\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Check if user is authenticated\r\n  isAuthenticated() {\r\n    if (this.sessionManager) {\r\n      return this.sessionManager.isSessionValid();\r\n    } else {\r\n      return !!apiClient.getAuthToken();\r\n    }\r\n  }\r\n\r\n  // Get current session info\r\n  getCurrentSession() {\r\n    if (this.sessionManager) {\r\n      return this.sessionManager.getCurrentSession();\r\n    } else {\r\n      const token = apiClient.getAuthToken();\r\n      return token ? { accessToken: token } : null;\r\n    }\r\n  }\r\n\r\n  // Get time until session expires\r\n  getTimeUntilExpiry() {\r\n    if (this.sessionManager) {\r\n      return this.sessionManager.getTimeUntilExpiry();\r\n    } else {\r\n      return 0; // Unknown for legacy sessions\r\n    }\r\n  }\r\n\r\n  // Extend current session\r\n  extendSession() {\r\n    if (this.sessionManager) {\r\n      return this.sessionManager.extendSession();\r\n    }\r\n    // No-op for legacy sessions\r\n  }\r\n\r\n  // Get available user sessions (for multi-user support)\r\n  getAvailableSessions() {\r\n    if (this.sessionManager) {\r\n      return this.sessionManager.getAvailableSessions();\r\n    } else {\r\n      return {}; // No multi-user support in legacy mode\r\n    }\r\n  }\r\n\r\n  // Switch to different user session\r\n  switchToUser(userId) {\r\n    if (this.sessionManager) {\r\n      const session = this.sessionManager.switchToUser(userId);\r\n      if (session) {\r\n        apiClient.setAuthToken(session.accessToken);\r\n      }\r\n      return session;\r\n    } else {\r\n      throw new Error(\"Multi-user sessions not supported in legacy mode\");\r\n    }\r\n  }\r\n\r\n  // Change password\r\n  async changePassword(currentPassword, newPassword) {\r\n    try {\r\n      let response;\r\n      if (this.sessionManager) {\r\n        response = await this.sessionManager.authenticatedRequest(\r\n          apiClient.buildUrl(API_CONFIG.ENDPOINTS.AUTH.CHANGE_PASSWORD),\r\n          {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n              currentPassword,\r\n              newPassword,\r\n            }),\r\n          }\r\n        );\r\n      } else {\r\n        response = await apiClient.post(\r\n          API_CONFIG.ENDPOINTS.AUTH.CHANGE_PASSWORD,\r\n          {\r\n            currentPassword,\r\n            newPassword,\r\n          }\r\n        );\r\n      }\r\n\r\n      if (response.success) {\r\n        // Password change usually requires re-login\r\n        if (this.sessionManager) {\r\n          this.sessionManager.logout();\r\n        } else {\r\n          apiClient.removeAuthToken();\r\n        }\r\n      }\r\n\r\n      return response;\r\n    } catch (error) {\r\n      console.error(\"Change password failed:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Forgot password\r\n  async forgotPassword(email) {\r\n    try {\r\n      const response = await apiClient.post(\r\n        API_CONFIG.ENDPOINTS.AUTH.FORGOT_PASSWORD,\r\n        { email }\r\n      );\r\n      return response;\r\n    } catch (error) {\r\n      throw new Error(error.message || \"Forgot password request failed\");\r\n    }\r\n  }\r\n\r\n  // Reset password\r\n  async resetPassword(token, newPassword) {\r\n    try {\r\n      const response = await apiClient.post(\r\n        API_CONFIG.ENDPOINTS.AUTH.RESET_PASSWORD,\r\n        {\r\n          token,\r\n          newPassword,\r\n        }\r\n      );\r\n      return response;\r\n    } catch (error) {\r\n      throw new Error(error.message || \"Password reset failed\");\r\n    }\r\n  }\r\n\r\n  // Update profile\r\n  async updateProfile(profileData) {\r\n    try {\r\n      let response;\r\n      if (this.sessionManager) {\r\n        response = await this.sessionManager.authenticatedRequest(\r\n          apiClient.buildUrl(API_CONFIG.ENDPOINTS.AUTH.PROFILE),\r\n          {\r\n            method: \"PUT\",\r\n            body: JSON.stringify(profileData),\r\n          }\r\n        );\r\n      } else {\r\n        response = await apiClient.put(\r\n          API_CONFIG.ENDPOINTS.AUTH.PROFILE,\r\n          profileData\r\n        );\r\n      }\r\n\r\n      if (response.success && response.user) {\r\n        // Update session with new user data\r\n        if (this.sessionManager) {\r\n          const currentSession = this.sessionManager.getCurrentSession();\r\n          if (currentSession) {\r\n            this.sessionManager.setSession(\r\n              response.user,\r\n              currentSession.accessToken,\r\n              currentSession.refreshToken,\r\n              60\r\n            );\r\n          }\r\n        }\r\n      }\r\n\r\n      return response;\r\n    } catch (error) {\r\n      console.error(\"Profile update failed:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Initialize session manager\r\n  init() {\r\n    if (this.sessionManager) {\r\n      return this.sessionManager.init();\r\n    } else {\r\n      // Legacy initialization - check if token exists\r\n      const token = apiClient.getAuthToken();\r\n      return token ? { accessToken: token } : null;\r\n    }\r\n  }\r\n\r\n  // Session event listeners\r\n  onAuthFailure(callback) {\r\n    window.addEventListener(\"auth:failure\", callback);\r\n    return () => window.removeEventListener(\"auth:failure\", callback);\r\n  }\r\n\r\n  onAuthRestored(callback) {\r\n    window.addEventListener(\"auth:restored\", callback);\r\n    return () => window.removeEventListener(\"auth:restored\", callback);\r\n  }\r\n\r\n  onAuthSwitched(callback) {\r\n    window.addEventListener(\"auth:switched\", callback);\r\n    return () => window.removeEventListener(\"auth:switched\", callback);\r\n  }\r\n}\r\n\r\n// Create and export singleton instance\r\nconst authService = new AuthService();\r\n\r\n// Set session manager when it's available\r\nif (typeof window !== \"undefined\") {\r\n  import(\"../utils/sessionManager\")\r\n    .then((module) => {\r\n      authService.setSessionManager(module.default);\r\n    })\r\n    .catch((error) => {\r\n      console.warn(\r\n        \"SessionManager not available, using legacy auth mode:\",\r\n        error\r\n      );\r\n    });\r\n}\r\n\r\nexport { authService };\r\n","// contexts/UserContext.js\r\nimport {\r\n  createContext,\r\n  useContext,\r\n  useState,\r\n  useCallback,\r\n  useEffect,\r\n} from \"react\";\r\nimport { authService } from \"../api/auth\";\r\nimport sessionManager from \"../utils/sessionManager\";\r\n\r\n// Create the context\r\nconst UserContext = createContext(null);\r\n\r\n// Custom hook to use the context\r\nexport const useUser = () => {\r\n  const context = useContext(UserContext);\r\n  if (!context) {\r\n    throw new Error(\"useUser must be used within a UserProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\n// Context Provider Component\r\nexport const UserProvider = ({ children }) => {\r\n  // User-related state\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const [isError, setIsError] = useState(false);\r\n  const [popupAlert, setPopupAlert] = useState({ show: false, message: \"\" });\r\n\r\n  // Conversations state\r\n  const [conversations, setConversations] = useState([]);\r\n  const [activeChat, setActiveChat] = useState(null);\r\n  const [onlineUsers, setOnlineUsers] = useState(new Set());\r\n\r\n  // Session state\r\n  const [sessionInfo, setSessionInfo] = useState({\r\n    isValid: false,\r\n    timeUntilExpiry: 0,\r\n    availableSessions: {},\r\n  });\r\n\r\n  // UI state\r\n  const [isDark, setIsDark] = useState(() => {\r\n    const saved = localStorage.getItem(\"darkMode\");\r\n    return saved ? JSON.parse(saved) : false;\r\n  });\r\n\r\n  // Initialize session management on mount\r\n  useEffect(() => {\r\n    initializeAuth();\r\n  }, []);\r\n\r\n  // Update session info periodically\r\n  useEffect(() => {\r\n    const updateSessionInfo = () => {\r\n      setSessionInfo({\r\n        isValid: authService.isAuthenticated(),\r\n        timeUntilExpiry: authService.getTimeUntilExpiry(),\r\n        availableSessions: authService.getAvailableSessions(),\r\n      });\r\n    };\r\n\r\n    updateSessionInfo();\r\n    const interval = setInterval(updateSessionInfo, 30000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [currentUser]);\r\n\r\n  // Set up auth event listeners\r\n  useEffect(() => {\r\n    const handleAuthFailure = (event) => {\r\n      console.error(\"Auth failure detected:\", event.detail);\r\n      setCurrentUser(null);\r\n      setConversations([]);\r\n      setActiveChat(null);\r\n      setOnlineUsers(new Set());\r\n      setError(event.detail.message || \"Session expired. Please login again.\");\r\n    };\r\n\r\n    const handleAuthRestored = (event) => {\r\n      // setCurrentUser(event.detail.user);\r\n      setError(\"\");\r\n    };\r\n\r\n    const handleAuthSwitched = (event) => {\r\n      // setCurrentUser(event.detail.user);\r\n      setError(\"\");\r\n      setConversations([]);\r\n      setActiveChat(null);\r\n      setOnlineUsers(new Set());\r\n    };\r\n\r\n    const removeAuthFailure = authService.onAuthFailure(handleAuthFailure);\r\n    const removeAuthRestored = authService.onAuthRestored(handleAuthRestored);\r\n    const removeAuthSwitched = authService.onAuthSwitched(handleAuthSwitched);\r\n\r\n    return () => {\r\n      removeAuthFailure();\r\n      removeAuthRestored();\r\n      removeAuthSwitched();\r\n    };\r\n  }, []);\r\n\r\n  // Save dark mode preference\r\n  useEffect(() => {\r\n    localStorage.setItem(\"darkMode\", JSON.stringify(isDark));\r\n  }, [isDark]);\r\n\r\n  // Initialize authentication\r\n  const initializeAuth = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n\r\n      const session = authService.init();\r\n\r\n      if (session) {\r\n        console.log(\"Session found, setting basic user...\");\r\n        setCurrentUser(session.user);\r\n\r\n        // CRITICAL: Always fetch complete profile immediately after setting basic user\r\n        console.log(\"Fetching complete profile after session restore...\");\r\n        const completeUser = await fetchCompleteUserProfile();\r\n\r\n        if (completeUser) {\r\n          console.log(\r\n            \"Complete profile loaded on session restore:\",\r\n            completeUser.blockedUsers\r\n          );\r\n          setCurrentUser(completeUser);\r\n        }\r\n\r\n        setError(\"\");\r\n      } else {\r\n        try {\r\n          console.log(\"No session found, verifying token...\");\r\n          const response = await authService.verifyToken();\r\n          if (response.success && response.user) {\r\n            setCurrentUser(response.user);\r\n\r\n            // CRITICAL: Also fetch complete profile after token verification\r\n            console.log(\r\n              \"Fetching complete profile after token verification...\"\r\n            );\r\n            const completeUser = await fetchCompleteUserProfile();\r\n\r\n            if (completeUser) {\r\n              console.log(\r\n                \"Complete profile loaded on token verification:\",\r\n                completeUser.blockedUsers\r\n              );\r\n              setCurrentUser(completeUser);\r\n            }\r\n\r\n            setError(\"\");\r\n          }\r\n        } catch (verifyError) {\r\n          console.error(\"Token verification failed:\", verifyError.message);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Auth initialization error:\", error);\r\n      setError(\"Failed to initialize authentication\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Update user profile\r\n  const updateUserProfile = useCallback((updatedUser) => {\r\n    setCurrentUser((prevUser) => {\r\n      if (!prevUser) return prevUser;\r\n\r\n      const isSameUser =\r\n        prevUser._id === updatedUser._id || prevUser.id === updatedUser.id;\r\n\r\n      if (isSameUser) {\r\n        const newUser = {\r\n          ...prevUser,\r\n          ...updatedUser,\r\n          _id: prevUser._id || updatedUser._id,\r\n          id: prevUser.id || updatedUser.id,\r\n        };\r\n\r\n        return newUser;\r\n      }\r\n      return prevUser;\r\n    });\r\n\r\n    // Update conversations with new user data\r\n    setConversations((prevConversations) =>\r\n      prevConversations.map((conversation) => {\r\n        let hasChanges = false;\r\n\r\n        const updatedParticipants = conversation.participants.map(\r\n          (participant) => {\r\n            const participantId = participant.user._id || participant.user.id;\r\n            const updatedId = updatedUser._id || updatedUser.id;\r\n\r\n            if (participantId === updatedId) {\r\n              hasChanges = true;\r\n              return {\r\n                ...participant,\r\n                user: {\r\n                  ...participant.user,\r\n                  ...updatedUser,\r\n                  _id: participant.user._id || updatedUser._id,\r\n                  id: participant.user.id || updatedUser.id,\r\n                },\r\n              };\r\n            }\r\n            return participant;\r\n          }\r\n        );\r\n\r\n        let updatedLastMessage = conversation.lastMessage;\r\n        if (conversation.lastMessage?.sender) {\r\n          const senderId =\r\n            conversation.lastMessage.sender._id ||\r\n            conversation.lastMessage.sender.id;\r\n          const updatedId = updatedUser._id || updatedUser.id;\r\n\r\n          if (senderId === updatedId) {\r\n            hasChanges = true;\r\n            updatedLastMessage = {\r\n              ...conversation.lastMessage,\r\n              sender: {\r\n                ...conversation.lastMessage.sender,\r\n                ...updatedUser,\r\n                _id: conversation.lastMessage.sender._id || updatedUser._id,\r\n                id: conversation.lastMessage.sender.id || updatedUser.id,\r\n              },\r\n            };\r\n          }\r\n        }\r\n\r\n        if (hasChanges) {\r\n          return {\r\n            ...conversation,\r\n            participants: updatedParticipants,\r\n            lastMessage: updatedLastMessage,\r\n          };\r\n        }\r\n\r\n        return conversation;\r\n      })\r\n    );\r\n  }, []);\r\n\r\n  // Register user - uses your existing auth service\r\n  const registerUser = useCallback(async (userData) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError(\"\");\r\n\r\n      const response = await authService.register(userData);\r\n\r\n      if (response.success) {\r\n        if (response.user && response.accessToken) {\r\n          setCurrentUser(response.user);\r\n          return response;\r\n        } else {\r\n          // Show popup for verification email\r\n          setPopupAlert({\r\n            show: true,\r\n            message:\r\n              \"Verification email sent! Check your inbox and click the verification link.\",\r\n          });\r\n\r\n          setTimeout(() => {\r\n            setPopupAlert({ show: false, message: \"\" });\r\n          }, 8000);\r\n\r\n          return {\r\n            success: true,\r\n            message:\r\n              response.message ||\r\n              \"Please check your email for verification instructions\",\r\n            emailVerificationRequired: true,\r\n            email: userData.email,\r\n          };\r\n        }\r\n      } else {\r\n        throw new Error(response.message || \"Registration failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Registration error:\", error);\r\n      setError(error.message || \"Registration failed\");\r\n      throw error;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const fetchCompleteUserProfile = useCallback(async () => {\r\n    try {\r\n      console.log(\"Fetching complete user profile...\");\r\n\r\n      const response = await sessionManager.authenticatedRequest(\r\n        \"/users/me/profile\"\r\n      );\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.success && data.user) {\r\n          const completeUser = {\r\n            ...data.user,\r\n            blockedUsers: data.user.blockedUsers || [],\r\n          };\r\n\r\n          // Only update if there are actual changes\r\n          setCurrentUser((prev) => {\r\n            if (!prev) return completeUser;\r\n\r\n            const blockedUsersChanged =\r\n              JSON.stringify(prev.blockedUsers || []) !==\r\n              JSON.stringify(completeUser.blockedUsers);\r\n\r\n            if (blockedUsersChanged || !prev.blockedUsers) {\r\n              console.log(\r\n                \"User profile updated with blocked users:\",\r\n                completeUser.blockedUsers\r\n              );\r\n              return completeUser;\r\n            }\r\n\r\n            return prev; // No changes, prevent re-render\r\n          });\r\n\r\n          return completeUser;\r\n        }\r\n      }\r\n\r\n      return null;\r\n    } catch (error) {\r\n      console.error(\"Error fetching user profile:\", error);\r\n      return null;\r\n    }\r\n  }, []); // No dependencies to prevent infinite loops\r\n\r\n  // Login function - uses your existing auth service\r\n  const loginUser = useCallback(\r\n    async (credentials) => {\r\n      try {\r\n        setIsLoading(true);\r\n        setError(\"\");\r\n\r\n        const response = await authService.login(credentials);\r\n\r\n        if (response.success && response.user) {\r\n          console.log(\"Login successful, setting basic user...\");\r\n          setCurrentUser(response.user);\r\n\r\n          // CRITICAL: Always fetch complete profile immediately after login\r\n          console.log(\"Fetching complete profile after login...\");\r\n          const completeUser = await fetchCompleteUserProfile();\r\n\r\n          if (completeUser) {\r\n            console.log(\r\n              \"Complete profile loaded after login:\",\r\n              completeUser.blockedUsers\r\n            );\r\n            setCurrentUser(completeUser);\r\n          }\r\n\r\n          return response;\r\n        } else {\r\n          throw new Error(response.message || \"Login failed\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Login error:\", error);\r\n        setError(error.message || \"Login failed\");\r\n        throw error;\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    },\r\n    [fetchCompleteUserProfile]\r\n  );\r\n\r\n  // Request password reset - uses your existing auth service\r\n  const requestPasswordReset = useCallback(async (email) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError(\"\");\r\n\r\n      const response = await authService.forgotPassword(email);\r\n\r\n      if (response.success) {\r\n        // Show popup for reset email sent\r\n        setPopupAlert({\r\n          show: true,\r\n          message:\r\n            \"Password reset instructions sent! Check your inbox for the reset link.\",\r\n        });\r\n\r\n        setTimeout(() => {\r\n          setPopupAlert({ show: false, message: \"\" });\r\n        }, 8000);\r\n\r\n        return {\r\n          success: true,\r\n          message:\r\n            response.message ||\r\n            \"Password reset instructions sent to your email\",\r\n        };\r\n      } else {\r\n        throw new Error(\r\n          response.message || \"Failed to send reset instructions\"\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Password reset request error:\", error);\r\n      setError(error.message || \"Failed to send reset instructions\");\r\n      throw error;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Reset password - uses your existing auth service\r\n  const resetPassword = useCallback(async (token, newPassword) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError(\"\");\r\n\r\n      const response = await authService.resetPassword(token, newPassword);\r\n\r\n      if (response.success) {\r\n        // Redirect to root URL (remove both path and params)\r\n        window.history.replaceState({}, \"\", \"/\");\r\n\r\n        // Show popup for successful reset\r\n        setPopupAlert({\r\n          show: true,\r\n          message:\r\n            \"Password reset successful! You can now sign in with your new password.\",\r\n        });\r\n\r\n        setTimeout(() => {\r\n          setPopupAlert({ show: false, message: \"\" });\r\n        }, 10000);\r\n\r\n        return {\r\n          success: true,\r\n          message: response.message || \"Password reset successfully\",\r\n        };\r\n      } else {\r\n        throw new Error(response.message || \"Password reset failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Password reset error:\", error);\r\n      setError(error.message || \"Password reset failed\");\r\n      throw error;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Logout function - uses your existing auth service\r\n  const logoutUser = useCallback(async () => {\r\n    try {\r\n      await authService.logout();\r\n    } catch (error) {\r\n      console.error(\"Logout error:\", error);\r\n    } finally {\r\n      setCurrentUser(null);\r\n      setConversations([]);\r\n      setActiveChat(null);\r\n      setOnlineUsers(new Set());\r\n      setError(\"\");\r\n    }\r\n  }, []);\r\n\r\n  // Logout from all devices - uses your existing auth service\r\n  const logoutAllDevices = useCallback(async () => {\r\n    try {\r\n      await authService.logoutAll();\r\n    } catch (error) {\r\n      console.error(\"Logout all error:\", error);\r\n    } finally {\r\n      setCurrentUser(null);\r\n      setConversations([]);\r\n      setActiveChat(null);\r\n      setOnlineUsers(new Set());\r\n      setError(\"\");\r\n    }\r\n  }, []);\r\n\r\n  const switchUser = useCallback(\r\n    async (userId) => {\r\n      try {\r\n        const session = authService.switchToUser(userId);\r\n        if (session) {\r\n          setCurrentUser(session.user);\r\n\r\n          // CRITICAL: Fetch complete profile for switched user\r\n          console.log(\"Fetching complete profile for switched user...\");\r\n          const completeUser = await fetchCompleteUserProfile();\r\n\r\n          if (completeUser) {\r\n            console.log(\r\n              \"Complete profile loaded for switched user:\",\r\n              completeUser.blockedUsers\r\n            );\r\n            setCurrentUser(completeUser);\r\n          }\r\n\r\n          setConversations([]);\r\n          setActiveChat(null);\r\n          setOnlineUsers(new Set());\r\n          setError(\"\");\r\n          return session;\r\n        }\r\n        throw new Error(\"Failed to switch user session\");\r\n      } catch (error) {\r\n        console.error(\"Switch user error:\", error);\r\n        setError(error.message || \"Failed to switch user\");\r\n        throw error;\r\n      }\r\n    },\r\n    [fetchCompleteUserProfile]\r\n  );\r\n\r\n  // Update conversations\r\n  const updateConversations = useCallback((newConversations) => {\r\n    setConversations(newConversations);\r\n  }, []);\r\n\r\n  // Add or update a single conversation\r\n  const updateConversation = useCallback((updatedConversation) => {\r\n    setConversations((prevConversations) => {\r\n      const existingIndex = prevConversations.findIndex(\r\n        (conv) => conv._id === updatedConversation._id\r\n      );\r\n\r\n      if (existingIndex >= 0) {\r\n        const updated = [...prevConversations];\r\n        updated[existingIndex] = updatedConversation;\r\n        return updated;\r\n      } else {\r\n        return [updatedConversation, ...prevConversations];\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  // Add this method in UserProvider:\r\n  const verifyEmail = useCallback(async (email, token = null, code = null) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError(\"\");\r\n\r\n      const response = await authService.verifyEmail(email, token, code);\r\n\r\n      if (response.success) {\r\n        if (response.user && response.accessToken) {\r\n          // User is now verified and logged in\r\n          setCurrentUser(response.user);\r\n          return response;\r\n        } else {\r\n          return {\r\n            success: true,\r\n            message: response.message || \"Email verified successfully\",\r\n          };\r\n        }\r\n      } else {\r\n        throw new Error(response.message || \"Email verification failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Email verification error:\", error);\r\n      setError(error.message || \"Email verification failed\");\r\n      throw error;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const resendVerification = useCallback(async (email) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setError(\"\");\r\n\r\n      const response = await authService.resendVerification(email);\r\n\r\n      if (response.success) {\r\n        return {\r\n          success: true,\r\n          message: response.message || \"Verification email sent\",\r\n        };\r\n      } else {\r\n        throw new Error(response.message || \"Failed to resend verification\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Resend verification error:\", error);\r\n      setError(error.message || \"Failed to resend verification\");\r\n      throw error;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Remove a conversation\r\n  const removeConversation = useCallback((conversationId) => {\r\n    setConversations((prevConversations) =>\r\n      prevConversations.filter((conv) => conv._id !== conversationId)\r\n    );\r\n\r\n    setActiveChat((prevActive) =>\r\n      prevActive?._id === conversationId ? null : prevActive\r\n    );\r\n  }, []);\r\n\r\n  // Update online users\r\n  const updateOnlineUsers = useCallback((onlineUserIds) => {\r\n    setOnlineUsers(new Set(onlineUserIds));\r\n  }, []);\r\n\r\n  // Update a specific user's online status\r\n  const updateUserOnlineStatus = useCallback((userId, isOnline) => {\r\n    setOnlineUsers((prevOnlineUsers) => {\r\n      const newOnlineUsers = new Set(prevOnlineUsers);\r\n      if (isOnline) {\r\n        newOnlineUsers.add(userId);\r\n      } else {\r\n        newOnlineUsers.delete(userId);\r\n      }\r\n      return newOnlineUsers;\r\n    });\r\n  }, []);\r\n\r\n  // Set active chat\r\n  const setActiveChatHandler = useCallback((chat) => {\r\n    setActiveChat(chat);\r\n  }, []);\r\n\r\n  // Toggle dark mode\r\n  const toggleDarkMode = useCallback(() => {\r\n    setIsDark((prev) => !prev);\r\n  }, []);\r\n\r\n  // Clear error\r\n  const clearError = useCallback(() => {\r\n    setError(\"\");\r\n    setIsError(false);\r\n  }, []);\r\n\r\n  // Refresh session info\r\n  const refreshSessionInfo = useCallback(() => {\r\n    setSessionInfo({\r\n      isValid: authService.isAuthenticated(),\r\n      timeUntilExpiry: authService.getTimeUntilExpiry(),\r\n      availableSessions: authService.getAvailableSessions(),\r\n    });\r\n  }, []);\r\n\r\n  // Inside UserProvider before returning value\r\n  const completeLogin = useCallback(({ user, accessToken, refreshToken }) => {\r\n    setSessionInfo({\r\n      isValid: authService.isAuthenticated(),\r\n      timeUntilExpiry: authService.getTimeUntilExpiry(),\r\n      availableSessions: authService.getAvailableSessions(),\r\n    });\r\n\r\n    // Update context state\r\n    setCurrentUser(user);\r\n    setError(\"\");\r\n  }, []);\r\n\r\n  // Extend session\r\n  const extendSession = useCallback(() => {\r\n    authService.extendSession();\r\n    refreshSessionInfo();\r\n  }, [refreshSessionInfo]);\r\n\r\n  // Context value\r\n  const value = {\r\n    // User state\r\n    currentUser,\r\n    setCurrentUser,\r\n    isLoading,\r\n    setIsLoading,\r\n    isError,\r\n    error,\r\n    setError,\r\n    setIsError,\r\n    clearError,\r\n    completeLogin,\r\n\r\n    // Session state\r\n    sessionInfo,\r\n    refreshSessionInfo,\r\n    extendSession,\r\n\r\n    // Conversations state\r\n    conversations,\r\n    activeChat,\r\n    onlineUsers,\r\n\r\n    // UI state\r\n    isDark,\r\n    setIsDark,\r\n\r\n    // User actions\r\n    updateUserProfile,\r\n    loginUser,\r\n    registerUser,\r\n    requestPasswordReset,\r\n    resetPassword,\r\n    logoutUser,\r\n    logoutAllDevices,\r\n    switchUser,\r\n    fetchCompleteUserProfile,\r\n    popupAlert,\r\n    setPopupAlert,\r\n\r\n    // Conversation actions\r\n    updateConversations,\r\n    updateConversation,\r\n    removeConversation,\r\n    setActiveChat: setActiveChatHandler,\r\n\r\n    // Online users actions\r\n    updateOnlineUsers,\r\n    updateUserOnlineStatus,\r\n\r\n    verifyEmail,\r\n    resendVerification,\r\n\r\n    // UI actions\r\n    toggleDarkMode,\r\n\r\n    // Auth utilities\r\n    isAuthenticated: () => authService.isAuthenticated(),\r\n    getTimeUntilExpiry: () => authService.getTimeUntilExpiry(),\r\n    getAvailableSessions: () => authService.getAvailableSessions(),\r\n  };\r\n\r\n  return <UserContext.Provider value={value}>{children}</UserContext.Provider>;\r\n};\r\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nexport { _objectWithoutProperties as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };","import { CamelToPascal } from './utility-types';\n\n/**\n * Converts string to kebab case\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) =>\n  string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * Converts string to camel case\n *\n * @param {string} string\n * @returns {string} A camelized string\n */\nexport const toCamelCase = <T extends string>(string: T) =>\n  string.replace(/^([A-Z])|[\\s-_]+(\\w)/g, (match, p1, p2) =>\n    p2 ? p2.toUpperCase() : p1.toLowerCase(),\n  );\n\n/**\n * Converts string to pascal case\n *\n * @param {string} string\n * @returns {string} A pascalized string\n */\nexport const toPascalCase = <T extends string>(string: T): CamelToPascal<T> => {\n  const camelCase = toCamelCase(string);\n\n  return (camelCase.charAt(0).toUpperCase() + camelCase.slice(1)) as CamelToPascal<T>;\n};\n\n/**\n * Merges classes into a single string\n *\n * @param {array} classes\n * @returns {string} A string of classes\n */\nexport const mergeClasses = <ClassType = string | undefined | null>(...classes: ClassType[]) =>\n  classes\n    .filter((className, index, array) => {\n      return (\n        Boolean(className) &&\n        (className as string).trim() !== '' &&\n        array.indexOf(className) === index\n      );\n    })\n    .join(' ')\n    .trim();\n\n/**\n * Check if a component has an accessibility prop\n *\n * @param {object} props\n * @returns {boolean} Whether the component has an accessibility prop\n */\nexport const hasA11yProp = (props: Record<string, any>) => {\n  for (const prop in props) {\n    if (prop.startsWith('aria-') || prop === 'role' || prop === 'title') {\n      return true;\n    }\n  }\n};\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import { createElement, forwardRef } from 'react';\nimport defaultAttributes from './defaultAttributes';\nimport { IconNode, LucideProps } from './types';\nimport { mergeClasses, hasA11yProp } from '@lucide/shared';\n\ninterface IconComponentProps extends LucideProps {\n  iconNode: IconNode;\n}\n\n/**\n * Lucide icon component\n *\n * @component Icon\n * @param {object} props\n * @param {string} props.color - The color of the icon\n * @param {number} props.size - The size of the icon\n * @param {number} props.strokeWidth - The stroke width of the icon\n * @param {boolean} props.absoluteStrokeWidth - Whether to use absolute stroke width\n * @param {string} props.className - The class name of the icon\n * @param {IconNode} props.children - The children of the icon\n * @param {IconNode} props.iconNode - The icon node of the icon\n *\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst Icon = forwardRef<SVGSVGElement, IconComponentProps>(\n  (\n    {\n      color = 'currentColor',\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = '',\n      children,\n      iconNode,\n      ...rest\n    },\n    ref,\n  ) =>\n    createElement(\n      'svg',\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? (Number(strokeWidth) * 24) / Number(size) : strokeWidth,\n        className: mergeClasses('lucide', className),\n        ...(!children && !hasA11yProp(rest) && { 'aria-hidden': 'true' }),\n        ...rest,\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]),\n      ],\n    ),\n);\n\nexport default Icon;\n","import { createElement, forwardRef } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from '@lucide/shared';\nimport { IconNode, LucideProps } from './types';\nimport Icon from './Icon';\n\n/**\n * Create a Lucide icon component\n * @param {string} iconName\n * @param {array} iconNode\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst createLucideIcon = (iconName: string, iconNode: IconNode) => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(({ className, ...props }, ref) =>\n    createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className,\n      ),\n      ...props,\n    }),\n  );\n\n  Component.displayName = toPascalCase(iconName);\n\n  return Component;\n};\n\nexport default createLucideIcon;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['path', { d: 'M16 3.128a4 4 0 0 1 0 7.744', key: '16gr8j' }],\n  ['path', { d: 'M22 21v-2a4 4 0 0 0-3-3.87', key: 'kshegd' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n];\n\n/**\n * @component @name Users\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8cGF0aCBkPSJNMTYgMy4xMjhhNCA0IDAgMCAxIDAgNy43NDQiIC8+CiAgPHBhdGggZD0iTTIyIDIxdi0yYTQgNCAwIDAgMC0zLTMuODciIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/users\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Users = createLucideIcon('users', __iconNode);\n\nexport default Users;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7', key: '132q7q' }],\n  ['rect', { x: '2', y: '4', width: '20', height: '16', rx: '2', key: 'izxlao' }],\n];\n\n/**\n * @component @name Mail\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgNy04Ljk5MSA1LjcyN2EyIDIgMCAwIDEtMi4wMDkgMEwyIDciIC8+CiAgPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjE2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/mail\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Mail = createLucideIcon('mail', __iconNode);\n\nexport default Mail;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '11', x: '3', y: '11', rx: '2', ry: '2', key: '1w4ew1' }],\n  ['path', { d: 'M7 11V7a5 5 0 0 1 10 0v4', key: 'fwvmzm' }],\n];\n\n/**\n * @component @name Lock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTEiIHg9IjMiIHk9IjExIiByeD0iMiIgcnk9IjIiIC8+CiAgPHBhdGggZD0iTTcgMTFWN2E1IDUgMCAwIDEgMTAgMHY0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/lock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Lock = createLucideIcon('lock', __iconNode);\n\nexport default Lock;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49',\n      key: 'ct8e1f',\n    },\n  ],\n  ['path', { d: 'M14.084 14.158a3 3 0 0 1-4.242-4.242', key: '151rxh' }],\n  [\n    'path',\n    {\n      d: 'M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143',\n      key: '13bj9a',\n    },\n  ],\n  ['path', { d: 'm2 2 20 20', key: '1ooewy' }],\n];\n\n/**\n * @component @name EyeOff\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuNzMzIDUuMDc2YTEwLjc0NCAxMC43NDQgMCAwIDEgMTEuMjA1IDYuNTc1IDEgMSAwIDAgMSAwIC42OTYgMTAuNzQ3IDEwLjc0NyAwIDAgMS0xLjQ0NCAyLjQ5IiAvPgogIDxwYXRoIGQ9Ik0xNC4wODQgMTQuMTU4YTMgMyAwIDAgMS00LjI0Mi00LjI0MiIgLz4KICA8cGF0aCBkPSJNMTcuNDc5IDE3LjQ5OWExMC43NSAxMC43NSAwIDAgMS0xNS40MTctNS4xNTEgMSAxIDAgMCAxIDAtLjY5NiAxMC43NSAxMC43NSAwIDAgMSA0LjQ0Ni01LjE0MyIgLz4KICA8cGF0aCBkPSJtMiAyIDIwIDIwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye-off\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst EyeOff = createLucideIcon('eye-off', __iconNode);\n\nexport default EyeOff;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0',\n      key: '1nclc0',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('eye', __iconNode);\n\nexport default Eye;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('user', __iconNode);\n\nexport default User;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384',\n      key: '9njp5v',\n    },\n  ],\n];\n\n/**\n * @component @name Phone\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMuODMyIDE2LjU2OGExIDEgMCAwIDAgMS4yMTMtLjMwM2wuMzU1LS40NjVBMiAyIDAgMCAxIDE3IDE1aDNhMiAyIDAgMCAxIDIgMnYzYTIgMiAwIDAgMS0yIDJBMTggMTggMCAwIDEgMiA0YTIgMiAwIDAgMSAyLTJoM2EyIDIgMCAwIDEgMiAydjNhMiAyIDAgMCAxLS44IDEuNmwtLjQ2OC4zNTFhMSAxIDAgMCAwLS4yOTIgMS4yMzMgMTQgMTQgMCAwIDAgNi4zOTIgNi4zODQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/phone\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Phone = createLucideIcon('phone', __iconNode);\n\nexport default Phone;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '4', key: '4exip2' }],\n  ['path', { d: 'M12 2v2', key: 'tus03m' }],\n  ['path', { d: 'M12 20v2', key: '1lh1kg' }],\n  ['path', { d: 'm4.93 4.93 1.41 1.41', key: '149t6j' }],\n  ['path', { d: 'm17.66 17.66 1.41 1.41', key: 'ptbguv' }],\n  ['path', { d: 'M2 12h2', key: '1t8f8n' }],\n  ['path', { d: 'M20 12h2', key: '1q8mjw' }],\n  ['path', { d: 'm6.34 17.66-1.41 1.41', key: '1m8zz5' }],\n  ['path', { d: 'm19.07 4.93-1.41 1.41', key: '1shlcs' }],\n];\n\n/**\n * @component @name Sun\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI0IiAvPgogIDxwYXRoIGQ9Ik0xMiAydjIiIC8+CiAgPHBhdGggZD0iTTEyIDIwdjIiIC8+CiAgPHBhdGggZD0ibTQuOTMgNC45MyAxLjQxIDEuNDEiIC8+CiAgPHBhdGggZD0ibTE3LjY2IDE3LjY2IDEuNDEgMS40MSIgLz4KICA8cGF0aCBkPSJNMiAxMmgyIiAvPgogIDxwYXRoIGQ9Ik0yMCAxMmgyIiAvPgogIDxwYXRoIGQ9Im02LjM0IDE3LjY2LTEuNDEgMS40MSIgLz4KICA8cGF0aCBkPSJtMTkuMDcgNC45My0xLjQxIDEuNDEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/sun\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Sun = createLucideIcon('sun', __iconNode);\n\nexport default Sun;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z', key: 'a7tn18' }],\n];\n\n/**\n * @component @name Moon\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM2E2IDYgMCAwIDAgOSA5IDkgOSAwIDEgMS05LTlaIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/moon\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Moon = createLucideIcon('moon', __iconNode);\n\nexport default Moon;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z',\n      key: '1ffxy3',\n    },\n  ],\n  ['path', { d: 'm21.854 2.147-10.94 10.939', key: '12cjpa' }],\n];\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNTM2IDIxLjY4NmEuNS41IDAgMCAwIC45MzctLjAyNGw2LjUtMTlhLjQ5Ni40OTYgMCAwIDAtLjYzNS0uNjM1bC0xOSA2LjVhLjUuNSAwIDAgMC0uMDI0LjkzN2w3LjkzIDMuMThhMiAyIDAgMCAxIDEuMTEyIDEuMTF6IiAvPgogIDxwYXRoIGQ9Im0yMS44NTQgMi4xNDctMTAuOTQgMTAuOTM5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('send', __iconNode);\n\nexport default Send;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","// components/LoginForm.js - CLEANED VERSION\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  MessageSquare,\r\n  Sun,\r\n  Moon,\r\n  Eye,\r\n  EyeOff,\r\n  User,\r\n  Mail,\r\n  Lock,\r\n  Phone,\r\n  Users,\r\n  MailIcon,\r\n} from \"lucide-react\";\r\nimport { ArrowLeft, Send } from \"lucide-react\";\r\nimport { useUser } from \"../../contexts/UserContext\";\r\nimport sessionManager from \"../../utils/sessionManager\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst LoginForm = ({ onLogin, isDark, setIsDark, showVerificationAlert }) => {\r\n  const { registerUser, sessionInfo, requestPasswordReset, resetPassword, completeLogin, verifyEmail, resendVerification } =\r\n    useUser();\r\n\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [mode, setMode] = useState(\"login\");\r\n\r\n  // Simplified verification form state (token only, no code)\r\n  const [verificationForm, setVerificationForm] = useState({\r\n    email: \"\",\r\n    token: \"\", // Hidden from user\r\n  });\r\n\r\n  const [forgotPasswordForm, setForgotPasswordForm] = useState({\r\n    email: \"\",\r\n  });\r\n\r\n  // Simplified reset form (no token display)\r\n  const [resetPasswordForm, setResetPasswordForm] = useState({\r\n    token: \"\", // Hidden from user, auto-filled from URL\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n\r\n  // Login form state\r\n  const [loginForm, setLoginForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  // Signup form state\r\n  const [signupForm, setSignupForm] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    phone: \"\",\r\n    bio: \"\",\r\n  });\r\n\r\n  // Helper function to clear URL parameters\r\n  const clearUrlParams = () => {\r\n    const url = new URL(window.location);\r\n    url.search = '';\r\n    window.history.replaceState({}, '', url);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Check URL parameters for different authentication flows\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const resetToken = urlParams.get(\"resetToken\");\r\n    const verifyToken = urlParams.get(\"verifyToken\");\r\n    const email = urlParams.get(\"email\");\r\n    \r\n    // Legacy support for generic \"token\" parameter\r\n    const genericToken = urlParams.get(\"token\");\r\n    \r\n    if (resetToken || (genericToken && window.location.pathname.includes('reset'))) {\r\n      // Password reset flow - auto-fill token but don't display it\r\n      console.log(\" Detected password reset flow\");\r\n      setMode(\"resetPassword\");\r\n      setResetPasswordForm((prev) => ({\r\n        ...prev,\r\n        token: resetToken || genericToken, // Hidden from user\r\n      }));\r\n      if (email) {\r\n        setForgotPasswordForm((prev) => ({\r\n          ...prev,\r\n          email: email,\r\n        }));\r\n      }\r\n    } else if (verifyToken || (genericToken && window.location.pathname.includes('verify'))) {\r\n      // Email verification flow - auto-fill token but don't display it\r\n      console.log(\" Detected email verification flow\");\r\n      setMode(\"emailVerification\");\r\n      setVerificationForm((prev) => ({\r\n        ...prev,\r\n        token: verifyToken || genericToken, // Hidden from user\r\n        email: email || \"\",\r\n      }));\r\n    } else if (genericToken) {\r\n      // Fallback: try to determine from URL context\r\n      if (window.location.search.includes('reset') || window.location.hash.includes('reset')) {\r\n        setMode(\"resetPassword\");\r\n        setResetPasswordForm((prev) => ({\r\n          ...prev,\r\n          token: genericToken, // Hidden from user\r\n        }));\r\n      } else {\r\n        setMode(\"emailVerification\");\r\n        setVerificationForm((prev) => ({\r\n          ...prev,\r\n          token: genericToken, // Hidden from user\r\n          email: email || \"\",\r\n        }));\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Available sessions for switching\r\n  const availableSessions = sessionInfo.availableSessions || {};\r\n  const hasAvailableSessions = Object.keys(availableSessions).length > 0;\r\n\r\n  // Validation functions\r\n  const validateEmail = (email) => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(email);\r\n  };\r\n\r\n  const validatePhone = (phone) => {\r\n    if (!phone.trim()) return true;\r\n    const cleanPhone = phone.replace(/\\D/g, \"\");\r\n    return cleanPhone.length >= 7 && cleanPhone.length <= 15;\r\n  };\r\n\r\n  const validatePassword = (password) => {\r\n    const minLength = password.length >= 8;\r\n    const hasUpperCase = /[A-Z]/.test(password);\r\n    const hasLowerCase = /[a-z]/.test(password);\r\n    const hasNumbers = /\\d/.test(password);\r\n\r\n    return {\r\n      isValid: minLength && hasUpperCase && hasLowerCase && hasNumbers,\r\n      minLength,\r\n      hasUpperCase,\r\n      hasLowerCase,\r\n      hasNumbers,\r\n    };\r\n  };\r\n\r\n  const validateLoginForm = () => {\r\n    if (!loginForm.email.trim()) {\r\n      setError(\"Email is required\");\r\n      return false;\r\n    }\r\n\r\n    if (!loginForm.password.trim()) {\r\n      setError(\"Password is required\");\r\n      return false;\r\n    }\r\n\r\n    if (!validateEmail(loginForm.email)) {\r\n      setError(\"Please enter a valid email address\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const validateSignupForm = () => {\r\n    if (!signupForm.name.trim()) {\r\n      setError(\"Full name is required\");\r\n      return false;\r\n    }\r\n\r\n    if (!signupForm.email.trim()) {\r\n      setError(\"Email is required\");\r\n      return false;\r\n    }\r\n\r\n    if (!signupForm.password.trim()) {\r\n      setError(\"Password is required\");\r\n      return false;\r\n    }\r\n\r\n    if (!signupForm.confirmPassword.trim()) {\r\n      setError(\"Password confirmation is required\");\r\n      return false;\r\n    }\r\n\r\n    if (!validateEmail(signupForm.email)) {\r\n      setError(\"Please enter a valid email address\");\r\n      return false;\r\n    }\r\n\r\n    if (!validatePhone(signupForm.phone)) {\r\n      setError(\"Please enter a valid phone number\");\r\n      return false;\r\n    }\r\n\r\n    const passwordValidation = validatePassword(signupForm.password);\r\n    if (!passwordValidation.isValid) {\r\n      setError(\"Password must be at least 6 characters long\");\r\n      return false;\r\n    }\r\n\r\n    if (signupForm.password !== signupForm.confirmPassword) {\r\n      setError(\"Passwords do not match\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const validateForgotPasswordForm = () => {\r\n    if (!forgotPasswordForm.email.trim()) {\r\n      setError(\"Email is required\");\r\n      return false;\r\n    }\r\n    if (!validateEmail(forgotPasswordForm.email)) {\r\n      setError(\"Please enter a valid email address\");\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const validateResetPasswordForm = () => {\r\n    if (!resetPasswordForm.newPassword.trim()) {\r\n      setError(\"New password is required\");\r\n      return false;\r\n    }\r\n    const passwordValidation = validatePassword(resetPasswordForm.newPassword);\r\n    if (!passwordValidation.isValid) {\r\n      setError(\r\n        \"Password must be at least 8 characters with uppercase, lowercase, and numbers\"\r\n      );\r\n      return false;\r\n    }\r\n    if (resetPasswordForm.newPassword !== resetPasswordForm.confirmPassword) {\r\n      setError(\"Passwords do not match\");\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  // Simplified verification form validation (no code)\r\n  const validateVerificationForm = () => {\r\n    if (!verificationForm.email.trim()) {\r\n      setError(\"Email is required\");\r\n      return false;\r\n    }\r\n    if (!validateEmail(verificationForm.email)) {\r\n      setError(\"Please enter a valid email address\");\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  // Simplified verification submit (token auto-filled from URL)\r\n  const handleVerificationSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    if (!validateVerificationForm()) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await verifyEmail(\r\n        verificationForm.email,\r\n        verificationForm.token, // Auto-filled from URL\r\n        null // No code\r\n      );\r\n\r\n      if (response.success) {\r\n        clearUrlParams(); // Clear URL parameters\r\n        if (response.user && response.accessToken) {\r\n          // User is now verified and logged in\r\n          setSuccess(\"Email verified successfully! You are now logged in.\");\r\n          await completeLogin({\r\n            success: true,\r\n            user: response.user,\r\n            accessToken: response.accessToken,\r\n            refreshToken: response.refreshToken,\r\n          });\r\n        } else {\r\n          setSuccess(\"Email verified successfully! You can now sign in.\");\r\n          setMode(\"login\");\r\n          resetForms();\r\n        }\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"Verification failed. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleResendVerification = async () => {\r\n    if (!verificationForm.email.trim()) {\r\n      setError(\"Email is required to resend verification\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      await resendVerification(verificationForm.email);\r\n      setSuccess(\"Verification email sent! Please check your inbox.\");\r\n    } catch (err) {\r\n      setError(err.message || \"Failed to resend verification email. Please try again.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLoginSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    if (!validateLoginForm()) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      clearUrlParams(); // Clear URL parameters on successful login\r\n      console.log(\"Im submitting for a login\");\r\n      await onLogin(loginForm);\r\n    } catch (err) {\r\n      setError(err.message || \"Login failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\nconst handleSignupSubmit = async (e) => {\r\n  e.preventDefault();\r\n  setLoading(true);\r\n  setError(\"\");\r\n  setSuccess(\"\");\r\n\r\n  if (!validateSignupForm()) {\r\n    setLoading(false);\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const { confirmPassword, ...signupData } = signupForm;\r\n    const response = await registerUser(signupData);\r\n    console.log(\"Showing signup\");\r\n\r\n    if (response.emailVerificationRequired) {\r\n      setSuccess(\r\n        \"Account created! Please check your email for verification instructions.\"\r\n      );\r\n      showVerificationAlert(true);\r\n      console.log(\"Showing popup\");\r\n      setMode(\"emailVerification\");\r\n      setVerificationForm((prev) => ({ ...prev, email: signupData.email }));\r\n      \r\n      // Return response so parent can handle popup\r\n      return response;\r\n    } else {\r\n      clearUrlParams(); // Clear URL parameters on successful signup\r\n      setSuccess(\"Account created successfully! You are now signed in.\");\r\n    }\r\n  } catch (err) {\r\n    setError(err.message || \"Registration failed\");\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n  const handleForgotPasswordSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    if (!validateForgotPasswordForm()) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await requestPasswordReset(forgotPasswordForm.email);\r\n      setSuccess(\r\n        \"Reset instructions sent to your email. Please check your inbox.\"\r\n      );\r\n      setMode(\"resetPassword\");\r\n    } catch (err) {\r\n      setError(\r\n        err.message || \"Failed to send reset instructions. Please try again.\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleResetPasswordSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    if (!validateResetPasswordForm()) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await resetPassword(\r\n        resetPasswordForm.token, // Auto-filled from URL\r\n        resetPasswordForm.newPassword\r\n      );\r\n      clearUrlParams(); // Clear URL parameters after successful reset\r\n      setSuccess(\r\n        \"Password reset successfully! Please sign in with your new password.\"\r\n      );\r\n      setMode(\"login\");\r\n      resetForms();\r\n    } catch (err) {\r\n      setError(\r\n        err.message ||\r\n          \"Failed to reset password. Please try again or request a new reset link.\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle switching to existing session\r\n  const handleSwitchToSession = async (userId) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(\"\");\r\n\r\n      const session = sessionManager.switchToUser(userId);\r\n      if (session) {\r\n        clearUrlParams(); // Clear URL parameters when switching sessions\r\n        await onLogin({\r\n          success: true,\r\n          user: session.user,\r\n          accessToken: session.accessToken,\r\n          refreshToken: session.refreshToken,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      setError(error.message || \"Failed to switch session\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const resetForms = () => {\r\n    setLoginForm({ email: \"\", password: \"\" });\r\n    setSignupForm({\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      phone: \"\",\r\n      bio: \"\",\r\n    });\r\n    setVerificationForm({\r\n      email: \"\",\r\n      token: \"\",\r\n    });\r\n    setForgotPasswordForm({\r\n      email: \"\",\r\n    });\r\n    setResetPasswordForm({\r\n      token: \"\",\r\n      newPassword: \"\",\r\n      confirmPassword: \"\",\r\n    });\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n    setShowPassword(false);\r\n    setShowConfirmPassword(false);\r\n  };\r\n\r\n  const switchMode = (newMode) => {\r\n    setMode(newMode);\r\n    setIsLogin(newMode === \"login\");\r\n    resetForms();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`min-h-screen flex items-center justify-center p-4 ${\r\n        isDark ? \"bg-gray-900\" : \"bg-gray-50\"\r\n      }`}\r\n    >\r\n      <div\r\n        className={`w-full max-w-md p-8 rounded-2xl shadow-2xl transition-all duration-300 ${\r\n          isDark ? \"bg-gray-800 text-white\" : \"bg-white\"\r\n        }`}\r\n      >\r\n        <h1 className=\"text-2xl font-bold mb-2 text-center\">\r\n          {mode === \"login\"\r\n            ? \"Welcome Back!\"\r\n            : mode === \"signup\"\r\n            ? \"Join ChatApp\"\r\n            : mode === \"forgotPassword\"\r\n            ? \"Forgot Password\"\r\n            : mode === \"resetPassword\"\r\n            ? \"Reset Password\"\r\n            : mode === \"emailVerification\"\r\n            ? \"Verify Your Email\"\r\n            : \"ChatApp\"}\r\n        </h1>\r\n        <p className=\"text-gray-500\">\r\n          {mode === \"login\"\r\n            ? \"Sign in to continue messaging\"\r\n            : mode === \"signup\"\r\n            ? \"Create your account to get started\"\r\n            : mode === \"forgotPassword\"\r\n            ? \"Enter your email to receive reset instructions\"\r\n            : mode === \"resetPassword\"\r\n            ? \"Enter your new password\"\r\n            : mode === \"emailVerification\"\r\n            ? \"Click the link in your email to verify your account\"\r\n            : \"\"}\r\n        </p>\r\n\r\n        {/* Available Sessions */}\r\n        {hasAvailableSessions && mode === \"login\" && (\r\n          <div className=\"mb-6\">\r\n            <div className=\"text-sm text-gray-500 dark:text-gray-400 mb-3 flex items-center\">\r\n              <Users className=\"w-4 h-4 mr-2\" />\r\n              Continue as existing user\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              {Object.entries(availableSessions).map(([userId, session]) => (\r\n                <button\r\n                  key={userId}\r\n                  onClick={() => handleSwitchToSession(userId)}\r\n                  disabled={loading}\r\n                  className={`w-full p-3 rounded-lg border transition-all flex items-center space-x-3 ${\r\n                    isDark\r\n                      ? \"border-gray-600 hover:border-gray-500 hover:bg-gray-700\"\r\n                      : \"border-gray-300 hover:border-gray-400 hover:bg-gray-50\"\r\n                  } disabled:opacity-50 disabled:cursor-not-allowed`}\r\n                >\r\n                  <div className=\"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\r\n                    <span className=\"text-white text-sm font-semibold\">\r\n                      {session.user.avatar ||\r\n                        session.user.name?.charAt(0) ||\r\n                        \"?\"}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex-1 text-left\">\r\n                    <div className=\"font-medium\">{session.user.name}</div>\r\n                    <div className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                      Last active:{\" \"}\r\n                      {new Date(session.lastActive).toLocaleString()}\r\n                    </div>\r\n                  </div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n            <div className=\"my-4 flex items-center\">\r\n              <div className=\"flex-1 border-t border-gray-300 dark:border-gray-600\"></div>\r\n              <span className=\"px-3 text-sm text-gray-500 dark:text-gray-400\">\r\n                or\r\n              </span>\r\n              <div className=\"flex-1 border-t border-gray-300 dark:border-gray-600\"></div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"mb-4 p-3 rounded-lg bg-red-100 border border-red-300 text-red-700 text-sm\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {success && (\r\n          <div className=\"mb-4 p-3 rounded-lg bg-green-100 border border-green-300 text-green-700 text-sm\">\r\n            {success}\r\n          </div>\r\n        )}\r\n\r\n        {/* Login Form */}\r\n        {mode === \"login\" && (\r\n          <form onSubmit={handleLoginSubmit} className=\"space-y-4\">\r\n            <div className=\"relative\">\r\n              <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type=\"email\"\r\n                placeholder=\"Email address\"\r\n                value={loginForm.email}\r\n                onChange={(e) =>\r\n                  setLoginForm((prev) => ({ ...prev, email: e.target.value }))\r\n                }\r\n                className={`w-full pl-10 pr-4 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\r\n                  isDark\r\n                    ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                    : \"bg-gray-50 border-gray-300\"\r\n                }`}\r\n                required\r\n                disabled={loading}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"relative\">\r\n              <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                placeholder=\"Password\"\r\n                value={loginForm.password}\r\n                onChange={(e) =>\r\n                  setLoginForm((prev) => ({\r\n                    ...prev,\r\n                    password: e.target.value,\r\n                  }))\r\n                }\r\n                className={`w-full pl-10 pr-10 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\r\n                  isDark\r\n                    ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                    : \"bg-gray-50 border-gray-300\"\r\n                }`}\r\n                required\r\n                disabled={loading}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n                className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                disabled={loading}\r\n              >\r\n                {showPassword ? (\r\n                  <EyeOff className=\"w-5 h-5\" />\r\n                ) : (\r\n                  <Eye className=\"w-5 h-5\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setMode(\"forgotPassword\")}\r\n              className=\"text-sm text-blue-500 hover:text-blue-600\"\r\n              disabled={loading}\r\n            >\r\n              Forgot your password?\r\n            </button>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-600 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\r\n            >\r\n              {loading ? \"Signing In...\" : \"Sign In\"}\r\n            </button>\r\n          </form>\r\n        )}\r\n\r\n        {/* Signup Form */}\r\n        {mode === \"signup\" && (\r\n          <form onSubmit={handleSignupSubmit} className=\"space-y-4\">\r\n            <div className=\"relative\">\r\n              <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Full name\"\r\n                value={signupForm.name}\r\n                onChange={(e) =>\r\n                  setSignupForm((prev) => ({ ...prev, name: e.target.value }))\r\n                }\r\n                className={`w-full pl-10 pr-4 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\r\n                  isDark\r\n                    ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                    : \"bg-gray-50 border-gray-300\"\r\n                }`}\r\n                required\r\n                disabled={loading}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"relative\">\r\n              <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Email\"\r\n                value={signupForm.email}\r\n                onChange={(e) =>\r\n                  setSignupForm((prev) => ({ ...prev, email: e.target.value }))\r\n                }\r\n                className={`w-full pl-10 pr-4 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\r\n                  isDark\r\n                    ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                    : \"bg-gray-50 border-gray-300\"\r\n                }`}\r\n                required\r\n                disabled={loading}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"relative\">\r\n              <Phone className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type=\"tel\"\r\n                placeholder=\"Phone number (optional)\"\r\n                value={signupForm.phone}\r\n                onChange={(e) =>\r\n                  setSignupForm((prev) => ({ ...prev, phone: e.target.value }))\r\n                }\r\n                className={`w-full pl-10 pr-4 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\r\n                  isDark\r\n                    ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                    : \"bg-gray-50 border-gray-300\"\r\n                }`}\r\n                disabled={loading}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"relative\">\r\n              <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                placeholder=\"Password\"\r\n                value={signupForm.password}\r\n                onChange={(e) =>\r\n                  setSignupForm((prev) => ({\r\n                    ...prev,\r\n                    password: e.target.value,\r\n                  }))\r\n                }\r\n                className={`w-full pl-10 pr-10 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\r\n                  isDark\r\n                    ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                    : \"bg-gray-50 border-gray-300\"\r\n                }`}\r\n                required\r\n                disabled={loading}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n                className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                disabled={loading}\r\n              >\r\n                {showPassword ? (\r\n                  <EyeOff className=\"w-5 h-5\" />\r\n                ) : (\r\n                  <Eye className=\"w-5 h-5\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"relative\">\r\n              <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type={showConfirmPassword ? \"text\" : \"password\"}\r\n                placeholder=\"Confirm password\"\r\n                value={signupForm.confirmPassword}\r\n                onChange={(e) =>\r\n                  setSignupForm((prev) => ({\r\n                    ...prev,\r\n                    confirmPassword: e.target.value,\r\n                  }))\r\n                }\r\n                className={`w-full pl-10 pr-10 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\r\n                  isDark\r\n                    ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                    : \"bg-gray-50 border-gray-300\"\r\n                }`}\r\n                required\r\n                disabled={loading}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                disabled={loading}\r\n              >\r\n                {showConfirmPassword ? (\r\n                  <EyeOff className=\"w-5 h-5\" />\r\n                ) : (\r\n                  <Eye className=\"w-5 h-5\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n\r\n            <textarea\r\n              placeholder=\"Bio (optional)\"\r\n              value={signupForm.bio}\r\n              onChange={(e) =>\r\n                setSignupForm((prev) => ({ ...prev, bio: e.target.value }))\r\n              }\r\n              rows={3}\r\n              className={`w-full px-4 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none ${\r\n                isDark\r\n                  ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                  : \"bg-gray-50 border-gray-300\"\r\n              }`}\r\n              disabled={loading}\r\n            />\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-600 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\r\n            >\r\n              {loading ? \"Creating Account...\" : \"Create Account\"}\r\n            </button>\r\n          </form>\r\n        )}\r\n\r\n        {/* Email Verification Form - SIMPLIFIED (no code input) */}\r\n        {mode === \"emailVerification\" && (\r\n          <form onSubmit={handleVerificationSubmit} className=\"space-y-4\">\r\n            <div className=\"relative\">\r\n              <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type=\"email\"\r\n                placeholder=\"Enter your email address\"\r\n                value={verificationForm.email}\r\n                onChange={(e) =>\r\n                  setVerificationForm((prev) => ({\r\n                    ...prev,\r\n                    email: e.target.value,\r\n                  }))\r\n                }\r\n                className={`w-full pl-10 pr-4 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\r\n                  isDark\r\n                    ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                    : \"bg-gray-50 border-gray-300\"\r\n                }`}\r\n                required\r\n                disabled={loading}\r\n              />\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-green-600 hover:to-blue-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\r\n            >\r\n              {loading ? \"Verifying...\" : \"Verify Email\"}\r\n            </button>\r\n\r\n            <div className=\"text-center\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleResendVerification}\r\n                disabled={loading}\r\n                className=\"text-sm text-blue-500 hover:text-blue-600 font-medium\"\r\n              >\r\n                {loading ? \"Sending...\" : \"Resend verification email\"}\r\n              </button>\r\n            </div>\r\n\r\n            {verificationForm.token && (\r\n              <div className=\"mt-4 p-3 rounded-lg bg-blue-50 border border-blue-200 text-blue-700 text-sm\">\r\n                <p className=\"text-center\">\r\n                  Verification link detected! Click \"Verify Email\" to complete\r\n                  the process.\r\n                </p>\r\n              </div>\r\n            )}\r\n          </form>\r\n        )}\r\n\r\n        {/* Forgot Password Form */}\r\n        {mode === \"forgotPassword\" && (\r\n          <form onSubmit={handleForgotPasswordSubmit} className=\"space-y-4\">\r\n            <div className=\"relative\">\r\n              <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type=\"email\"\r\n                placeholder=\"Enter your email address\"\r\n                value={forgotPasswordForm.email}\r\n                onChange={(e) =>\r\n                  setForgotPasswordForm((prev) => ({\r\n                    ...prev,\r\n                    email: e.target.value,\r\n                  }))\r\n                }\r\n                className={`w-full pl-10 pr-4 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\r\n                  isDark\r\n                    ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                    : \"bg-gray-50 border-gray-300\"\r\n                }`}\r\n                required\r\n                disabled={loading}\r\n              />\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-600 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-2\"\r\n            >\r\n              <Send className=\"w-4 h-4\" />\r\n              <span>{loading ? \"Sending...\" : \"Send Reset Instructions\"}</span>\r\n            </button>\r\n          </form>\r\n        )}\r\n\r\n        {/* Reset Password Form - SIMPLIFIED (no token display) */}\r\n        {mode === \"resetPassword\" && (\r\n          <form onSubmit={handleResetPasswordSubmit} className=\"space-y-4\">\r\n            {/* Token is auto-filled from URL but not displayed to user */}\r\n            \r\n            <div className=\"relative\">\r\n              <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                placeholder=\"New password\"\r\n                value={resetPasswordForm.newPassword}\r\n                onChange={(e) =>\r\n                  setResetPasswordForm((prev) => ({\r\n                    ...prev,\r\n                    newPassword: e.target.value,\r\n                  }))\r\n                }\r\n                className={`w-full pl-10 pr-10 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\r\n                  isDark\r\n                    ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                    : \"bg-gray-50 border-gray-300\"\r\n                }`}\r\n                required\r\n                disabled={loading}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n                className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                disabled={loading}\r\n              >\r\n                {showPassword ? (\r\n                  <EyeOff className=\"w-5 h-5\" />\r\n                ) : (\r\n                  <Eye className=\"w-5 h-5\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"relative\">\r\n              <Lock className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <input\r\n                type={showConfirmPassword ? \"text\" : \"password\"}\r\n                placeholder=\"Confirm new password\"\r\n                value={resetPasswordForm.confirmPassword}\r\n                onChange={(e) =>\r\n                  setResetPasswordForm((prev) => ({\r\n                    ...prev,\r\n                    confirmPassword: e.target.value,\r\n                  }))\r\n                }\r\n                className={`w-full pl-10 pr-10 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\r\n                  isDark\r\n                    ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                    : \"bg-gray-50 border-gray-300\"\r\n                }`}\r\n                required\r\n                disabled={loading}\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                disabled={loading}\r\n              >\r\n                {showConfirmPassword ? (\r\n                  <EyeOff className=\"w-5 h-5\" />\r\n                ) : (\r\n                  <Eye className=\"w-5 h-5\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n            \r\n            {/* Show helpful message if token is present */}\r\n            {resetPasswordForm.token && (\r\n              <div className=\"mt-4 p-3 rounded-lg bg-green-50 border border-green-200 text-green-700 text-sm\">\r\n                <p className=\"text-center\">\r\n                   Reset link verified! Enter your new password above.\r\n                </p>\r\n              </div>\r\n            )}\r\n            \r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-600 hover:to-purple-700 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\r\n            >\r\n              {loading ? \"Resetting Password...\" : \"Reset Password\"}\r\n            </button>\r\n          </form>\r\n        )}\r\n\r\n        {/* Switch Mode */}\r\n        <div className=\"mt-6 text-center\">\r\n          {mode === \"login\" ? (\r\n            <p className=\"text-gray-500 text-sm\">\r\n              Don't have an account?{\" \"}\r\n              <button\r\n                onClick={() => setMode(\"signup\")}\r\n                className=\"text-blue-500 hover:text-blue-600 font-semibold\"\r\n                disabled={loading}\r\n              >\r\n                Sign up\r\n              </button>\r\n            </p>\r\n          ) : mode === \"signup\" ? (\r\n            <p className=\"text-gray-500 text-sm\">\r\n              Already have an account?{\" \"}\r\n              <button\r\n                onClick={() => setMode(\"login\")}\r\n                className=\"text-blue-500 hover:text-blue-600 font-semibold\"\r\n                disabled={loading}\r\n              >\r\n                Sign in\r\n              </button>\r\n            </p>\r\n          ) : (\r\n            <button\r\n              onClick={() => setMode(\"login\")}\r\n              className=\"flex items-center space-x-2 text-blue-500 hover:text-blue-600 font-semibold mx-auto\"\r\n              disabled={loading}\r\n            >\r\n              <ArrowLeft className=\"w-4 h-4\" />\r\n              <span>Back to Sign In</span>\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Session Info */}\r\n        {hasAvailableSessions && mode === \"login\" && (\r\n          <div className=\"mt-4 text-center text-xs text-gray-500 dark:text-gray-400\">\r\n            {Object.keys(availableSessions).length} saved session\r\n            {Object.keys(availableSessions).length !== 1 ? \"s\" : \"\"} available\r\n          </div>\r\n        )}\r\n\r\n        {/* Theme Toggle */}\r\n        <button\r\n          onClick={() => setIsDark(!isDark)}\r\n          className={`absolute top-4 right-4 p-2 rounded-lg transition-colors ${\r\n            isDark\r\n              ? \"bg-gray-700 text-yellow-400 hover:bg-gray-600\"\r\n              : \"bg-gray-100 text-gray-600 hover:bg-gray-200\"\r\n          }`}\r\n          disabled={loading}\r\n        >\r\n          {isDark ? <Sun className=\"w-5 h-5\" /> : <Moon className=\"w-5 h-5\" />}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M4 12h16', key: '1lakjw' }],\n  ['path', { d: 'M4 18h16', key: '19g7jn' }],\n  ['path', { d: 'M4 6h16', key: '1o0s65' }],\n];\n\n/**\n * @component @name Menu\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxMmgxNiIgLz4KICA8cGF0aCBkPSJNNCAxOGgxNiIgLz4KICA8cGF0aCBkPSJNNCA2aDE2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/menu\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Menu = createLucideIcon('menu', __iconNode);\n\nexport default Menu;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z', key: '1lielz' }],\n];\n\n/**\n * @component @name MessageSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTVhMiAyIDAgMCAxLTIgMkg3bC00IDRWNWEyIDIgMCAwIDEgMi0yaDE0YTIgMiAwIDAgMSAyIDJ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/message-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageSquare = createLucideIcon('message-square', __iconNode);\n\nexport default MessageSquare;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n];\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('plus', __iconNode);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16.247 7.761a6 6 0 0 1 0 8.478', key: '1fwjs5' }],\n  ['path', { d: 'M19.075 4.933a10 10 0 0 1 0 14.134', key: 'ehdyv1' }],\n  ['path', { d: 'M4.925 19.067a10 10 0 0 1 0-14.134', key: '1q22gi' }],\n  ['path', { d: 'M7.753 16.239a6 6 0 0 1 0-8.478', key: 'r2q7qm' }],\n  ['circle', { cx: '12', cy: '12', r: '2', key: '1c9p78' }],\n];\n\n/**\n * @component @name Radio\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYuMjQ3IDcuNzYxYTYgNiAwIDAgMSAwIDguNDc4IiAvPgogIDxwYXRoIGQ9Ik0xOS4wNzUgNC45MzNhMTAgMTAgMCAwIDEgMCAxNC4xMzQiIC8+CiAgPHBhdGggZD0iTTQuOTI1IDE5LjA2N2ExMCAxMCAwIDAgMSAwLTE0LjEzNCIgLz4KICA8cGF0aCBkPSJNNy43NTMgMTYuMjM5YTYgNiAwIDAgMSAwLTguNDc4IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/radio\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Radio = createLucideIcon('radio', __iconNode);\n\nexport default Radio;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n];\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('x', __iconNode);\n\nexport default X;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '19', x2: '19', y1: '8', y2: '14', key: '1bvyxn' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n];\n\n/**\n * @component @name UserPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTkiIHgyPSIxOSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserPlus = createLucideIcon('user-plus', __iconNode);\n\nexport default UserPlus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm16 17 5-5-5-5', key: '1bji2h' }],\n  ['path', { d: 'M21 12H9', key: 'dn1m92' }],\n  ['path', { d: 'M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4', key: '1uf3rs' }],\n];\n\n/**\n * @component @name LogOut\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTcgNS01LTUtNSIgLz4KICA8cGF0aCBkPSJNMjEgMTJIOSIgLz4KICA8cGF0aCBkPSJNOSAyMUg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/log-out\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LogOut = createLucideIcon('log-out', __iconNode);\n\nexport default LogOut;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm21 21-4.34-4.34', key: '14j7rj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n];\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEgMjEtNC4zNC00LjM0IiAvPgogIDxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('search', __iconNode);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z',\n      key: 'sc7q7i',\n    },\n  ],\n];\n\n/**\n * @component @name Funnel\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMjBhMSAxIDAgMCAwIC41NTMuODk1bDIgMUExIDEgMCAwIDAgMTQgMjF2LTdhMiAyIDAgMCAxIC41MTctMS4zNDFMMjEuNzQgNC42N0ExIDEgMCAwIDAgMjEgM0gzYTEgMSAwIDAgMC0uNzQyIDEuNjdsNy4yMjUgNy45ODlBMiAyIDAgMCAxIDEwIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/funnel\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Funnel = createLucideIcon('funnel', __iconNode);\n\nexport default Funnel;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n];\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('calendar', __iconNode);\n\nexport default Calendar;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '17', x2: '22', y1: '8', y2: '13', key: '3nzzx3' }],\n  ['line', { x1: '22', x2: '17', y1: '8', y2: '13', key: '1swrse' }],\n];\n\n/**\n * @component @name UserX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTciIHgyPSIyMiIgeTE9IjgiIHkyPSIxMyIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNyIgeTE9IjgiIHkyPSIxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/user-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserX = createLucideIcon('user-x', __iconNode);\n\nexport default UserX;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z',\n      key: '1vdc57',\n    },\n  ],\n  ['path', { d: 'M5 21h14', key: '11awu3' }],\n];\n\n/**\n * @component @name Crown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEuNTYyIDMuMjY2YS41LjUgMCAwIDEgLjg3NiAwTDE1LjM5IDguODdhMSAxIDAgMCAwIDEuNTE2LjI5NEwyMS4xODMgNS41YS41LjUgMCAwIDEgLjc5OC41MTlsLTIuODM0IDEwLjI0NmExIDEgMCAwIDEtLjk1Ni43MzRINS44MWExIDEgMCAwIDEtLjk1Ny0uNzM0TDIuMDIgNi4wMmEuNS41IDAgMCAxIC43OTgtLjUxOWw0LjI3NiAzLjY2NGExIDEgMCAwIDAgMS41MTYtLjI5NHoiIC8+CiAgPHBhdGggZD0iTTUgMjFoMTQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/crown\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Crown = createLucideIcon('crown', __iconNode);\n\nexport default Crown;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n","// utils/helpers.js - Updated with message status functions\r\n\r\nexport const formatTime = (timestamp) => {\r\n  if (!timestamp) return '';\r\n  \r\n  const date = new Date(timestamp);\r\n  const now = new Date();\r\n  const diff = now - date;\r\n  \r\n  // If within the last minute, show \"now\"\r\n  if (diff < 60000) {\r\n    return 'now';\r\n  }\r\n  \r\n  // If within the last hour, show minutes ago\r\n  if (diff < 3600000) {\r\n    const minutes = Math.floor(diff / 60000);\r\n    return `${minutes}m ago`;\r\n  }\r\n  \r\n  // If today, show time\r\n  if (date.toDateString() === now.toDateString()) {\r\n    return date.toLocaleTimeString([], { \r\n      hour: '2-digit', \r\n      minute: '2-digit',\r\n      hour12: false \r\n    });\r\n  }\r\n  \r\n  // If yesterday\r\n  const yesterday = new Date(now);\r\n  yesterday.setDate(yesterday.getDate() - 1);\r\n  if (date.toDateString() === yesterday.toDateString()) {\r\n    return 'Yesterday';\r\n  }\r\n  \r\n  // If within the last week, show day name\r\n  if (diff < 7 * 24 * 60 * 60 * 1000) {\r\n    return date.toLocaleDateString([], { weekday: 'short' });\r\n  }\r\n  \r\n  // Otherwise show date\r\n  return date.toLocaleDateString([], { \r\n    month: 'short', \r\n    day: 'numeric' \r\n  });\r\n};\r\n\r\n\r\n\r\nexport const getDetailedStatus = (message, participants = []) => {\r\n  if (!message) return null;\r\n  \r\n  const { status, deliveredTo = [], readBy = [], sender } = message;\r\n  const participantCount = participants.filter(p => p.user._id !== sender._id).length;\r\n  \r\n  // For group chats, show detailed status\r\n  if (participantCount > 1) {\r\n    const deliveredCount = deliveredTo.length;\r\n    const readCount = readBy.length;\r\n    \r\n    if (readCount > 0) {\r\n      return {\r\n        status: 'read',\r\n        icon: <span style={{ color: '#4F46E5' }}></span>,\r\n        text: readCount === participantCount \r\n          ? 'Read by all' \r\n          : `Read by ${readCount}/${participantCount}`,\r\n        details: {\r\n          delivered: deliveredCount,\r\n          read: readCount,\r\n          total: participantCount\r\n        }\r\n      };\r\n    }\r\n    \r\n    if (deliveredCount > 0) {\r\n      return {\r\n        status: 'delivered',\r\n        icon: '',\r\n        text: deliveredCount === participantCount \r\n          ? 'Delivered to all' \r\n          : `Delivered to ${deliveredCount}/${participantCount}`,\r\n        details: {\r\n          delivered: deliveredCount,\r\n          read: readCount,\r\n          total: participantCount\r\n        }\r\n      };\r\n    }\r\n    \r\n    return {\r\n      status: 'sent',\r\n      icon: '',\r\n      text: 'Sent',\r\n      details: {\r\n        delivered: 0,\r\n        read: 0,\r\n        total: participantCount\r\n      }\r\n    };\r\n  }\r\n  \r\n};\r\n\r\nexport const formatFileSize = (bytes) => {\r\n  if (bytes === 0) return '0 Bytes';\r\n  \r\n  const k = 1024;\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  \r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n};\r\n\r\nexport const getFileIcon = (messageType, mimeType) => {\r\n  if (messageType === 'image') return '';\r\n  if (messageType === 'video') return '';\r\n  if (messageType === 'audio') return '';\r\n  \r\n  if (mimeType) {\r\n    if (mimeType.includes('pdf')) return '';\r\n    if (mimeType.includes('document') || mimeType.includes('word')) return '';\r\n    if (mimeType.includes('spreadsheet') || mimeType.includes('excel')) return '';\r\n    if (mimeType.includes('zip') || mimeType.includes('rar')) return '';\r\n  }\r\n  \r\n  return '';\r\n};\r\n\r\nexport const isImageFile = (mimeType) => {\r\n  return mimeType && mimeType.startsWith('image/');\r\n};\r\n\r\nexport const isVideoFile = (mimeType) => {\r\n  return mimeType && mimeType.startsWith('video/');\r\n};\r\n\r\nexport const isAudioFile = (mimeType) => {\r\n  return mimeType && mimeType.startsWith('audio/');\r\n};\r\n\r\nexport const getMessagePreview = (message) => {\r\n  if (!message) return 'No content';\r\n  \r\n  const { messageType, content, fileInfo } = message;\r\n  \r\n  if (messageType !== 'text' && fileInfo) {\r\n    const fileName = fileInfo.displayName || fileInfo.originalName || 'File';\r\n    const icon = getFileIcon(messageType, fileInfo.type);\r\n    return `${icon} ${fileName}`;\r\n  }\r\n  \r\n  return content || 'No content';\r\n};\r\n\r\nexport const getConversationName = (conversation, currentUser) => {\r\n  if (!conversation) return 'Unknown';\r\n  \r\n  if (conversation.type === 'group') {\r\n    return conversation.name || 'Group Chat';\r\n  }\r\n  \r\n  // For direct conversations, find the other user\r\n  const otherParticipant = conversation.participants?.find(\r\n    p => p.user._id !== currentUser?._id\r\n  );\r\n  \r\n  return otherParticipant?.user?.name || 'Unknown User';\r\n};\r\n\r\nexport const getConversationAvatar = (conversation, currentUser) => {\r\n  if (!conversation) return '';\r\n  \r\n  if (conversation.type === 'group') {\r\n    return conversation.avatar || '';\r\n  }\r\n  \r\n  // For direct conversations, get other user's avatar\r\n  const otherParticipant = conversation.participants?.find(\r\n    p => p.user._id !== currentUser?._id\r\n  );\r\n  \r\n  const user = otherParticipant?.user;\r\n  return user?.avatar || user?.name?.charAt(0).toUpperCase() || '';\r\n};\r\n\r\nexport const isUserOnline = (userId, onlineUsers = []) => {\r\n  return [...onlineUsers].includes(userId);\r\n};\r\n\r\nexport const getUnreadCount = (conversation) => {\r\n  // If conversation has an explicit unreadCount, use it\r\n  if (conversation?.unreadCount !== undefined) {\r\n    return conversation.unreadCount;\r\n  }\r\n  \r\n  // Otherwise, calculate based on lastRead timestamp\r\n  if (!conversation?.lastMessage?.timestamp) {\r\n    return 0;\r\n  }\r\n  \r\n  // Find the participant's lastRead timestamp\r\n  const participant = conversation.participants?.find(p => p.user?._id);\r\n  if (!participant?.lastRead) {\r\n    return 1; // If no lastRead, assume there's at least one unread message\r\n  }\r\n  \r\n  const lastMessageTime = new Date(conversation.lastMessage.timestamp);\r\n  const lastReadTime = new Date(participant.lastRead);\r\n  \r\n  // If last message is after last read, there are unread messages\r\n  return lastMessageTime > lastReadTime ? 1 : 0;\r\n};\r\n\r\nexport const sortConversationsByActivity = (conversations) => {\r\n  return [...conversations].sort((a, b) => {\r\n    const aTime = new Date(a.updatedAt || a.createdAt);\r\n    const bTime = new Date(b.updatedAt || b.createdAt);\r\n    return bTime - aTime;\r\n  });\r\n};\r\n\r\nexport const filterConversations = (conversations, searchQuery) => {\r\n  if (!searchQuery.trim()) return conversations;\r\n  \r\n  const query = searchQuery.toLowerCase();\r\n  \r\n  return conversations.filter(conversation => {\r\n    // Search by conversation name\r\n    if (conversation.name?.toLowerCase().includes(query)) return true;\r\n    \r\n    // Search by participant names\r\n    const participantMatch = conversation.participants?.some(\r\n      p => p.user?.name?.toLowerCase().includes(query)\r\n    );\r\n    if (participantMatch) return true;\r\n    \r\n    // Search by last message content\r\n    if (conversation.lastMessage?.content?.toLowerCase().includes(query)) return true;\r\n    \r\n    return false;\r\n  });\r\n};\r\n\r\nexport const truncateText = (text, maxLength = 50) => {\r\n  if (!text) return '';\r\n  if (text.length <= maxLength) return text;\r\n  return text.substring(0, maxLength) + '...';\r\n};\r\n\r\nexport const formatLastSeen = (lastSeen) => {\r\n  if (!lastSeen) return 'Never';\r\n  \r\n  const date = new Date(lastSeen);\r\n  const now = new Date();\r\n  const diff = now - date;\r\n  \r\n  // If within the last 5 minutes, show \"just now\"\r\n  if (diff < 5 * 60 * 1000) {\r\n    return 'just now';\r\n  }\r\n  \r\n  // If within the last hour, show minutes ago\r\n  if (diff < 60 * 60 * 1000) {\r\n    const minutes = Math.floor(diff / (60 * 1000));\r\n    return `${minutes} min ago`;\r\n  }\r\n  \r\n  // If within the last 24 hours, show hours ago\r\n  if (diff < 24 * 60 * 60 * 1000) {\r\n    const hours = Math.floor(diff / (60 * 60 * 1000));\r\n    return `${hours} hour${hours > 1 ? 's' : ''} ago`;\r\n  }\r\n  \r\n  // Otherwise show the date\r\n  return formatTime(lastSeen);\r\n};\r\n\r\nexport const debounce = (func, wait) => {\r\n  let timeout;\r\n  return function executedFunction(...args) {\r\n    const later = () => {\r\n      clearTimeout(timeout);\r\n      func(...args);\r\n    };\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n  };\r\n};\r\n\r\nexport const generateTempId = () => {\r\n  return 'temp_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\r\n};\r\n\r\nexport const isMessageFromToday = (timestamp) => {\r\n  if (!timestamp) return false;\r\n  \r\n  const messageDate = new Date(timestamp);\r\n  const today = new Date();\r\n  \r\n  return messageDate.toDateString() === today.toDateString();\r\n};\r\n\r\nexport const shouldShowDateSeparator = (currentMessage, previousMessage) => {\r\n  if (!currentMessage?.createdAt) return false;\r\n  if (!previousMessage?.createdAt) return true;\r\n  \r\n  const currentDate = new Date(currentMessage.createdAt);\r\n  const previousDate = new Date(previousMessage.createdAt);\r\n  \r\n  return currentDate.toDateString() !== previousDate.toDateString();\r\n};\r\n\r\nexport const getDateSeparatorText = (timestamp) => {\r\n  if (!timestamp) return '';\r\n  \r\n  const date = new Date(timestamp);\r\n  const today = new Date();\r\n  const yesterday = new Date(today);\r\n  yesterday.setDate(yesterday.getDate() - 1);\r\n  \r\n  if (date.toDateString() === today.toDateString()) {\r\n    return 'Today';\r\n  }\r\n  \r\n  if (date.toDateString() === yesterday.toDateString()) {\r\n    return 'Yesterday';\r\n  }\r\n  \r\n  return date.toLocaleDateString([], { \r\n    weekday: 'long',\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric'\r\n  });\r\n};","// utils/fileHelpers.js - Complete media handling utilities\r\n\r\n// Check if a message is a file message\r\nexport const isFileMessage = (message) => {\r\n  if (!message) return false;\r\n  \r\n  const fileTypes = ['image', 'video', 'audio', 'file', 'document', 'pdf', 'xlsx', 'txt'];\r\n  return fileTypes.includes(message.messageType) || Boolean(message.fileInfo || message.file);\r\n};\r\n\r\n// Get the display name for a file message\r\nexport const getFileDisplayName = (message) => {\r\n  if (!message) return 'Unknown File';\r\n  \r\n  const fileInfo = message.fileInfo || message.file || {};\r\n  \r\n  // Priority: displayName > originalName > filename from URL > fallback\r\n  return fileInfo.displayName || \r\n         fileInfo.originalName || \r\n         fileInfo.name ||\r\n         extractFilenameFromUrl(message.content) ||\r\n         'Unknown File';\r\n};\r\n\r\n// Extract filename from URL\r\nconst extractFilenameFromUrl = (url) => {\r\n  if (!url || typeof url !== 'string') return null;\r\n  \r\n  try {\r\n    const urlParts = url.split('/');\r\n    const lastPart = urlParts[urlParts.length - 1];\r\n    \r\n    // Remove query parameters\r\n    const filename = lastPart.split('?')[0];\r\n    \r\n    // Only return if it looks like a filename (has extension)\r\n    if (filename.includes('.') && filename.length > 3) {\r\n      return decodeURIComponent(filename);\r\n    }\r\n  } catch (error) {\r\n    console.error('Error extracting filename from URL:', error);\r\n  }\r\n  \r\n  return null;\r\n};\r\n\r\n// Get file extension from message\r\nexport const getFileExtension = (message) => {\r\n  const displayName = getFileDisplayName(message);\r\n  const parts = displayName.split('.');\r\n  return parts.length > 1 ? parts[parts.length - 1].toLowerCase() : '';\r\n};\r\n\r\n// Check if file is a GIF\r\nexport const isGifFile = (message) => {\r\n  if (!message) return false;\r\n  \r\n  const fileInfo = message.fileInfo || message.file || {};\r\n  const extension = getFileExtension(message);\r\n  const mimeType = fileInfo.type || fileInfo.mimeType || '';\r\n  \r\n  return extension === 'gif' || mimeType === 'image/gif';\r\n};\r\n\r\n// Get appropriate icon for file type\r\nexport const getFileIcon = (messageType, mimeType = '', filename = '') => {\r\n  const extension = filename ? filename.split('.').pop()?.toLowerCase() : '';\r\n  \r\n  if (messageType === 'image') {\r\n    return extension === 'gif' ? '' : '';\r\n  }\r\n  \r\n  if (messageType === 'video') return '';\r\n  if (messageType === 'audio') return '';\r\n  \r\n  if (messageType === 'pdf' || mimeType.includes('pdf') || extension === 'pdf') {\r\n    return '';\r\n  }\r\n  \r\n  if (mimeType.includes('document') || mimeType.includes('word') || \r\n      ['doc', 'docx'].includes(extension)) {\r\n    return '';\r\n  }\r\n  \r\n  if (mimeType.includes('spreadsheet') || mimeType.includes('excel') || \r\n      ['xls', 'xlsx'].includes(extension)) {\r\n    return '';\r\n  }\r\n  \r\n  if (mimeType.includes('zip') || ['zip', 'rar', '7z'].includes(extension)) {\r\n    return '';\r\n  }\r\n  \r\n  return ''; // Default file icon\r\n};\r\n\r\n// Format message for forwarding - handles all media types properly\r\nexport const formatMessageForForwarding = (message) => {\r\n  if (!message) {\r\n    return {\r\n      content: '',\r\n      displayText: 'Message',\r\n      isFile: false,\r\n      originalMessage: message\r\n    };\r\n  }\r\n\r\n  // Handle file messages\r\n  if (isFileMessage(message)) {\r\n    const displayName = getFileDisplayName(message);\r\n    const fileIcon = getFileIcon(message.messageType, message.fileInfo?.type, displayName);\r\n    \r\n    return {\r\n      content: message.content, // Keep original URL/content\r\n      displayText: `${fileIcon} ${displayName}`,\r\n      fileName: displayName,\r\n      isFile: true,\r\n      messageType: message.messageType,\r\n      fileInfo: message.fileInfo || message.file,\r\n      originalMessage: message\r\n    };\r\n  }\r\n\r\n  // Handle text messages\r\n  return {\r\n    content: message.content || '',\r\n    displayText: message.content || 'Message',\r\n    isFile: false,\r\n    messageType: 'text',\r\n    originalMessage: message\r\n  };\r\n};\r\n\r\n// utils/fileHelpers.js - Updated getSidebarPreviewText function\r\n\r\n// Get preview text for sidebar - simplified for lastMessage objects\r\nexport const getSidebarPreviewText = (message) => {\r\n  if (!message) return 'No messages yet';\r\n\r\n  // Handle system messages - return content as-is without sender prefix\r\n  if (message.messageType === 'system') {\r\n    return message.content || 'System message';\r\n  }\r\n\r\n  // For text messages\r\n  if (!message.messageType || message.messageType === 'text') {\r\n    return message.content || 'Message';\r\n  }\r\n\r\n  // For file messages - use content as filename and messageType for icon\r\n  const fileName = message.fileInfo?.displayName || message.content || 'Unknown File';\r\n  \r\n  // Check if filename already starts with an icon\r\n  const hasIconAlready = fileName.startsWith('') || \r\n                        fileName.startsWith('') || \r\n                        fileName.startsWith('') || \r\n                        fileName.startsWith('') || \r\n                        fileName.startsWith('') || \r\n                        fileName.startsWith('') ||\r\n                        fileName.startsWith('') ||\r\n                        fileName.startsWith('') ||\r\n                        fileName.startsWith('');\r\n  \r\n  if (hasIconAlready) {\r\n    return fileName;\r\n  }\r\n\r\n  // Get appropriate icon based on messageType\r\n  let icon = ''; // default\r\n  \r\n  switch (message.messageType) {\r\n    case 'image':\r\n      // Check if it's a GIF\r\n      icon = fileName.toLowerCase().endsWith('.gif') ? '' : '';\r\n      break;\r\n    case 'video':\r\n      icon = '';\r\n      break;\r\n    case 'audio':\r\n      icon = '';\r\n      break;\r\n    case 'pdf':\r\n      icon = '';\r\n      break;\r\n    case 'document':\r\n      icon = '';\r\n      break;\r\n    case 'xlsx':\r\n      icon = '';\r\n      break;\r\n    case 'txt':\r\n      icon = '';\r\n      break;\r\n    case 'file':\r\n    default:\r\n      icon = '';\r\n      break;\r\n  }\r\n\r\n  return `${icon} ${fileName}`;\r\n};\r\n\r\n\r\n// Enhanced function to determine if a message should show sender info\r\nexport const shouldShowMessageSender = (message, conversationType) => {\r\n  // Never show sender for system messages\r\n  if (message?.messageType === 'system') {\r\n    return false;\r\n  }\r\n  \r\n  // Show sender for group and broadcast messages (non-system only)\r\n  return conversationType === 'group' || conversationType === 'broadcast';\r\n};\r\n\r\n// Get file type for upload\r\nexport const getFileTypeFromFile = (file) => {\r\n  if (!file) return 'file';\r\n  \r\n  const mimeType = file.type || '';\r\n  const fileName = file.name || '';\r\n  const extension = fileName.split('.').pop()?.toLowerCase() || '';\r\n  \r\n  if (mimeType.startsWith('image/')) {\r\n    return 'image'; // All images including GIFs\r\n  }\r\n  \r\n  if (mimeType.startsWith('video/')) return 'video';\r\n  if (mimeType.startsWith('audio/')) return 'audio';\r\n  if (mimeType.includes('pdf') || extension === 'pdf') return 'pdf';\r\n  if (mimeType.includes('document') || mimeType.includes('word') || \r\n      ['doc', 'docx'].includes(extension)) return 'document';\r\n  if (mimeType.includes('spreadsheet') || mimeType.includes('excel') || \r\n      ['xls', 'xlsx'].includes(extension)) return 'xlsx';\r\n  if (mimeType === 'text/plain' || extension === 'txt') return 'txt';\r\n  \r\n  return 'file';\r\n};\r\n\r\n// Format file size for display\r\nexport const formatFileSize = (bytes) => {\r\n  if (!bytes || bytes === 0) return '0 B';\r\n  \r\n  const k = 1024;\r\n  const sizes = ['B', 'KB', 'MB', 'GB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  \r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\r\n};\r\n\r\n// Create proper file info object for upload\r\nexport const createFileInfo = (file, uploadResult) => {\r\n  return {\r\n    originalName: file.name,\r\n    displayName: file.name, // Always use the original filename as display name\r\n    url: uploadResult.url,\r\n    size: file.size,\r\n    type: file.type,\r\n    fileSize: formatFileSize(file.size),\r\n    cloudData: {\r\n      publicId: uploadResult.publicId || uploadResult.public_id,\r\n      deleteUrl: uploadResult.deleteUrl,\r\n      thumbUrl: uploadResult.thumbUrl || uploadResult.thumbnail_url,\r\n      width: uploadResult.width,\r\n      height: uploadResult.height,\r\n      duration: uploadResult.duration,\r\n      format: uploadResult.format,\r\n      resourceType: uploadResult.resourceType || uploadResult.resource_type\r\n    }\r\n  };\r\n};\r\n\r\n// Validate file for upload\r\nexport const validateFile = (file, maxSize = 50 * 1024 * 1024) => { // 50MB default\r\n  if (!file) {\r\n    return { valid: false, error: 'No file selected' };\r\n  }\r\n  \r\n  if (file.size > maxSize) {\r\n    return { \r\n      valid: false, \r\n      error: `File size too large. Maximum size is ${formatFileSize(maxSize)}` \r\n    };\r\n  }\r\n  \r\n  // Check file type\r\n  const allowedTypes = [\r\n    'image/', 'video/', 'audio/',\r\n    'application/pdf',\r\n    'application/msword',\r\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n    'application/vnd.ms-excel',\r\n    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n    'text/plain',\r\n    'application/zip',\r\n    'application/x-rar-compressed'\r\n  ];\r\n  \r\n  const isAllowed = allowedTypes.some(type => file.type.startsWith(type));\r\n  \r\n  if (!isAllowed) {\r\n    return {\r\n      valid: false,\r\n      error: 'File type not supported'\r\n    };\r\n  }\r\n  \r\n  return { valid: true };\r\n};\r\n\r\n// Get message content for reply preview with ellipsis\r\nexport const getReplyPreviewText = (message, maxLength = 50) => {\r\n  if (!message) return 'Message';\r\n  \r\n  if (isFileMessage(message)) {\r\n    const displayName = getFileDisplayName(message);\r\n    const fileIcon = getFileIcon(message.messageType, message.fileInfo?.type, displayName);\r\n    const preview = `${fileIcon} ${displayName}`;\r\n    return preview.length > maxLength ? preview.substring(0, maxLength) + '...' : preview;\r\n  }\r\n  \r\n  // Truncate long text messages\r\n  const content = message.content || '';\r\n  return content.length > maxLength ? content.substring(0, maxLength) + '...' : content;\r\n};\r\n\r\n// Check if message has viewable thumbnail\r\nexport const hasViewableThumbnail = (message) => {\r\n  if (!isFileMessage(message)) return false;\r\n  \r\n  const supportedTypes = ['image', 'video'];\r\n  return supportedTypes.includes(message.messageType);\r\n};\r\n\r\n// Get thumbnail URL for message\r\nexport const getThumbnailUrl = (message) => {\r\n  if (!hasViewableThumbnail(message)) return null;\r\n  \r\n  const fileInfo = message.fileInfo || message.file || {};\r\n  \r\n  // For images and videos, return the main URL or thumbnail\r\n  return fileInfo.thumbUrl || fileInfo.url || message.content;\r\n};\r\n\r\nexport default {\r\n  isFileMessage,\r\n  getFileDisplayName,\r\n  getFileExtension,\r\n  isGifFile,\r\n  getFileIcon,\r\n  formatMessageForForwarding,\r\n  getSidebarPreviewText,\r\n  getFileTypeFromFile,\r\n  formatFileSize,\r\n  createFileInfo,\r\n  validateFile,\r\n  getReplyPreviewText,\r\n  hasViewableThumbnail,\r\n  getThumbnailUrl\r\n};","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3',\n      key: 'wmoenq',\n    },\n  ],\n  ['path', { d: 'M12 9v4', key: 'juzpu7' }],\n  ['path', { d: 'M12 17h.01', key: 'p32p05' }],\n];\n\n/**\n * @component @name TriangleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNzMgMTgtOC0xNGEyIDIgMCAwIDAtMy40OCAwbC04IDE0QTIgMiAwIDAgMCA0IDIxaDE2YTIgMiAwIDAgMCAxLjczLTMiIC8+CiAgPHBhdGggZD0iTTEyIDl2NCIgLz4KICA8cGF0aCBkPSJNMTIgMTdoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/triangle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TriangleAlert = createLucideIcon('triangle-alert', __iconNode);\n\nexport default TriangleAlert;\n","import { X, AlertTriangle } from 'lucide-react';\r\n\r\nconst DeleteModal = ({ \r\n  isDark, \r\n  onConfirm, \r\n  onCancel, \r\n  messagePreview,\r\n  type = \"message\", // \"message\" or \"conversation\"\r\n  conversationName,\r\n  conversationType // \"group\" or \"direct\"\r\n}) => {\r\n  const isConversation = type === \"conversation\";\r\n  const isGroupConversation = conversationType === \"group\";\r\n\r\n  const getTitle = () => {\r\n    if (isConversation) {\r\n      return isGroupConversation ? \"Delete Group\" : \"Delete Conversation\";\r\n    }\r\n    return \"Delete Message\";\r\n  };\r\n\r\n  const getDescription = () => {\r\n    if (isConversation) {\r\n      if (isGroupConversation) {\r\n        return `Are you sure you want to delete the group \"${conversationName}\"? This action cannot be undone and will delete all messages.`;\r\n      }\r\n      return `Are you sure you want to delete the conversation with ${conversationName}? This action cannot be undone and will delete all messages.`;\r\n    }\r\n    return \"Are you sure you want to delete this message? This action cannot be undone.\";\r\n  };\r\n\r\n  const getPreviewLabel = () => {\r\n    if (isConversation) {\r\n      return isGroupConversation ? \"Group to delete:\" : \"Conversation to delete:\";\r\n    }\r\n    return \"Message to delete:\";\r\n  };\r\n\r\n  const getPreviewContent = () => {\r\n    if (isConversation) {\r\n      return conversationName || \"Unknown\";\r\n    }\r\n    return messagePreview || \"No content\";\r\n  };\r\n\r\n  const getConfirmButtonText = () => {\r\n    if (isConversation) {\r\n      return isGroupConversation ? \"Delete Group\" : \"Delete Conversation\";\r\n    }\r\n    return \"Delete Message\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div\r\n        className={`w-full max-w-md rounded-2xl shadow-2xl ${\r\n          isDark ? \"bg-gray-800 text-white\" : \"bg-white\"\r\n        }`}\r\n      >\r\n        <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className=\"w-10 h-10 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center\">\r\n                <AlertTriangle className=\"w-5 h-5 text-red-600 dark:text-red-400\" />\r\n              </div>\r\n              <h2 className=\"text-xl font-bold\">{getTitle()}</h2>\r\n            </div>\r\n            <button\r\n              onClick={onCancel}\r\n              className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          <p className=\"text-gray-600 dark:text-gray-300 mb-4\">\r\n            {getDescription()}\r\n          </p>\r\n\r\n          <div className={`p-3 rounded-lg border-l-4 border-red-400 ${isDark ? \"bg-gray-700\" : \"bg-gray-50\"}`}>\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">\r\n              {getPreviewLabel()}\r\n            </p>\r\n            <p className=\"text-sm truncate\">{getPreviewContent()}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6 border-t border-gray-200 dark:border-gray-700 flex space-x-3\">\r\n          <button\r\n            onClick={onCancel}\r\n            className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={onConfirm}\r\n            className=\"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n          >\r\n            {getConfirmButtonText()}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteModal;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { \r\n  Search, \r\n  Sun, \r\n  Moon, \r\n  LogOut, \r\n  Hash, \r\n  Crown, \r\n  Plus, \r\n  Trash2, \r\n  MessageSquare, \r\n  User, \r\n  Calendar, \r\n  X, \r\n  Filter, \r\n  Users, \r\n  UserPlus, \r\n  Radio,\r\n  Settings,\r\n  UserX,\r\n  Shield,\r\n  Bell\r\n} from \"lucide-react\";\r\nimport { formatTime } from \"../utils/helpers\";\r\nimport { getSidebarPreviewText, shouldShowMessageSender } from \"../utils/fileHelpers\";\r\nimport { useUser } from \"../contexts/UserContext\";\r\nimport DeleteModal from \"./Modals/DeleteModal\";\r\nimport sessionManager from \"../utils/sessionManager\";\r\n\r\nconst Sidebar = ({ \r\n  onProfileClick, \r\n  onStartConversation, \r\n  onConversationViewed, \r\n  onDeleteConversation, \r\n  messages,\r\n  onConversationSelect \r\n}) => {\r\n  const { \r\n    currentUser, \r\n    conversations, \r\n    activeChat, \r\n    setActiveChat, \r\n    onlineUsers, \r\n    isDark, \r\n    toggleDarkMode,\r\n    logoutUser \r\n  } = useUser();\r\n  \r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n  const [conversationToDelete, setConversationToDelete] = useState(null);\r\n  const [showNewChatMenu, setShowNewChatMenu] = useState(false);\r\n  \r\n  // Enhanced search state\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [searchMode, setSearchMode] = useState(\"all\"); // \"all\", \"users\", \"messages\"\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [showSearchFilters, setShowSearchFilters] = useState(false);\r\n  const [searchHistory, setSearchHistory] = useState([]);\r\n  const searchTimeoutRef = useRef(null);\r\n\r\n  // Load search history from localStorage on mount\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem('chat_search_history');\r\n    if (saved) {\r\n      try {\r\n        setSearchHistory(JSON.parse(saved));\r\n      } catch (error) {\r\n        console.error('Failed to load search history:', error);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Helper function to get blocked status\r\nconst getBlockedStatus = (conversation, currentUser) => {\r\n  if (conversation.type !== 'direct') return { isBlocked: false };\r\n  \r\n  const otherUser = conversation.participants?.find(p => p.user._id !== currentUser._id)?.user;\r\n  if (!otherUser) return { isBlocked: false };\r\n  \r\n  const currentUserBlockedOther = currentUser.blockedUsers?.includes(otherUser._id) || \r\n                                  otherUser.isBlockedByCurrentUser === true;\r\n  const otherUserBlockedCurrent = otherUser.hasBlockedCurrentUser === true;\r\n  \r\n  return {\r\n    isBlocked: currentUserBlockedOther || otherUserBlockedCurrent,\r\n    blockedByCurrentUser: currentUserBlockedOther,\r\n    blockedByOtherUser: otherUserBlockedCurrent\r\n  };\r\n};\r\n\r\n  const isUserAdmin = (conversation, userId) => {\r\n    if (!conversation || !userId) return false;\r\n    \r\n    // Check main admin - handle both string and object formats\r\n    const mainAdminId = typeof conversation.admin === 'string' \r\n      ? conversation.admin \r\n      : conversation.admin?._id;\r\n    \r\n    if (mainAdminId === userId) return 'main';\r\n    \r\n    // Check admins array - handle mixed formats\r\n    if (conversation.admins && Array.isArray(conversation.admins)) {\r\n      const isAdditionalAdmin = conversation.admins.some((admin) => {\r\n        const adminUserId = typeof admin === 'string' ? admin : admin?._id;\r\n        return adminUserId === userId;\r\n      });\r\n      if (isAdditionalAdmin) return 'admin';\r\n    }\r\n    \r\n    return false;\r\n  };\r\n\r\n  // Save search history to localStorage\r\n  const saveSearchHistory = (query) => {\r\n    if (!query.trim() || query.length < 2) return;\r\n    \r\n    const newHistory = [query, ...searchHistory.filter(item => item !== query)].slice(0, 10);\r\n    setSearchHistory(newHistory);\r\n    localStorage.setItem('chat_search_history', JSON.stringify(newHistory));\r\n  };\r\n\r\n  // Get user from conversation participants\r\n  const getUserFromConversation = (conversation, searchQuery) => {\r\n    if (conversation.type === \"group\" || conversation.type === \"broadcast\") {\r\n      // For group chats and broadcasts, find the participant that matches the search\r\n      const matchingParticipant = conversation.participants.find(p => \r\n        p.user._id !== currentUser._id && \r\n        (p.user.name?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n         p.user.email?.toLowerCase().includes(searchQuery.toLowerCase()))\r\n      );\r\n      return matchingParticipant?.user || null;\r\n    } else {\r\n      // For direct chats, return the other user\r\n      const otherParticipant = conversation.participants.find(\r\n        participant => participant.user._id !== currentUser._id\r\n      );\r\n      return otherParticipant?.user || null;\r\n    }\r\n  };\r\n\r\n  // Advanced search function\r\n  const performAdvancedSearch = async (query, mode = \"all\") => {\r\n    if (!query.trim()) {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    setIsSearching(true);\r\n    const results = [];\r\n\r\n    try {\r\n      // Search users/conversations\r\n      if (mode === \"all\" || mode === \"users\") {\r\n        const userResults = conversations.filter((conversation) => {\r\n          const searchTerm = query.toLowerCase();\r\n\r\n          // Search by conversation name (for groups/broadcasts)\r\n          if (conversation.name?.toLowerCase().includes(searchTerm)) {\r\n            return true;\r\n          }\r\n\r\n          // Search by participant names and emails\r\n          return conversation.participants?.some(p => \r\n            p.user._id !== currentUser._id && (\r\n              p.user?.name?.toLowerCase().includes(searchTerm) ||\r\n              p.user?.email?.toLowerCase().includes(searchTerm)\r\n            )\r\n          );\r\n        });\r\n\r\n        userResults.forEach(conv => {\r\n          const matchedUser = getUserFromConversation(conv, query);\r\n          results.push({\r\n            type: 'user',\r\n            conversation: conv,\r\n            user: matchedUser,\r\n            matchType: 'name',\r\n            preview: getLastMessagePreview(conv),\r\n            isOnline: matchedUser ? [...onlineUsers].includes(matchedUser._id) : false\r\n          });\r\n        });\r\n      }\r\n\r\n      // Search messages within conversations\r\n      if (mode === \"all\" || mode === \"messages\") {\r\n        const messageSearchPromises = conversations.map(async (conversation) => {\r\n          try {\r\n            // Search in current loaded messages first\r\n            const conversationMessages = messages[conversation._id] || [];\r\n            const localMatches = conversationMessages.filter(message => {\r\n              const searchTerm = query.toLowerCase();\r\n              \r\n              // Search message content\r\n              if (message.content?.toLowerCase().includes(searchTerm)) return true;\r\n              \r\n              // Search file names\r\n              if (message.fileInfo?.displayName?.toLowerCase().includes(searchTerm)) return true;\r\n              if (message.fileInfo?.originalName?.toLowerCase().includes(searchTerm)) return true;\r\n              \r\n              return false;\r\n            });\r\n\r\n            // Add local matches\r\n            localMatches.forEach(message => {\r\n              results.push({\r\n                type: 'message',\r\n                conversation: conversation,\r\n                message: message,\r\n                matchType: 'content',\r\n                preview: getMessagePreview(message, query),\r\n                user: message.sender\r\n              });\r\n            });\r\n\r\n            // Also search server for more comprehensive results\r\n            if (query.length >= 3) {\r\n              try {\r\n                const response = await sessionManager.authenticatedRequest(\r\n                  `/messages/search?q=${encodeURIComponent(query)}&conversationId=${conversation._id}&limit=3`\r\n                );\r\n                \r\n                if (response.ok) {\r\n                  const searchData = await response.json();\r\n                  if (searchData.success && searchData.messages) {\r\n                    searchData.messages.forEach(message => {\r\n                      // Avoid duplicates from local search\r\n                      const isDuplicate = results.some(r => \r\n                        r.type === 'message' && r.message._id === message._id\r\n                      );\r\n                      \r\n                      if (!isDuplicate) {\r\n                        results.push({\r\n                          type: 'message',\r\n                          conversation: conversation,\r\n                          message: message,\r\n                          matchType: 'server',\r\n                          preview: message.highlightedContent || getMessagePreview(message, query),\r\n                          user: message.sender\r\n                        });\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              } catch (error) {\r\n                console.error('Server message search failed:', error);\r\n              }\r\n            }\r\n\r\n          } catch (error) {\r\n            console.error(`Failed to search messages in conversation ${conversation._id}:`, error);\r\n          }\r\n        });\r\n\r\n        await Promise.all(messageSearchPromises);\r\n      }\r\n\r\n      // Sort results by relevance and recency\r\n      results.sort((a, b) => {\r\n        // Prioritize exact matches\r\n        const aExact = a.type === 'user' ? \r\n          a.user?.name?.toLowerCase() === query.toLowerCase() ||\r\n          a.conversation?.name?.toLowerCase() === query.toLowerCase() :\r\n          a.message.content?.toLowerCase() === query.toLowerCase();\r\n        const bExact = b.type === 'user' ?\r\n          b.user?.name?.toLowerCase() === query.toLowerCase() ||\r\n          b.conversation?.name?.toLowerCase() === query.toLowerCase() :\r\n          b.message.content?.toLowerCase() === query.toLowerCase();\r\n        \r\n        if (aExact && !bExact) return -1;\r\n        if (!aExact && bExact) return 1;\r\n\r\n        // Then by type (users first, then messages)\r\n        if (a.type !== b.type) {\r\n          return a.type === 'user' ? -1 : 1;\r\n        }\r\n\r\n        // Then by recency\r\n        const aTime = a.type === 'user' ? \r\n          new Date(a.conversation.updatedAt || a.conversation.createdAt || 0) :\r\n          new Date(a.message.createdAt || 0);\r\n        const bTime = b.type === 'user' ?\r\n          new Date(b.conversation.updatedAt || b.conversation.createdAt || 0) :\r\n          new Date(b.message.createdAt || 0);\r\n        \r\n        return bTime - aTime;\r\n      });\r\n\r\n      // Remove duplicates\r\n      const uniqueResults = [];\r\n      const seenConversations = new Set();\r\n      const seenMessages = new Set();\r\n\r\n      results.forEach(result => {\r\n        if (result.type === 'user') {\r\n          if (!seenConversations.has(result.conversation._id)) {\r\n            seenConversations.add(result.conversation._id);\r\n            uniqueResults.push(result);\r\n          }\r\n        } else {\r\n          const messageKey = `${result.message._id}-${result.conversation._id}`;\r\n          if (!seenMessages.has(messageKey)) {\r\n            seenMessages.add(messageKey);\r\n            uniqueResults.push(result);\r\n          }\r\n        }\r\n      });\r\n\r\n      setSearchResults(uniqueResults.slice(0, 15));\r\n      saveSearchHistory(query);\r\n\r\n    } catch (error) {\r\n      console.error('Search failed:', error);\r\n      setSearchResults([]);\r\n    } finally {\r\n      setIsSearching(false);\r\n    }\r\n  };\r\n\r\n  // Debounced search\r\n  useEffect(() => {\r\n    if (searchTimeoutRef.current) {\r\n      clearTimeout(searchTimeoutRef.current);\r\n    }\r\n\r\n    if (searchQuery.trim()) {\r\n      searchTimeoutRef.current = setTimeout(() => {\r\n        performAdvancedSearch(searchQuery, searchMode);\r\n      }, 300);\r\n    } else {\r\n      setSearchResults([]);\r\n    }\r\n\r\n    return () => {\r\n      if (searchTimeoutRef.current) {\r\n        clearTimeout(searchTimeoutRef.current);\r\n      }\r\n    };\r\n  }, [searchQuery, searchMode, conversations, messages]);\r\n\r\n  // Get message preview with highlighted search term\r\n  const getMessagePreview = (message, searchTerm) => {\r\n    let content = message.content || '';\r\n    \r\n    if (message.fileInfo) {\r\n      const fileName = message.fileInfo.displayName || message.fileInfo.originalName || 'File';\r\n      content = ` ${fileName}`;\r\n    }\r\n\r\n    // Highlight search term\r\n    if (searchTerm && content.toLowerCase().includes(searchTerm.toLowerCase())) {\r\n      const regex = new RegExp(`(${searchTerm})`, 'gi');\r\n      return content.replace(regex, '**$1**');\r\n    }\r\n\r\n    return content.length > 60 ? content.substring(0, 60) + '...' : content;\r\n  };\r\n\r\n  // Handle search result click\r\n  const handleSearchResultClick = (result) => {\r\n    if (result.type === 'user') {\r\n      handleConversationClick(result.conversation);\r\n    } else if (result.type === 'message') {\r\n      setActiveChat(result.conversation);\r\n      setSearchQuery('');\r\n      setSearchResults([]);\r\n      \r\n      if (typeof onConversationViewed === 'function') {\r\n        onConversationViewed(result.conversation._id);\r\n      }\r\n\r\n      setTimeout(() => {\r\n        window.dispatchEvent(new CustomEvent('scrollToMessage', { \r\n          detail: { messageId: result.message._id } \r\n        }));\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  // Clear search\r\n  const clearSearch = () => {\r\n    setSearchQuery('');\r\n    setSearchResults([]);\r\n    setShowSearchFilters(false);\r\n  };\r\n\r\n  // Get other user in direct conversation\r\n  const getOtherUser = (conversation) => {\r\n    if (conversation.type !== \"direct\") return null;\r\n\r\n    const otherParticipant = conversation.participants.find(\r\n      (participant) => participant.user._id !== currentUser?._id\r\n    );\r\n\r\n    return otherParticipant ? otherParticipant.user : null;\r\n  };\r\n\r\n  // Get conversation display info\r\n  const getConversationInfo = (conversation) => {\r\n    if (conversation.type === \"group\") {\r\n      return {\r\n        name: conversation.name || \"Group Chat\",\r\n        avatar: conversation.avatar || \"\",\r\n        status: conversation.userLeft \r\n          ? \"You left this group\"\r\n          : `${conversation.participants.length} members`,\r\n        isGroup: true,\r\n        isBroadcast: false,\r\n        isOnline: false\r\n      };\r\n    } else if (conversation.type === \"broadcast\") {\r\n      return {\r\n        name: conversation.name || \"Broadcast Channel\",\r\n        avatar: conversation.avatar || \"\",\r\n        status: `${conversation.participants.length} subscribers`,\r\n        isGroup: false,\r\n        isBroadcast: true,\r\n        isOnline: false\r\n      };\r\n    } else {\r\n      const otherUser = getOtherUser(conversation);\r\n      if (!otherUser) {\r\n        return {\r\n          name: \"Unknown User\",\r\n          avatar: \"\",\r\n          status: \"Offline\",\r\n          isGroup: false,\r\n          isBroadcast: false,\r\n          isOnline: false\r\n        };\r\n      }\r\n\r\n      const isOnline = [...onlineUsers].includes(otherUser._id);\r\n      const blockedStatus = getBlockedStatus(conversation, currentUser);\r\n\r\n      return {\r\n        name: otherUser.name,\r\n        avatar: otherUser.avatar || otherUser.name?.charAt(0).toUpperCase() || \"\",\r\n        status: conversation.userLeft \r\n          ? \"You left this group\"\r\n          : blockedStatus.isBlocked \r\n            ? (blockedStatus.blockedByCurrentUser ? \"Blocked\" : \"Blocked you\")\r\n            : isOnline \r\n              ? \"Online\" \r\n              : otherUser.lastSeen \r\n                ? `Last seen ${formatTime(otherUser.lastSeen)}` \r\n                : \"Offline\",\r\n        isGroup: false,\r\n        isBroadcast: false,\r\n        isOnline: !blockedStatus.isBlocked && isOnline,\r\n      };\r\n    }\r\n  };\r\n\r\n  // Get message sender info - but exclude system messages\r\n  const getMessageSender = (conversation) => {\r\n    if (!conversation.lastMessage || !conversation.lastMessage.sender) return null;\r\n    \r\n    // Don't return sender for system messages\r\n    if (conversation.lastMessage.messageType === 'system') {\r\n      return null;\r\n    }\r\n\r\n    if (conversation.type === \"group\" || conversation.type === \"broadcast\") {\r\n      const senderParticipant = conversation.participants.find(\r\n        (participant) =>\r\n          participant.user._id === conversation.lastMessage.sender._id ||\r\n          participant.user._id === conversation.lastMessage.sender\r\n      );\r\n      \r\n      if (senderParticipant) {\r\n        return senderParticipant.user;\r\n      }\r\n      \r\n      return typeof conversation.lastMessage.sender === 'object' \r\n        ? conversation.lastMessage.sender \r\n        : null;\r\n    }\r\n\r\n    return typeof conversation.lastMessage.sender === 'object' \r\n      ? conversation.lastMessage.sender \r\n      : null;\r\n  };\r\n\r\n  // Enhanced function to get the preview text for the last message\r\n// Enhanced function to get the preview text for the last message\r\nconst getLastMessagePreview = (conversation) => {\r\n  if (!conversation.lastMessage) {\r\n    return \"No messages yet\";\r\n  }\r\n\r\n  const message = conversation.lastMessage;\r\n  \r\n  // Handle system messages differently - don't show sender name\r\n  if (message.messageType === 'system') {\r\n    return message.content || \"System message\";\r\n  }\r\n  \r\n  // Get the preview text from the helper\r\n  const previewText = getSidebarPreviewText(message);\r\n  \r\n  // For group and broadcast conversations, add sender name\r\n  if (conversation.type === \"group\" || conversation.type === \"broadcast\") {\r\n    const messageSender = getMessageSender(conversation);\r\n    \r\n    if (messageSender && shouldShowMessageSender(message, conversation.type)) {\r\n      const senderName = messageSender._id === currentUser?._id \r\n        ? \"You\" \r\n        : messageSender.name?.split(\" \")[0] || \"Someone\";\r\n      \r\n      return `${senderName}: ${previewText}`;\r\n    }\r\n  }\r\n  \r\n  return previewText;\r\n};\r\n\r\n  // Filter conversations - show all when not searching\r\n  const displayedConversations = searchQuery.trim() && searchResults.length > 0 \r\n    ? [] \r\n    : conversations;\r\n\r\n  // Sort conversations by activity (most recent first)\r\n  const sortedConversations = [...displayedConversations].sort((a, b) => {\r\n    const aTime = new Date(a.updatedAt || a.createdAt || 0);\r\n    const bTime = new Date(b.updatedAt || b.createdAt || 0);\r\n    return bTime - aTime;\r\n  });\r\n\r\n  // Handle logout\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logoutUser();\r\n    } catch (error) {\r\n      console.error('Logout failed:', error);\r\n    }\r\n  };\r\n\r\n  // Enhanced conversation click handler\r\n  const handleConversationClick = (conversation) => {\r\n    setActiveChat(conversation);\r\n    \r\n    // Call mobile callback if provided\r\n    if (typeof onConversationSelect === 'function') {\r\n      onConversationSelect(conversation);\r\n    }\r\n    \r\n    if (typeof onConversationViewed === 'function') {\r\n      onConversationViewed(conversation._id);\r\n    }\r\n  };\r\n\r\n  // Handle delete conversation\r\n  const handleDeleteConversation = (e, conversation) => {\r\n    e.stopPropagation();\r\n    setConversationToDelete(conversation);\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  // Handle modal confirm\r\n  const handleDeleteConfirm = async () => {\r\n    if (!conversationToDelete) return;\r\n    \r\n    try {\r\n      await onDeleteConversation(conversationToDelete._id);\r\n      setShowDeleteModal(false);\r\n      setConversationToDelete(null);\r\n    } catch (error) {\r\n      console.error('Failed to delete conversation:', error);\r\n      alert('Failed to delete conversation. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Handle modal cancel\r\n  const handleDeleteCancel = () => {\r\n    setShowDeleteModal(false);\r\n    setConversationToDelete(null);\r\n  };\r\n\r\n  // Check if user can delete conversation\r\n  const canDeleteConversation = (conversation) => {\r\n    if (conversation.type === 'group' || conversation.type === 'broadcast') {\r\n      // Use the robust admin checking logic\r\n      const adminStatus = isUserAdmin(conversation, currentUser?._id);\r\n      return adminStatus === 'main' || adminStatus === 'admin';\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  // Get total unread count across all conversations\r\n  const totalUnreadCount = conversations.reduce((total, conv) => {\r\n    // Don't count unread messages from blocked conversations\r\n    const blockedStatus = getBlockedStatus(conv, currentUser);\r\n    if (blockedStatus.isBlocked) return total;\r\n    \r\n    // Use the unreadCount from backend API instead of calculating\r\n    return total + (conv.unreadCount || 0);\r\n  }, 0);\r\n\r\n  // Handle new chat menu\r\n  const handleNewChatClick = () => {\r\n    setShowNewChatMenu(!showNewChatMenu);\r\n  };\r\n\r\n  const handleMenuOptionClick = (mode) => {\r\n    setShowNewChatMenu(false);\r\n    onStartConversation(mode);\r\n  };\r\n\r\n  // Close menu when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (showNewChatMenu && !event.target.closest('.new-chat-menu')) {\r\n        setShowNewChatMenu(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [showNewChatMenu]);\r\n\r\n  return (\r\n    <>\r\n      <div className={`w-full md:w-80 h-full flex flex-col ${isDark ? \"bg-gradient-to-b from-gray-900 to-gray-800\" : \"bg-white\"} border-r ${isDark ? \"border-gray-800\" : \"border-gray-200\"}`}>\r\n        {/* Header */}\r\n        <div className={`p-4 border-b ${isDark ? \"border-gray-800\" : \"border-gray-200\"}`}>\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div\r\n              className=\"flex items-center space-x-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700/30 p-2 rounded-lg transition-all duration-200\"\r\n              onClick={() => onProfileClick(currentUser)}\r\n            >\r\n              <div className=\"relative\">\r\n                <div className=\"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\r\n                  <span className=\"text-white text-lg font-semibold\">\r\n                    {currentUser?.avatar || currentUser?.name?.charAt(0).toUpperCase() || \"\"}\r\n                  </span>\r\n                </div>\r\n                {totalUnreadCount > 0 && (\r\n                  <div className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center\">\r\n                    <span className=\"text-white text-xs font-bold\">\r\n                      {totalUnreadCount > 99 ? '99+' : totalUnreadCount}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <h2 className={`font-semibold ${isDark ? \"text-white\" : \"text-gray-900\"}`}>{currentUser?.name || \"User\"}</h2>\r\n                <p className={`text-sm capitalize ${isDark ? \"text-gray-400\" : \"text-gray-500\"}`}>\r\n                  {currentUser?.status || \"Online\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex space-x-2\">\r\n              <button\r\n                onClick={toggleDarkMode}\r\n                className={`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/30 ${isDark ? 'text-yellow-400' : 'text-gray-600'}`}\r\n                title={isDark ? 'Switch to light mode' : 'Switch to dark mode'}\r\n              >\r\n                {isDark ? <Sun className=\"w-5 h-5\" /> : <Moon className=\"w-5 h-5\" />}\r\n              </button>\r\n              \r\n              {/* New Chat Menu */}\r\n              <div className=\"relative new-chat-menu\">\r\n                <button\r\n                  onClick={handleNewChatClick}\r\n                  className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/30 transition-colors group\"\r\n                  title=\"Start new conversation\"\r\n                >\r\n                  <Plus className={`w-5 h-5 transition-all ${showNewChatMenu ? 'rotate-45' : ''} group-hover:text-blue-500`} />\r\n                </button>\r\n                \r\n                {/* Dropdown Menu */}\r\n                {showNewChatMenu && (\r\n                  <div className={`absolute right-0 top-full mt-2 w-52 rounded-lg shadow-lg border z-50 ${\r\n                    isDark ? 'bg-gray-700 border-gray-800' : 'bg-white border-gray-200'\r\n                  }`}>\r\n                    <div className=\"py-2\">\r\n                      <button\r\n                        onClick={() => handleMenuOptionClick('direct')}\r\n                        className={`w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700/40 transition-colors flex items-center space-x-3 ${\r\n                          isDark ? 'text-white' : 'text-gray-700'\r\n                        }`}\r\n                      >\r\n                        <UserPlus className=\"w-4 h-4\" />\r\n                        <span>Direct Message</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleMenuOptionClick('group')}\r\n                        className={`w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700/40 transition-colors flex items-center space-x-3 ${\r\n                          isDark ? 'text-white' : 'text-gray-700'\r\n                        }`}\r\n                      >\r\n                        <Users className=\"w-4 h-4\" />\r\n                        <span>Create Group</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleMenuOptionClick('broadcast')}\r\n                        className={`w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700/40 transition-colors flex items-center space-x-3 ${\r\n                          isDark ? 'text-white' : 'text-gray-700'\r\n                        }`}\r\n                      >\r\n                        <Radio className=\"w-4 h-4\" />\r\n                        <span>Broadcast Channel</span>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/30 text-gray-600 dark:text-gray-400\"\r\n                title=\"Logout\"\r\n              >\r\n                <LogOut className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Enhanced Search */}\r\n          <div className=\"space-y-2\">\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-400\" />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search messages and users...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className={`w-full pl-10 pr-10 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\r\n                  isDark\r\n                    ? \"bg-gray-800/50 border-gray-800 text-white placeholder-gray-400 backdrop-blur-sm\"\r\n                    : \"bg-gray-50 border-gray-300\"\r\n                }`}\r\n              />\r\n              {searchQuery && (\r\n                <button\r\n                  onClick={clearSearch}\r\n                  className=\"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700/40 transition-all duration-200\"\r\n                >\r\n                  <X className=\"w-3 h-3\" />\r\n                </button>\r\n              )}\r\n              {(searchQuery || searchResults.length > 0) && (\r\n                <button\r\n                  onClick={() => setShowSearchFilters(!showSearchFilters)}\r\n                  className={`absolute right-8 top-1/2 transform -translate-y-1/2 p-1 rounded transition-colors ${\r\n                    showSearchFilters ? 'text-blue-500' : 'text-gray-400 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300'\r\n                  }`}\r\n                >\r\n                  <Filter className=\"w-3 h-3\" />\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {/* Search Filters */}\r\n            {showSearchFilters && (\r\n              <div className={`p-3 rounded-lg border ${\r\n                isDark ? 'bg-gray-700/50 border-gray-800 backdrop-blur-sm' : 'bg-gray-50 border-gray-200'\r\n              }`}>\r\n                <div className=\"flex space-x-2 text-xs\">\r\n                  {[\r\n                    { key: 'all', label: 'All' },\r\n                    { key: 'users', label: 'Conversations' },\r\n                    { key: 'messages', label: 'Messages' }\r\n                  ].map((mode) => (\r\n                    <button\r\n                      key={mode.key}\r\n                      onClick={() => setSearchMode(mode.key)}\r\n                      className={`px-2 py-1 rounded transition-colors ${\r\n                        searchMode === mode.key\r\n                          ? 'bg-blue-500 text-white'\r\n                          : isDark\r\n                          ? 'bg-gray-600 text-gray-300 hover:bg-gray-500'\r\n                          : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n                      }`}\r\n                    >\r\n                      {mode.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Search History */}\r\n            {!searchQuery && searchHistory.length > 0 && (\r\n              <div className={`text-xs ${isDark ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                Recent: {searchHistory.slice(0, 3).map((term, index) => (\r\n                  <button\r\n                    key={index}\r\n                    onClick={() => setSearchQuery(term)}\r\n                    className=\"ml-1 px-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700/40\"\r\n                  >\r\n                    {term}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n\r\n        {/* Search Results or Conversations */}\r\n        <div className={`flex-1 overflow-y-auto border-r ${isDark ? \"border-gray-800\" : \"border-gray-200\"}`}>\r\n          {isSearching && (\r\n            <div className=\"p-4 text-center\">\r\n              <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto mb-2\"></div>\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">Searching...</p>\r\n            </div>\r\n          )}\r\n\r\n          {searchQuery && searchResults.length === 0 && !isSearching && (\r\n            <div className=\"p-4 text-center text-gray-500 dark:text-gray-400\">\r\n              <Search className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\r\n              <p>No results found</p>\r\n              <p className=\"text-xs mt-1\">Try different keywords</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Search Results */}\r\n          {searchQuery && searchResults.length > 0 && (\r\n            <div className=\"p-2\">\r\n              <div className=\"text-xs text-gray-500 dark:text-gray-400 px-2 py-1 mb-2\">\r\n                {searchResults.length} result{searchResults.length !== 1 ? 's' : ''} found\r\n              </div>\r\n              {searchResults.map((result, index) => (\r\n                <div\r\n                  key={`${result.type}-${index}`}\r\n                  onClick={() => handleSearchResultClick(result)}\r\n                  className={`p-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/40 rounded-lg mb-1 transition-colors ${\r\n                    activeChat?._id === result.conversation._id ? 'bg-blue-50 dark:bg-gray-700/50' : ''\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-start space-x-3\">\r\n                    <div className=\"relative flex-shrink-0\">\r\n                      {result.type === 'user' ? (\r\n                        <>\r\n                          <div className={`w-10 h-10 rounded-full flex items-center justify-center ${\r\n                            result.conversation.type === 'broadcast'\r\n                              ? 'bg-gradient-to-r from-purple-500 to-pink-600'\r\n                              : result.conversation.type === 'group'\r\n                              ? 'bg-gradient-to-r from-green-500 to-teal-600'\r\n                              : 'bg-gradient-to-r from-blue-500 to-purple-600'\r\n                          }`}>\r\n                            <span className=\"text-white text-sm font-semibold\">\r\n                              {result.conversation.avatar || result.conversation.name?.charAt(0).toUpperCase() || \r\n                               result.user?.avatar || result.user?.name?.charAt(0).toUpperCase() || \"\"}\r\n                            </span>\r\n                          </div>\r\n                          {result.isOnline && result.conversation.type === 'direct' && (\r\n                            <div className=\"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-800\"></div>\r\n                          )}\r\n                        </>\r\n                      ) : (\r\n                        <div className=\"w-8 h-8 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mt-1\">\r\n                          <MessageSquare className=\"w-4 h-4 text-green-600 dark:text-green-400\" />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center space-x-2 mb-1\">\r\n                        <span className={`text-xs font-medium px-2 py-1 rounded-full ${\r\n                          result.type === 'user' \r\n                            ? result.conversation.type === 'broadcast'\r\n                              ? 'bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400'\r\n                              : result.conversation.type === 'group'\r\n                              ? 'bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400'\r\n                              : 'bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400'\r\n                            : 'bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400'\r\n                        }`}>\r\n                          {result.type === 'user' ? \r\n                            result.conversation.type === 'broadcast' ? 'Channel' :\r\n                            result.conversation.type === 'group' ? 'Group' : 'User'\r\n                            : 'Message'\r\n                          }\r\n                        </span>\r\n                        {result.type === 'user' && result.isOnline && result.conversation.type === 'direct' && (\r\n                          <span className=\"text-xs text-green-500 font-medium\">Online</span>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      {result.type === 'user' ? (\r\n                        <>\r\n                          <h4 className={`font-medium text-sm ${isDark ? \"text-white\" : \"text-gray-900\"} truncate`} title={result.conversation.name || result.user?.name || 'Unknown'}>\r\n                            {(() => {\r\n                              const name = result.conversation.name || result.user?.name || 'Unknown';\r\n                              return name.length > 20 ? `${name.substring(0, 20)}...` : name;\r\n                            })()}\r\n                          </h4>\r\n                          {result.conversation.type === 'direct' && result.user?.email && (\r\n                            <p className=\"text-xs text-gray-500 dark:text-gray-400 truncate\">\r\n                              {result.user.email}\r\n                            </p>\r\n                          )}\r\n                          <p className=\"text-xs text-gray-600 dark:text-gray-300 mt-1\">\r\n                            Latest: {result.preview}\r\n                          </p>\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <div className=\"flex items-center space-x-2 mb-1\">\r\n                            <h4 className={`font-medium text-sm ${isDark ? \"text-white\" : \"text-gray-900\"} truncate`} title={result.user?.name || 'Unknown User'}>\r\n                              {(() => {\r\n                                const name = result.user?.name || 'Unknown User';\r\n                                return name.length > 20 ? `${name.substring(0, 20)}...` : name;\r\n                              })()}\r\n                            </h4>\r\n                            <span className=\"text-xs text-gray-400 dark:text-gray-400\">in</span>\r\n                            <span className=\"text-xs text-gray-500 dark:text-gray-400 truncate\" title={getConversationInfo(result.conversation).name}>\r\n                              {(() => {\r\n                                const name = getConversationInfo(result.conversation).name;\r\n                                return name.length > 20 ? `${name.substring(0, 20)}...` : name;\r\n                              })()}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"text-xs text-gray-500 dark:text-gray-400 mb-1\">\r\n                            <Calendar className=\"w-3 h-3 inline mr-1\" />\r\n                            {formatTime(result.message.createdAt)}\r\n                          </div>\r\n                          <p className=\"text-sm text-gray-700 dark:text-gray-200\">\r\n                            {result.preview.split('**').map((part, i) => \r\n                              i % 2 === 1 ? <mark key={i} className=\"bg-yellow-200 dark:bg-yellow-600 px-1 rounded\">{part}</mark> : part\r\n                            )}\r\n                          </p>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* Regular Conversations */}\r\n          {!searchQuery && sortedConversations.length === 0 && (\r\n            <div className=\"p-4 text-center text-gray-500 dark:text-gray-400\">\r\n              <MessageSquare className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\r\n              <p>No conversations yet</p>\r\n              <p className=\"text-sm mt-1\">Start a new conversation to get started!</p>\r\n            </div>\r\n          )}\r\n\r\n          {!searchQuery && sortedConversations.map((conversation) => {\r\n            const convInfo = getConversationInfo(conversation);\r\n            const messageSender = getMessageSender(conversation);\r\n            const unreadCount = conversation.unreadCount || 0; // Use backend unread count\r\n            const isActive = activeChat?._id === conversation._id;\r\n            const lastMessagePreview = getLastMessagePreview(conversation);\r\n            const blockedStatus = getBlockedStatus(conversation, currentUser);\r\n\r\n            return (\r\n              <div\r\n                key={conversation._id}\r\n                onClick={() => handleConversationClick(conversation)}\r\n                className={`p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/20 border-b ${isDark ? \"border-gray-800/50\" : \"border-gray-100\"} transition-all duration-200 group ${\r\n                  isActive ? \"bg-blue-50 dark:bg-blue-900/20 border-r-4 border-r-blue-500\" : \"\"\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center space-x-3\">\r\n                  {/* Avatar with blocked/online indicator */}\r\n                  <div className=\"relative\">\r\n                    <div className={`w-12 h-12 rounded-full flex items-center justify-center ${\r\n                      convInfo.isBroadcast\r\n                        ? \"bg-gradient-to-r from-purple-500 to-pink-600\"\r\n                        : convInfo.isGroup\r\n                        ? \"bg-gradient-to-r from-green-500 to-teal-600\"\r\n                        : \"bg-gradient-to-r from-blue-500 to-purple-600\"\r\n                    }`}>\r\n                      <span className=\"text-white text-lg font-semibold\">\r\n                        {convInfo.avatar}\r\n                      </span>\r\n                    </div>\r\n\r\n                    {/* Show blocked indicator instead of online indicator for direct chats */}\r\n                    {conversation.type === 'direct' && blockedStatus.isBlocked ? (\r\n                      <div className=\"absolute -bottom-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white dark:border-gray-800 flex items-center justify-center\">\r\n                        <UserX className=\"w-2.5 h-2.5 text-white\" />\r\n                      </div>\r\n                    ) : conversation.type === 'direct' && convInfo.isOnline ? (\r\n                      <div className=\"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white dark:border-gray-800\"></div>\r\n                    ) : null}\r\n\r\n                    {/* Hide unread count if blocked */}\r\n                    {unreadCount > 0 && !blockedStatus.isBlocked && (\r\n                      <div className=\"absolute -top-2 -right-2 min-w-5 h-5 bg-red-500 rounded-full flex items-center justify-center px-1\">\r\n                        <span className=\"text-white text-xs font-bold\">\r\n                          {unreadCount > 99 ? '99+' : unreadCount}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Conversation info with blocked status */}\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <h3 className={`font-semibold flex items-center space-x-1 flex-1 min-w-0 ${isDark ? \"text-white\" : \"text-gray-900\"}`}>\r\n                        <span className={`${isDark ? \"text-white\" : \"text-gray-900\"} truncate min-w-0`} title={convInfo.name}>\r\n                          {convInfo.name && convInfo.name.length > 20 \r\n                            ? `${convInfo.name.substring(0, 20)}...` \r\n                            : convInfo.name}\r\n                        </span>\r\n                        {/* Admin crown for group/broadcast admins */}\r\n                        {(conversation.type === \"group\" || conversation.type === \"broadcast\") && \r\n                          (() => {\r\n                            const adminStatus = isUserAdmin(conversation, currentUser?._id);\r\n                            if (adminStatus === 'main') {\r\n                              return (\r\n                                <Crown \r\n                                  className=\"w-3 h-3 text-yellow-500 fill-current flex-shrink-0\" \r\n                                  title=\"You are the main administrator\" \r\n                                />\r\n                              );\r\n                            } else if (adminStatus === 'admin') {\r\n                              return (\r\n                                <Crown \r\n                                  className=\"w-3 h-3 text-yellow-400 flex-shrink-0\" \r\n                                  title=\"You are an administrator\" \r\n                                  fill=\"none\"\r\n                                  stroke=\"currentColor\"\r\n                                />\r\n                              );\r\n                            }\r\n                            return null;\r\n                          })()}\r\n                      </h3>\r\n                      \r\n                      {/* Last message timestamp - positioned at extreme right */}\r\n                      {conversation.lastMessage?.timestamp && (\r\n                        <span className={`text-xs flex-shrink-0 ml-2 ${\r\n                          unreadCount > 0 && !blockedStatus.isBlocked\r\n                            ? 'text-blue-500 dark:text-blue-400 font-medium' \r\n                            : 'text-gray-500 dark:text-gray-400'\r\n                        }`}>\r\n                          {formatTime(conversation.lastMessage.timestamp)}\r\n                        </span>\r\n                      )}\r\n                      \r\n                      {/* Delete button (only for admins of groups/broadcasts or all participants for direct) */}\r\n                      {canDeleteConversation(conversation) && (\r\n                        <button\r\n                          onClick={(e) => handleDeleteConversation(e, conversation)}\r\n                            className=\"opacity-0 group-hover:opacity-100 p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/50 text-red-500 hover:text-red-700 transition-all duration-200 flex-shrink-0 ml-1\"\r\n                          title={`Delete ${convInfo.isBroadcast ? 'channel' : convInfo.isGroup ? 'group' : 'conversation'}`}\r\n                        >\r\n                          <Trash2 className=\"w-3 h-3\" />\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <p className={`text-sm truncate ${\r\n                        unreadCount > 0 && !blockedStatus.isBlocked\r\n                          ? 'text-gray-700 dark:text-gray-200 font-medium' \r\n                          : 'text-gray-500 dark:text-gray-400'\r\n                      }`}>\r\n                        {/* Show blocked status or last message */}\r\n                        { conversation.lastMessage ? (\r\n                          <>\r\n                            <span className=\"ml-1\" title={lastMessagePreview}>\r\n                              {lastMessagePreview}\r\n                            </span>\r\n                          </>\r\n                        ) : (\r\n                          <span className=\"italic\">\r\n                            {convInfo.isBroadcast ? \"No announcements yet\" : \"No messages yet\"}\r\n                          </span>\r\n                        )}\r\n                      </p>\r\n                    </div>\r\n\r\n                    {/* Conversation status/info */}\r\n                    <div className=\"flex items-center justify-between mt-1\">\r\n                      <p className=\"text-xs text-gray-400 dark:text-gray-400\">\r\n                        {convInfo.status}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Footer with total unread indicator */}\r\n        {totalUnreadCount > 0 && (\r\n          <div className={`p-3 border-t ${isDark ? \"border-gray-800/50\" : \"border-gray-200\"} border-r ${\r\n            isDark ? 'bg-gray-800/50 backdrop-blur-sm border-gray-800' : 'bg-gray-50 border-gray-200'\r\n          }`}>\r\n            <div className=\"flex items-center justify-center space-x-2\">\r\n              <div className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></div>\r\n              <span className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                {totalUnreadCount} unread message{totalUnreadCount > 1 ? 's' : ''}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Delete Conversation Modal */}\r\n      {showDeleteModal && conversationToDelete && (\r\n        <DeleteModal\r\n          isDark={isDark}\r\n          onConfirm={handleDeleteConfirm}\r\n          onCancel={handleDeleteCancel}\r\n          type=\"conversation\"\r\n          conversationName={getConversationInfo(conversationToDelete).name}\r\n          conversationType={conversationToDelete.type}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Sidebar;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 20h9', key: 't2du7b' }],\n  [\n    'path',\n    {\n      d: 'M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z',\n      key: '1ykcvy',\n    },\n  ],\n];\n\n/**\n * @component @name PenLine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjBoOSIgLz4KICA8cGF0aCBkPSJNMTYuMzc2IDMuNjIyYTEgMSAwIDAgMSAzLjAwMiAzLjAwMkw3LjM2OCAxOC42MzVhMiAyIDAgMCAxLS44NTUuNTA2bC0yLjg3Mi44MzhhLjUuNSAwIDAgMS0uNjItLjYybC44MzgtMi44NzJhMiAyIDAgMCAxIC41MDYtLjg1NHoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/pen-line\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenLine = createLucideIcon('pen-line', __iconNode);\n\nexport default PenLine;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '8', r: '5', key: '1hypcn' }],\n  ['path', { d: 'M20 21a8 8 0 0 0-16 0', key: 'rfgkzh' }],\n];\n\n/**\n * @component @name UserRound\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjgiIHI9IjUiIC8+CiAgPHBhdGggZD0iTTIwIDIxYTggOCAwIDAgMC0xNiAwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/user-round\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserRound = createLucideIcon('user-round', __iconNode);\n\nexport default UserRound;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n];\n\n/**\n * @component @name UserMinus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-minus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserMinus = createLucideIcon('user-minus', __iconNode);\n\nexport default UserMinus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n];\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('shield', __iconNode);\n\nexport default Shield;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z',\n      key: '1qme2f',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Settings\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuMjIgMmgtLjQ0YTIgMiAwIDAgMC0yIDJ2LjE4YTIgMiAwIDAgMS0xIDEuNzNsLS40My4yNWEyIDIgMCAwIDEtMiAwbC0uMTUtLjA4YTIgMiAwIDAgMC0yLjczLjczbC0uMjIuMzhhMiAyIDAgMCAwIC43MyAyLjczbC4xNS4xYTIgMiAwIDAgMSAxIDEuNzJ2LjUxYTIgMiAwIDAgMS0xIDEuNzRsLS4xNS4wOWEyIDIgMCAwIDAtLjczIDIuNzNsLjIyLjM4YTIgMiAwIDAgMCAyLjczLjczbC4xNS0uMDhhMiAyIDAgMCAxIDIgMGwuNDMuMjVhMiAyIDAgMCAxIDEgMS43M1YyMGEyIDIgMCAwIDAgMiAyaC40NGEyIDIgMCAwIDAgMi0ydi0uMThhMiAyIDAgMCAxIDEtMS43M2wuNDMtLjI1YTIgMiAwIDAgMSAyIDBsLjE1LjA4YTIgMiAwIDAgMCAyLjczLS43M2wuMjItLjM5YTIgMiAwIDAgMC0uNzMtMi43M2wtLjE1LS4wOGEyIDIgMCAwIDEtMS0xLjc0di0uNWEyIDIgMCAwIDEgMS0xLjc0bC4xNS0uMDlhMiAyIDAgMCAwIC43My0yLjczbC0uMjItLjM4YTIgMiAwIDAgMC0yLjczLS43M2wtLjE1LjA4YTIgMiAwIDAgMS0yIDBsLS40My0uMjVhMiAyIDAgMCAxLTEtMS43M1Y0YTIgMiAwIDAgMC0yLTJ6IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/settings\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings = createLucideIcon('settings', __iconNode);\n\nexport default Settings;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21',\n      key: 'g5wo59',\n    },\n  ],\n  ['path', { d: 'm5.082 11.09 8.828 8.828', key: '1wx5vj' }],\n];\n\n/**\n * @component @name Eraser\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMjFIOGEyIDIgMCAwIDEtMS40Mi0uNTg3bC0zLjk5NC0zLjk5OWEyIDIgMCAwIDEgMC0yLjgyOGwxMC0xMGEyIDIgMCAwIDEgMi44MjkgMGw1Ljk5OSA2YTIgMiAwIDAgMSAwIDIuODI4TDEyLjgzNCAyMSIgLz4KICA8cGF0aCBkPSJtNS4wODIgMTEuMDkgOC44MjggOC44MjgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/eraser\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eraser = createLucideIcon('eraser', __iconNode);\n\nexport default Eraser;\n","// api/users.js\r\nimport sessionManager from '../utils/sessionManager';\r\nimport API_CONFIG from './config';\r\n\r\nexport const usersService = {\r\n  // Search users by name or email\r\n  async searchByEmail(email) {\r\n    const response = await sessionManager.authenticatedRequest(\r\n      `${API_CONFIG.ENDPOINTS.USERS.SEARCH}?email=${encodeURIComponent(email)}`\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Get all users with pagination and search\r\n  async getAllUsers(page = 1, limit = 20, search = '') {\r\n    const params = new URLSearchParams({\r\n      page: page.toString(),\r\n      limit: limit.toString(),\r\n      ...(search && { search })\r\n    });\r\n    \r\n    const response = await sessionManager.authenticatedRequest(\r\n      `${API_CONFIG.ENDPOINTS.USERS.LIST}?${params}`\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Get user profile by ID\r\n  async getUserProfile(userId) {\r\n    const response = await sessionManager.authenticatedRequest(\r\n      API_CONFIG.ENDPOINTS.USERS.GET_PROFILE(userId)\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Get current user's profile\r\n  async getMyProfile() {\r\n    const response = await sessionManager.authenticatedRequest(\r\n      API_CONFIG.ENDPOINTS.USERS.GET_PROFILE('me')\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Update user profile (current user only)\r\n  async updateProfile(userData) {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        API_CONFIG.ENDPOINTS.USERS.UPDATE_PROFILE, \r\n        {\r\n          method: 'PUT',\r\n          body: JSON.stringify(userData)\r\n        }\r\n      );\r\n      \r\n      return await response.json();\r\n    } catch (error) {\r\n      // Enhanced error handling for profile updates\r\n      if (error.response?.status === 400) {\r\n        const errorMessage = error.response.data?.message || 'Invalid profile data';\r\n        const validationErrors = error.response.data?.errors || [];\r\n        \r\n        throw new Error(validationErrors.length > 0 \r\n          ? validationErrors.map(err => err.msg).join(', ')\r\n          : errorMessage\r\n        );\r\n      }\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Update specific profile fields (partial update)\r\n  async updateProfileFields(fields) {\r\n    // Filter out undefined/null values and empty strings\r\n    const cleanFields = Object.entries(fields).reduce((acc, [key, value]) => {\r\n      if (value !== undefined && value !== null && value !== '') {\r\n        acc[key] = value;\r\n      }\r\n      return acc;\r\n    }, {});\r\n\r\n    return this.updateProfile(cleanFields);\r\n  },\r\n\r\n  // Update user avatar/profile picture\r\n  async updateAvatar(avatarData) {\r\n    const response = await sessionManager.authenticatedRequest(\r\n      API_CONFIG.ENDPOINTS.USERS.UPDATE_AVATAR || `${API_CONFIG.ENDPOINTS.USERS.UPDATE_PROFILE}/avatar`,\r\n      {\r\n        method: 'PUT',\r\n        body: JSON.stringify(avatarData)\r\n      }\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Get online users\r\n  async getOnlineUsers() {\r\n    const response = await sessionManager.authenticatedRequest(\r\n      API_CONFIG.ENDPOINTS.USERS.ONLINE_STATUS || '/users/online'\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Update user status (online, away, offline, busy)\r\n  async updateStatus(status) {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        API_CONFIG.ENDPOINTS.USERS.UPDATE_STATUS, \r\n        {\r\n          method: 'PUT',\r\n          body: JSON.stringify({ status })\r\n        }\r\n      );\r\n      return await response.json();\r\n    } catch (error) {\r\n      if (error.response?.status === 400) {\r\n        throw new Error(error.response.data?.message || 'Invalid status value');\r\n      }\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Create or get direct conversation with a user\r\n  async createConversation(userId) {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        API_CONFIG.ENDPOINTS.USERS.CREATE_CONVERSATION(userId),\r\n        { method: 'POST' }\r\n      );\r\n      return await response.json();\r\n    } catch (error) {\r\n      if (error.response?.status === 404) {\r\n        throw new Error('User not found');\r\n      }\r\n      if (error.response?.status === 400) {\r\n        throw new Error(error.response.data?.message || 'Cannot create conversation');\r\n      }\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get mutual conversations with a user\r\n  async getMutualConversations(userId) {\r\n    const response = await sessionManager.authenticatedRequest(\r\n      API_CONFIG.ENDPOINTS.USERS.MUTUAL_CONVERSATIONS(userId)\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Get user's contacts (users they've chatted with)\r\n  async getContacts() {\r\n    const response = await sessionManager.authenticatedRequest(\r\n      API_CONFIG.ENDPOINTS.USERS.CONTACTS\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Block or unblock a user\r\n  async blockUser(userId, blocked = true) {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        API_CONFIG.ENDPOINTS.USERS.BLOCK_USER(userId),\r\n        {\r\n          method: 'PUT',\r\n          body: JSON.stringify({ blocked })\r\n        }\r\n      );\r\n      return await response.json();\r\n    } catch (error) {\r\n      if (error.response?.status === 404) {\r\n        throw new Error('User not found');\r\n      }\r\n      if (error.response?.status === 400) {\r\n        throw new Error(error.response.data?.message || 'Cannot block/unblock user');\r\n      }\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Unblock a user (convenience method)\r\n  async unblockUser(userId) {\r\n    return this.blockUser(userId, false);\r\n  },\r\n\r\n  // Search users with additional filters\r\n  async searchUsers(query, limit = 10) {\r\n    const params = new URLSearchParams({\r\n      q: query,\r\n      limit: limit.toString()\r\n    });\r\n    \r\n    const response = await sessionManager.authenticatedRequest(\r\n      `${API_CONFIG.ENDPOINTS.USERS.SEARCH}?${params}`\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Advanced search with multiple criteria\r\n  async advancedSearch(criteria) {\r\n    const { query, status, page = 1, limit = 20 } = criteria;\r\n    const params = new URLSearchParams({\r\n      page: page.toString(),\r\n      limit: limit.toString(),\r\n      ...(query && { search: query }),\r\n      ...(status && { status })\r\n    });\r\n    \r\n    const response = await sessionManager.authenticatedRequest(\r\n      `${API_CONFIG.ENDPOINTS.USERS.LIST}?${params}`\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Get user's blocked list\r\n  async getBlockedUsers() {\r\n    const response = await sessionManager.authenticatedRequest(\r\n      API_CONFIG.ENDPOINTS.USERS.BLOCKED_USERS || `${API_CONFIG.ENDPOINTS.USERS.CONTACTS}/blocked`\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Validate profile data before sending\r\n  validateProfileData(userData) {\r\n    const errors = [];\r\n\r\n    if (userData.name !== undefined) {\r\n      if (!userData.name || userData.name.trim().length === 0) {\r\n        errors.push('Name is required');\r\n      } else if (userData.name.length > 50) {\r\n        errors.push('Name must not exceed 50 characters');\r\n      }\r\n    }\r\n\r\n    if (userData.email !== undefined) {\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n      if (!userData.email || !emailRegex.test(userData.email)) {\r\n        errors.push('Please enter a valid email address');\r\n      }\r\n    }\r\n\r\n    if (userData.bio !== undefined && userData.bio.length > 500) {\r\n      errors.push('Bio must not exceed 500 characters');\r\n    }\r\n\r\n    if (userData.phone !== undefined && userData.phone) {\r\n      const phoneRegex = /^[\\+]?[1-9][\\d]{0,15}$/;\r\n      if (!phoneRegex.test(userData.phone)) {\r\n        errors.push('Please enter a valid phone number');\r\n      }\r\n    }\r\n\r\n    if (userData.status !== undefined) {\r\n      const validStatuses = ['online', 'away', 'offline', 'busy'];\r\n      if (!validStatuses.includes(userData.status)) {\r\n        errors.push('Status must be online, away, offline, or busy');\r\n      }\r\n    }\r\n\r\n    return {\r\n      isValid: errors.length === 0,\r\n      errors\r\n    };\r\n  },\r\n\r\n  // Update profile with client-side validation\r\n  async updateProfileWithValidation(userData) {\r\n    const validation = this.validateProfileData(userData);\r\n    \r\n    if (!validation.isValid) {\r\n      throw new Error(validation.errors.join(', '));\r\n    }\r\n\r\n    return this.updateProfile(userData);\r\n  },\r\n\r\n  // Refresh user data\r\n  async refreshUserData(userId = 'me') {\r\n    return this.getUserProfile(userId);\r\n  },\r\n\r\n  // Check if email is available\r\n  async checkEmailAvailability(email) {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `${API_CONFIG.ENDPOINTS.USERS.CHECK_EMAIL || `${API_CONFIG.ENDPOINTS.USERS.LIST}/check-email`}?email=${encodeURIComponent(email)}`\r\n      );\r\n      return await response.json();\r\n    } catch (error) {\r\n      if (error.response?.status === 409) {\r\n        return { available: false, message: 'Email is already in use' };\r\n      }\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Upload profile picture\r\n  async uploadProfilePicture(file) {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('avatar', file);\r\n\r\n      const session = sessionManager.getCurrentSession();\r\n      const response = await fetch(`${API_CONFIG.ENDPOINTS.USERS.UPLOAD_AVATAR || '/users/me/avatar'}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${session.accessToken}`\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Upload failed');\r\n      }\r\n\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Profile picture upload failed:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get user statistics\r\n  async getUserStats(userId = 'me') {\r\n    const response = await sessionManager.authenticatedRequest(\r\n      `${API_CONFIG.ENDPOINTS.USERS.STATS || `/users/${userId}/stats`}`\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Get user activity\r\n  async getUserActivity(userId = 'me', days = 30) {\r\n    const response = await sessionManager.authenticatedRequest(\r\n      `${API_CONFIG.ENDPOINTS.USERS.ACTIVITY || `/users/${userId}/activity`}?days=${days}`\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Report user\r\n  async reportUser(userId, reason, description = '') {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        API_CONFIG.ENDPOINTS.USERS.REPORT_USER(userId),\r\n        {\r\n          method: 'POST',\r\n          body: JSON.stringify({ reason, description })\r\n        }\r\n      );\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Report user failed:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get user preferences\r\n  async getUserPreferences() {\r\n    const response = await sessionManager.authenticatedRequest(\r\n      API_CONFIG.ENDPOINTS.USERS.PREFERENCES || '/users/me/preferences'\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Update user preferences\r\n  async updateUserPreferences(preferences) {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        API_CONFIG.ENDPOINTS.USERS.PREFERENCES || '/users/me/preferences',\r\n        {\r\n          method: 'PUT',\r\n          body: JSON.stringify(preferences)\r\n        }\r\n      );\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Update preferences failed:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Delete user account\r\n  async deleteAccount(password) {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        API_CONFIG.ENDPOINTS.USERS.DELETE_ACCOUNT || '/users/me/delete',\r\n        {\r\n          method: 'DELETE',\r\n          body: JSON.stringify({ password })\r\n        }\r\n      );\r\n      \r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        // Clear session after account deletion\r\n        sessionManager.logoutAll();\r\n      }\r\n      \r\n      return result;\r\n    } catch (error) {\r\n      console.error('Delete account failed:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Get user sessions (for session management)\r\n  async getUserSessions() {\r\n    const response = await sessionManager.authenticatedRequest(\r\n      API_CONFIG.ENDPOINTS.USERS.SESSIONS || '/users/me/sessions'\r\n    );\r\n    return await response.json();\r\n  },\r\n\r\n  // Revoke user session\r\n  async revokeSession(sessionId) {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `${API_CONFIG.ENDPOINTS.USERS.SESSIONS || '/users/me/sessions'}/${sessionId}`,\r\n        { method: 'DELETE' }\r\n      );\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Revoke session failed:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Batch operations\r\n  async batchUpdateUsers(userUpdates) {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        API_CONFIG.ENDPOINTS.USERS.BATCH_UPDATE || '/users/batch',\r\n        {\r\n          method: 'PUT',\r\n          body: JSON.stringify({ updates: userUpdates })\r\n        }\r\n      );\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Batch update failed:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Export user data\r\n  async exportUserData() {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        API_CONFIG.ENDPOINTS.USERS.EXPORT_DATA || '/users/me/export'\r\n      );\r\n      \r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.download = 'user-data.json';\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n        window.URL.revokeObjectURL(url);\r\n        \r\n        return { success: true, message: 'Data exported successfully' };\r\n      } else {\r\n        throw new Error('Export failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Export user data failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  X,\r\n  Crown,\r\n  Users,\r\n  Radio,\r\n  Settings,\r\n  UserPlus,\r\n  UserMinus,\r\n  Trash2,\r\n  Edit3,\r\n  Shield,\r\n  Calendar,\r\n  Plus,\r\n  Search,\r\n  User2,\r\n  AlertTriangle,\r\n  Eraser,\r\n} from \"lucide-react\";\r\nimport { formatTime } from \"../../utils/helpers\";\r\nimport { usersService } from \"../../api/users\";\r\n\r\n// Move ConfirmationModal outside as a separate component\r\nconst ConfirmationModal = ({\r\n  isOpen,\r\n  onConfirm,\r\n  onCancel,\r\n  title,\r\n  message,\r\n  confirmText = \"Confirm\",\r\n  cancelText = \"Cancel\",\r\n  type = \"default\",\r\n  isDark,\r\n}) => {\r\n  if (!isOpen) return null;\r\n\r\n  const getTypeStyles = () => {\r\n    switch (type) {\r\n      case \"danger\":\r\n        return {\r\n          iconBg: \"bg-red-100 dark:bg-red-900/50\",\r\n          iconColor: \"text-red-600 dark:text-red-400\",\r\n          confirmButton: \"bg-red-600 hover:bg-red-700 text-white\",\r\n        };\r\n      case \"warning\":\r\n        return {\r\n          iconBg: \"bg-yellow-100 dark:bg-yellow-900/50\",\r\n          iconColor: \"text-yellow-600 dark:text-yellow-400\",\r\n          confirmButton: \"bg-yellow-600 hover:bg-yellow-700 text-white\",\r\n        };\r\n      default:\r\n        return {\r\n          iconBg: \"bg-blue-100 dark:bg-blue-900/50\",\r\n          iconColor: \"text-blue-600 dark:text-blue-400\",\r\n          confirmButton: \"bg-blue-600 hover:bg-blue-700 text-white\",\r\n        };\r\n    }\r\n  };\r\n\r\n  const styles = getTypeStyles();\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4\"\r\n      onClick={onCancel}\r\n    >\r\n      <div\r\n        className={`max-w-md w-full rounded-lg shadow-xl backdrop-blur-md ${\r\n          isDark ? \"bg-gray-800/90 text-white\" : \"bg-white\"\r\n        }`}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"p-6\">\r\n          <div className=\"flex items-center space-x-3 mb-4\">\r\n            <div\r\n              className={`w-10 h-10 rounded-full flex items-center justify-center ${styles.iconBg}`}\r\n            >\r\n              <AlertTriangle className={`w-5 h-5 ${styles.iconColor}`} />\r\n            </div>\r\n            <h3 className=\"text-lg font-semibold\">{title}</h3>\r\n          </div>\r\n          <p className=\"text-gray-600 dark:text-gray-300 mb-6\">{message}</p>\r\n          <div className=\"flex space-x-3 justify-end\">\r\n            <button\r\n              onClick={onCancel}\r\n              className={`px-4 py-2 rounded-lg border transition-colors ${\r\n                isDark\r\n                  ? \"border-gray-600 hover:bg-gray-700/30 backdrop-blur-sm text-gray-300\"\r\n                  : \"border-gray-300 hover:bg-gray-50 text-gray-700\"\r\n              }`}\r\n            >\r\n              {cancelText}\r\n            </button>\r\n            <button\r\n              onClick={onConfirm}\r\n              className={`px-4 py-2 rounded-lg transition-colors ${styles.confirmButton}`}\r\n            >\r\n              {confirmText}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ChatInfoModal = ({\r\n  conversation,\r\n  currentUser,\r\n  isAdmin,\r\n  isDark,\r\n  onClose,\r\n  onUpdateConversation,\r\n  onDeleteConversation,\r\n  onAddParticipant,\r\n  onRemoveParticipant,\r\n  onAddAdmin,\r\n  onRemoveAdmin,\r\n  onClearChat,\r\n  onHideChat,\r\n  onDeleteChat,\r\n}) => {\r\n  const [activeTab, setActiveTab] = useState(\"info\");\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editForm, setEditForm] = useState({\r\n    name: conversation.name || \"\",\r\n    description: conversation.description || \"\",\r\n    avatar: conversation.avatar || \"\",\r\n  });\r\n  const [confirmModal, setConfirmModal] = useState({\r\n    isOpen: false,\r\n    title: \"\",\r\n    message: \"\",\r\n    onConfirm: () => {},\r\n    type: \"default\",\r\n    confirmText: \"Confirm\",\r\n    cancelText: \"Cancel\",\r\n  });\r\n\r\n  // Add participant state\r\n  const [showAddParticipant, setShowAddParticipant] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [searching, setSearching] = useState(false);\r\n\r\n  useEffect(() => {\r\n  console.log(' Conversation data format check:', {\r\n    admin: conversation.admin,\r\n    adminType: typeof conversation.admin,\r\n    admins: conversation.admins,\r\n    adminsTypes: conversation.admins?.map(admin => ({\r\n      admin,\r\n      type: typeof admin,\r\n      hasId: admin?._id ? 'yes' : 'no'\r\n    }))\r\n  });\r\n}, [conversation.admin, conversation.admins]);\r\n\r\n  const isMainAdmin = (conversation.admin === currentUser._id || conversation.admin.id === currentUser._id);\r\n  const isBroadcast = (conversation.type === \"broadcast\");\r\n\r\n  // Add these helper functions after the state declarations\r\n  const showConfirmation = (config) => {\r\n    setConfirmModal({\r\n      isOpen: true,\r\n      ...config,\r\n    });\r\n  };\r\n\r\n  const hideConfirmation = () => {\r\n    setConfirmModal({\r\n      isOpen: false,\r\n      title: \"\",\r\n      message: \"\",\r\n      onConfirm: () => {},\r\n      type: \"default\",\r\n      confirmText: \"Confirm\",\r\n      cancelText: \"Cancel\",\r\n    });\r\n  };\r\n\r\n  // Fix the isUserAdmin function\r\n// Fix the isUserAdmin function\r\nconst isUserAdmin = (userId) => {\r\n  if (!userId || !conversation) return false;\r\n\r\n  // Check main admin - handle both string and object formats\r\n  const mainAdminId = typeof conversation.admin === 'string' \r\n    ? conversation.admin \r\n    : conversation.admin?._id;\r\n  \r\n  if (mainAdminId === userId) return \"main\";\r\n\r\n  // Check admins array - handle mixed formats\r\n  if (conversation.admins && Array.isArray(conversation.admins)) {\r\n    const isAdminUser = conversation.admins.some((admin) => {\r\n      // Handle both string IDs and objects with _id property\r\n      const adminUserId = typeof admin === 'string' ? admin : admin?._id;\r\n      return adminUserId === userId;\r\n    });\r\n    if (isAdminUser) return \"admin\";\r\n  }\r\n  return false;\r\n};\r\n\r\n  const handleUpdateConversation = async () => {\r\n    try {\r\n      await onUpdateConversation(conversation._id, editForm);\r\n      setIsEditing(false);\r\n    } catch (error) {\r\n      console.error(\"Failed to update conversation:\", error);\r\n    }\r\n  };\r\n\r\n  const handleClearChat = async () => {\r\n    showConfirmation({\r\n      title: \"Clear Chat\",\r\n      message: \"Are you sure you want to clear all messages in this chat? This will only clear the chat for you - other participants will still see all messages.\",\r\n      confirmText: \"Clear Chat\",\r\n      cancelText: \"Cancel\",\r\n      type: \"warning\",\r\n      onConfirm: async () => {\r\n        try {\r\n          await onClearChat(conversation._id);\r\n        } catch (error) {\r\n          console.error(\"Failed to clear chat:\", error);\r\n        }\r\n        hideConfirmation();\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleHideChat = async () => {\r\n    showConfirmation({\r\n      title: \"Hide Chat\",\r\n      message: \"Are you sure you want to hide this conversation? It will disappear from your sidebar but will reappear when someone sends a new message.\",\r\n      confirmText: \"Hide Chat\",\r\n      cancelText: \"Cancel\",\r\n      type: \"warning\",\r\n      onConfirm: async () => {\r\n        try {\r\n          await onHideChat(conversation._id);\r\n          onClose();\r\n        } catch (error) {\r\n          console.error(\"Failed to hide chat:\", error);\r\n        }\r\n        hideConfirmation();\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleDeleteChat = async () => {\r\n    showConfirmation({\r\n      title: \"Delete Chat\",\r\n      message: \"Are you sure you want to delete this conversation? This will clear all messages and hide the chat for you. It will reappear when someone sends a new message, starting fresh from that message.\",\r\n      confirmText: \"Delete Chat\",\r\n      cancelText: \"Cancel\",\r\n      type: \"danger\",\r\n      onConfirm: async () => {\r\n        try {\r\n          await onDeleteChat(conversation._id);\r\n          onClose();\r\n        } catch (error) {\r\n          console.error(\"Failed to delete chat:\", error);\r\n        }\r\n        hideConfirmation();\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleDeleteConversation = async () => {\r\n    showConfirmation({\r\n      title: `Delete ${isBroadcast ? \"Channel\" : \"Group\"}`,\r\n      message: `Are you sure you want to delete this ${\r\n        isBroadcast ? \"channel\" : \"group\"\r\n      }? This action cannot be undone and all messages will be permanently deleted.`,\r\n      confirmText: \"Delete\",\r\n      cancelText: \"Cancel\",\r\n      type: \"danger\",\r\n      onConfirm: async () => {\r\n        try {\r\n          await onDeleteConversation(conversation._id);\r\n          onClose();\r\n        } catch (error) {\r\n          console.error(\"Failed to delete conversation:\", error);\r\n        }\r\n        hideConfirmation();\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleRemoveParticipant = async (participantId) => {\r\n    const participant = conversation.participants?.find(\r\n      (p) => p.user?._id === participantId\r\n    );\r\n    if (!participant) return;\r\n\r\n    const adminStatus = isUserAdmin(participantId);\r\n\r\n    // Cannot remove main admin\r\n    if (adminStatus === \"main\") {\r\n      showConfirmation({\r\n        title: \"Cannot Remove Main Administrator\",\r\n        message: \"The main administrator cannot be removed from the group.\",\r\n        confirmText: \"OK\",\r\n        type: \"warning\",\r\n        onConfirm: hideConfirmation,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // If participant is an admin (but not main admin), require them to be demoted first\r\n    if (adminStatus === \"admin\") {\r\n      showConfirmation({\r\n        title: \"Remove Administrator\",\r\n        message: `${participant.user.name} is an administrator. They must be demoted to a regular member before removal. Do you want to demote them first?`,\r\n        confirmText: \"Demote First\",\r\n        cancelText: \"Cancel\",\r\n        type: \"warning\",\r\n        onConfirm: async () => {\r\n          try {\r\n            await onRemoveAdmin(conversation._id, participantId);\r\n            hideConfirmation();\r\n\r\n            // After successful demotion, ask if they want to remove the participant\r\n            setTimeout(() => {\r\n              showConfirmation({\r\n                title: \"Remove Participant\",\r\n                message: `Admin privileges have been removed from ${\r\n                  participant.user.name\r\n                }. Do you want to remove them from the ${\r\n                  isBroadcast ? \"channel\" : \"group\"\r\n                }?`,\r\n                confirmText: \"Remove\",\r\n                cancelText: \"Keep as Member\",\r\n                type: \"danger\",\r\n                onConfirm: async () => {\r\n                  try {\r\n                    await onRemoveParticipant(conversation._id, participantId);\r\n                  } catch (error) {\r\n                    console.error(\"Failed to remove participant:\", error);\r\n                  }\r\n                  hideConfirmation();\r\n                },\r\n              });\r\n            }, 500);\r\n          } catch (error) {\r\n            console.error(\"Failed to demote admin:\", error);\r\n            hideConfirmation();\r\n          }\r\n        },\r\n      });\r\n      return;\r\n    }\r\n\r\n    // For regular participants\r\n    showConfirmation({\r\n      title: \"Remove Participant\",\r\n      message: `Are you sure you want to remove ${\r\n        participant.user.name\r\n      } from the ${isBroadcast ? \"channel\" : \"group\"}?`,\r\n      confirmText: \"Remove\",\r\n      cancelText: \"Cancel\",\r\n      type: \"danger\",\r\n      onConfirm: async () => {\r\n        try {\r\n          await onRemoveParticipant(conversation._id, participantId);\r\n        } catch (error) {\r\n          console.error(\"Failed to remove participant:\", error);\r\n        }\r\n        hideConfirmation();\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleToggleAdmin = async (participantId) => {\r\n    const participant = conversation.participants?.find(\r\n      (p) => p.user?._id === participantId\r\n    );\r\n    if (!participant) return;\r\n\r\n    const adminStatus = isUserAdmin(participantId);\r\n\r\n    // Only main admin can toggle admin status\r\n    if (!isMainAdmin) {\r\n      showConfirmation({\r\n        title: \"Permission Denied\",\r\n        message: \"Only the main administrator can manage admin privileges.\",\r\n        confirmText: \"OK\",\r\n        type: \"warning\",\r\n        onConfirm: hideConfirmation,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (adminStatus === \"admin\") {\r\n      showConfirmation({\r\n        title: \"Remove Admin Privileges\",\r\n        message: `Are you sure you want to remove admin privileges from ${\r\n          participant.user.name\r\n        }? They will become a regular ${\r\n          isBroadcast ? \"subscriber\" : \"member\"\r\n        }.`,\r\n        confirmText: \"Remove Admin\",\r\n        cancelText: \"Cancel\",\r\n        type: \"warning\",\r\n        onConfirm: async () => {\r\n          try {\r\n            await onRemoveAdmin(conversation._id, participantId);\r\n          } catch (error) {\r\n            console.error(\"Failed to remove admin:\", error);\r\n          }\r\n          hideConfirmation();\r\n        },\r\n      });\r\n    } else if (adminStatus === false) {\r\n      showConfirmation({\r\n        title: \"Promote to Administrator\",\r\n        message: `Are you sure you want to promote ${\r\n          participant.user.name\r\n        } to administrator? They will be able to manage ${\r\n          isBroadcast ? \"subscribers\" : \"members\"\r\n        } and ${isBroadcast ? \"channel\" : \"group\"} settings.`,\r\n        confirmText: \"Make Admin\",\r\n        cancelText: \"Cancel\",\r\n        type: \"default\",\r\n        onConfirm: async () => {\r\n          try {\r\n            await onAddAdmin(conversation._id, participantId);\r\n          } catch (error) {\r\n            console.error(\"Failed to add admin:\", error);\r\n          }\r\n          hideConfirmation();\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  // Search for users to add\r\n  const handleSearchUsers = async (query) => {\r\n    if (!query.trim() || query.length < 2) {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    setSearching(true);\r\n    try {\r\n      const result = await usersService.searchByEmail(query);\r\n      if (result.success && result.users) {\r\n        // Filter out current participants\r\n        const filteredUsers = result.users.filter(\r\n          (user) =>\r\n            !conversation.participants.some((p) => p.user._id === user._id)\r\n        );\r\n        setSearchResults(filteredUsers);\r\n      } else {\r\n        setSearchResults([]);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Search error:\", error);\r\n      setSearchResults([]);\r\n    } finally {\r\n      setSearching(false);\r\n    }\r\n  };\r\n\r\n  // Debounced search\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      if (showAddParticipant) {\r\n        handleSearchUsers(searchQuery);\r\n      }\r\n    }, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [searchQuery, showAddParticipant]);\r\n\r\n  useEffect(() => {\r\n    setEditForm({\r\n      name: conversation.name || \"\",\r\n      description: conversation.description || \"\",\r\n      avatar: conversation.avatar || \"\",\r\n    });\r\n  }, [conversation]);\r\n\r\n  const handleAddParticipantClick = async (user) => {\r\n    showConfirmation({\r\n      title: `Add ${isBroadcast ? \"Subscriber\" : \"Member\"}`,\r\n      message: `Are you sure you want to add ${user.name} to the ${\r\n        isBroadcast ? \"channel\" : \"group\"\r\n      }?`,\r\n      confirmText: \"Add\",\r\n      cancelText: \"Cancel\",\r\n      type: \"default\",\r\n      onConfirm: async () => {\r\n        try {\r\n          await onAddParticipant(conversation._id, user._id);\r\n          setSearchQuery(\"\");\r\n          setSearchResults([]);\r\n          setShowAddParticipant(false);\r\n        } catch (error) {\r\n          console.error(\"Failed to add participant:\", error);\r\n        }\r\n        hideConfirmation();\r\n      },\r\n    });\r\n  };\r\n\r\n  const getParticipantRole = (participant) => {\r\n    const adminRole = isUserAdmin(participant.user._id);\r\n    if (adminRole == \"main\") return \"Main Admin\";\r\n    if (adminRole == \"admin\") return \"Admin\";\r\n    return isBroadcast ? \"Subscriber\" : \"Member\";\r\n  };\r\n\r\n  const getRoleColor = (participant) => {\r\n    const adminStatus = isUserAdmin(participant.user._id);\r\n    if (adminStatus === \"main\")\r\n      return \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200\";\r\n    if (adminStatus === \"admin\")\r\n      return \"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200\";\r\n    return \"bg-gray-100 text-gray-800 dark:bg-gray-700/50 backdrop-blur-sm dark:text-gray-200\";\r\n  };\r\n\r\n  // Sort participants: Main admin first, then admins, then regular members\r\n  const sortedParticipants = [...conversation.participants].sort((a, b) => {\r\n    const aAdminStatus = isUserAdmin(a.user?._id);\r\n    const bAdminStatus = isUserAdmin(b.user?._id);\r\n\r\n    if (aAdminStatus === \"main\") return -1;\r\n    if (bAdminStatus === \"main\") return 1;\r\n    if (aAdminStatus === \"admin\" && bAdminStatus === false) return -1;\r\n    if (bAdminStatus === \"admin\" && aAdminStatus === false) return 1;\r\n\r\n    return a.user.name.localeCompare(b.user.name);\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n        <div\r\n          className={`w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-2xl shadow-2xl backdrop-blur-md ${\r\n            isDark ? \"bg-gray-800/90 text-white\" : \"bg-white\"\r\n          }`}\r\n        >\r\n          {/* Header */}\r\n          {console.log(\"ChatInfo\", conversation)}\r\n          {console.log(\"parts\", conversation.participants)}\r\n          <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-4\">\r\n                <div\r\n                  className={`w-16 h-16 rounded-full flex items-center justify-center text-2xl ${\r\n                    isBroadcast\r\n                      ? \"bg-gradient-to-r from-purple-500 to-pink-600\"\r\n                      : \"bg-gradient-to-r from-green-500 to-teal-600\"\r\n                  }`}\r\n                >\r\n                  {editForm.avatar || conversation.avatar}\r\n                </div>\r\n                <div>\r\n                  {isEditing ? (\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editForm.name}\r\n                      onChange={(e) =>\r\n                        setEditForm({ ...editForm, name: e.target.value })\r\n                      }\r\n                      className={`text-xl font-bold bg-transparent border-b-2 border-blue-500 focus:outline-none ${\r\n                        isDark ? \"text-white\" : \"text-gray-900\"\r\n                      }`}\r\n                      placeholder=\"Enter name\"\r\n                    />\r\n                  ) : (\r\n                    <h2 className=\"text-xl font-bold flex items-center space-x-2\">\r\n                      <span>{conversation.name}</span>\r\n                      {isBroadcast ? (\r\n                        <Radio className=\"w-5 h-5 text-purple-500\" />\r\n                      ) : (\r\n                        <Users className=\"w-5 h-5 text-green-500\" />\r\n                      )}\r\n                      {isAdmin && (\r\n                        <Crown\r\n                          className=\"w-4 h-4 text-yellow-500\"\r\n                          title={isMainAdmin ? \"Main Admin\" : \"Admin\"}\r\n                        />\r\n                      )}\r\n                    </h2>\r\n                  )}\r\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                    {conversation.participants.length}{\" \"}\r\n                    {isBroadcast ? \"subscribers\" : \"members\"}\r\n                    {conversation.admins && conversation.admins.length > 0 && (\r\n                      <span className=\"ml-2\">\r\n                         {1 + conversation.admins.length} admin\r\n                        {conversation.admins.length > 0 ? \"s\" : \"\"}\r\n                      </span>\r\n                    )}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2\">\r\n                {isAdmin && (\r\n                  <button\r\n                    onClick={() => setIsEditing(!isEditing)}\r\n                    className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/30 backdrop-blur-sm transition-colors\"\r\n                    title=\"Edit conversation\"\r\n                  >\r\n                    <Edit3 className=\"w-5 h-5\" />\r\n                  </button>\r\n                )}\r\n                <button\r\n                  onClick={onClose}\r\n                  className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/50 backdrop-blur-sm transition-colors\"\r\n                >\r\n                  <X className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {isEditing && (\r\n              <div className=\"mt-4 space-y-3\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-1\">\r\n                    Description\r\n                  </label>\r\n                  <textarea\r\n                    value={editForm.description}\r\n                    onChange={(e) =>\r\n                      setEditForm({ ...editForm, description: e.target.value })\r\n                    }\r\n                    className={`w-full p-2 rounded-lg border resize-none ${\r\n                      isDark\r\n                        ? \"bg-gray-700/50 backdrop-blur-sm border-gray-600 text-white\"\r\n                        : \"bg-gray-50 border-gray-300\"\r\n                    }`}\r\n                    rows={2}\r\n                    placeholder=\"Enter description\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex space-x-2\">\r\n                  <button\r\n                    onClick={handleUpdateConversation}\r\n                    className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\"\r\n                  >\r\n                    Save Changes\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {\r\n                      setIsEditing(false);\r\n                      setEditForm({\r\n                        name: conversation.name || \"\",\r\n                        description: conversation.description || \"\",\r\n                        avatar: conversation.avatar || \"\",\r\n                      });\r\n                    }}\r\n                    className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Tabs */}\r\n          <div className=\"flex border-b border-gray-200 dark:border-gray-700\">\r\n            <button\r\n              onClick={() => setActiveTab(\"info\")}\r\n              className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\r\n                activeTab === \"info\"\r\n                  ? \"border-b-2 border-blue-500 text-blue-500\"\r\n                  : \"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\"\r\n              }`}\r\n            >\r\n              Info\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab(\"members\")}\r\n              className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\r\n                activeTab === \"members\"\r\n                  ? \"border-b-2 border-blue-500 text-blue-500\"\r\n                  : \"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\"\r\n              }`}\r\n            >\r\n              {isBroadcast ? \"Subscribers\" : \"Members\"} (\r\n              {conversation.participants.length})\r\n            </button>\r\n            {isAdmin && (\r\n              <button\r\n                onClick={() => setActiveTab(\"settings\")}\r\n                className={`flex-1 px-4 py-3 text-sm font-medium transition-colors ${\r\n                  activeTab === \"settings\"\r\n                    ? \"border-b-2 border-blue-500 text-blue-500\"\r\n                    : \"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\"\r\n                }`}\r\n              >\r\n                Admin Panel\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"p-6 max-h-96 overflow-y-auto\">\r\n            {activeTab === \"info\" && (\r\n              <div className=\"space-y-4\">\r\n                {conversation.description && (\r\n                  <div>\r\n                    <h3 className=\"font-medium text-gray-900 dark:text-white mb-2\">\r\n                      Description\r\n                    </h3>\r\n                    <p className=\"text-gray-600 dark:text-gray-300\">\r\n                      {conversation.description}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div\r\n                    className={`p-3 rounded-lg ${\r\n                      isDark ? \"bg-gray-700/50 backdrop-blur-sm\" : \"bg-gray-50\"\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-center space-x-2 mb-1\">\r\n                      <Calendar className=\"w-4 h-4 text-gray-500 dark:text-gray-400\" />\r\n                      <span className=\"text-sm font-medium\">Created</span>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                      {formatTime(conversation.createdAt)}\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div\r\n                    className={`p-3 rounded-lg ${\r\n                      isDark ? \"bg-gray-700/50 backdrop-blur-sm\" : \"bg-gray-50\"\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-center space-x-2 mb-1\">\r\n                      <User2 className=\"w-4 h-4 text-gray-500 dark:text-gray-400\" />\r\n                      <span className=\"text-sm font-medium\">Type</span>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                      {conversation.type}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === \"members\" && (\r\n              <div className=\"space-y-3\">\r\n                {sortedParticipants.map((participant) => {\r\n                  const isCurrentUser =\r\n                    participant.user._id === currentUser._id;\r\n                  const adminStatus = isUserAdmin(participant.user._id);\r\n                  const isMainAdminUser = adminStatus === \"main\";\r\n                  const isAdminUser = adminStatus === \"admin\";\r\n\r\n                  return (\r\n                    <div\r\n                      key={participant.user._id}\r\n                      className={`flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/30 backdrop-blur-sm transition-colors`}\r\n                    >\r\n                      <div\r\n                        className=\"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold relative\"\r\n                      >\r\n                        {participant.user.avatar ||\r\n                          participant.user.name?.charAt(0).toUpperCase() ||\r\n                          \"?\"}\r\n                        {/* Admin crown overlay */}\r\n                        {(isAdmin) && (\r\n                          <div className=\"absolute -bottom-1 -right-1 w-4 h-4 bg-yellow-500 rounded-full flex items-center justify-center border border-white\">\r\n                            <Crown className=\"w-2 h-2 text-white\" />\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className=\"font-medium truncate\">\r\n                          {participant.user.name} {isCurrentUser && \"(You)\"}\r\n                        </p>\r\n                        <div className=\"flex items-center space-x-2\">\r\n                          <span\r\n                            className={`text-xs px-2 py-1 rounded-full ${getRoleColor(\r\n                              participant\r\n                            )}`}\r\n                          >\r\n                            {getParticipantRole(participant)}\r\n                          </span>\r\n                          {isMainAdminUser && (\r\n                            <Crown className=\"w-3 h-3 text-yellow-500\" />\r\n                          )}\r\n                          {isAdminUser && !isMainAdminUser && (\r\n                            <Crown className=\"w-3 h-3 text-blue-500\" />\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Admin actions */}\r\n                      {isAdmin && !isCurrentUser && (\r\n                        <div className=\"flex items-center space-x-1\">\r\n                          {/* Toggle admin status - only main admin can do this */}\r\n                          {!isMainAdminUser && (\r\n                            <button\r\n                              onClick={() =>\r\n                                handleToggleAdmin(participant.user._id)\r\n                              }\r\n                              className={`p-2 rounded-lg transition-colors ${\r\n                                isAdminUser\r\n                                  ? \"text-yellow-500 hover:bg-yellow-100 dark:hover:bg-yellow-900\"\r\n                                  : \"text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700/30 backdrop-blur-sm\"\r\n                              }`}\r\n                              title={\r\n                                isAdminUser\r\n                                  ? \"Remove admin privileges\"\r\n                                  : \"Make admin\"\r\n                              }\r\n                            >\r\n                              <Crown className=\"w-4 h-4\" />\r\n                            </button>\r\n                          )}\r\n\r\n                          {/* Remove participant */}\r\n                          {!isMainAdminUser && (\r\n                            <button\r\n                              onClick={() =>\r\n                                handleRemoveParticipant(participant.user._id)\r\n                              }\r\n                              className=\"p-2 rounded-lg text-red-500 hover:bg-red-100 dark:hover:bg-red-900 transition-colors\"\r\n                              title={`Remove from ${\r\n                                isBroadcast ? \"channel\" : \"group\"\r\n                              }`}\r\n                            >\r\n                              <UserMinus className=\"w-4 h-4\" />\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n\r\n                {/* Add participant section */}\r\n                {isAdmin && (\r\n                  <div className=\"border-t pt-3 mt-3\">\r\n                    {!showAddParticipant ? (\r\n                      <button\r\n                        onClick={() => setShowAddParticipant(true)}\r\n                        className=\"w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 transition-colors flex items-center justify-center space-x-2 text-gray-500 dark:text-gray-400 hover:text-blue-500\"\r\n                      >\r\n                        <UserPlus className=\"w-4 h-4\" />\r\n                        <span>Add {isBroadcast ? \"Subscriber\" : \"Member\"}</span>\r\n                      </button>\r\n                    ) : (\r\n                      <div className=\"space-y-3\">\r\n                        <div className=\"flex items-center space-x-2\">\r\n                          <div className=\"relative flex-1\">\r\n                            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-500\" />\r\n                            <input\r\n                              type=\"email\"\r\n                              placeholder=\"Search by email...\"\r\n                              value={searchQuery}\r\n                              onChange={(e) => setSearchQuery(e.target.value)}\r\n                              className={`w-full pl-10 pr-4 py-2 rounded-lg border ${\r\n                                isDark\r\n                                  ? \"bg-gray-700/50 backdrop-blur-sm border-gray-600 text-white placeholder-gray-400\"\r\n                                  : \"bg-gray-50 border-gray-300\"\r\n                              }`}\r\n                            />\r\n                            {searching && (\r\n                              <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\r\n                                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <button\r\n                            onClick={() => {\r\n                              setShowAddParticipant(false);\r\n                              setSearchQuery(\"\");\r\n                              setSearchResults([]);\r\n                            }}\r\n                            className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/30 backdrop-blur-sm transition-colors\"\r\n                          >\r\n                            <X className=\"w-4 h-4\" />\r\n                          </button>\r\n                        </div>\r\n\r\n                        {/* Search Results */}\r\n                        {searchResults.length > 0 && (\r\n                          <div className=\"max-h-32 overflow-y-auto space-y-2 border rounded-lg p-2\">\r\n                            {searchResults.map((user) => (\r\n                              <div\r\n                                key={user._id}\r\n                                onClick={() => handleAddParticipantClick(user)}\r\n                                className={`flex items-center space-x-3 p-2 rounded-lg cursor-pointer transition-all hover:bg-gray-100 dark:hover:bg-gray-700/40`}\r\n                              >\r\n                                <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-semibold\">\r\n                                  {user.avatar ||\r\n                                    user.name?.charAt(0).toUpperCase() ||\r\n                                    \"?\"}\r\n                                </div>\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                  <p className=\"font-medium text-sm truncate\">\r\n                                    {user.name}\r\n                                  </p>\r\n                                  <p className=\"text-xs text-gray-500 dark:text-gray-400 truncate\">\r\n                                    {user.email}\r\n                                  </p>\r\n                                </div>\r\n                                <Plus className=\"w-4 h-4 text-green-500\" />\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === \"settings\" && isAdmin && (\r\n              <div className=\"space-y-6\">\r\n                {/* Admin Overview */}\r\n                <div\r\n                  className={`p-4 rounded-lg border ${\r\n                    isBroadcast\r\n                      ? \"border-purple-200 bg-purple-50 dark:border-purple-700 dark:bg-purple-900/20\"\r\n                      : \"border-blue-200 bg-blue-50 dark:border-blue-700 dark:bg-blue-900/20\"\r\n                  }`}\r\n                >\r\n                  <h3 className=\"font-medium mb-3 flex items-center space-x-2\">\r\n                    <Crown className=\"w-5 h-5 text-yellow-500\" />\r\n                    <span>Admin Panel</span>\r\n                  </h3>\r\n                  <div className=\"grid grid-cols-2 gap-4 mb-4\">\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-2xl font-bold text-yellow-600\">\r\n                        {1 + (conversation.admins?.length || 0)}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                        Total Admins\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-2xl font-bold text-green-600\">\r\n                        {conversation.participants.length -\r\n                          1 -\r\n                          (conversation.admins?.length || 0)}\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                        Regular {isBroadcast ? \"Subscribers\" : \"Members\"}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                    {isBroadcast\r\n                      ? \"As an admin, you can send messages, manage subscribers, and control channel settings.\"\r\n                      : \"As an admin, you can manage members, add other admins, and control group settings.\"}\r\n                  </p>\r\n\r\n                  {isMainAdmin && (\r\n                    <div className=\"mt-3 p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg\">\r\n                      <div className=\"flex items-center space-x-2 text-sm text-yellow-800 dark:text-yellow-200\">\r\n                        <Crown className=\"w-4 h-4\" />\r\n                        <span className=\"font-medium\">\r\n                          You are the main administrator\r\n                        </span>\r\n                      </div>\r\n                      <p className=\"text-xs text-yellow-700 dark:text-yellow-300 mt-1\">\r\n                        You can promote/demote other admins and have full\r\n                        control over this {isBroadcast ? \"channel\" : \"group\"}.\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Quick Actions */}\r\n                <div>\r\n                  <h4 className=\"font-medium mb-3\">Quick Actions</h4>\r\n                  <div className=\"grid grid-cols-2 gap-3\">\r\n                    <button\r\n                      onClick={() => {\r\n                        setActiveTab(\"members\");\r\n                        setShowAddParticipant(true);\r\n                      }}\r\n                      className=\"p-3 rounded-lg border border-green-200 hover:bg-green-50 dark:border-green-700 dark:hover:bg-green-900/20 transition-colors flex items-center space-x-2\"\r\n                    >\r\n                      <UserPlus className=\"w-4 h-4 text-green-600\" />\r\n                      <span className=\"text-sm\">\r\n                        Add {isBroadcast ? \"Subscriber\" : \"Member\"}\r\n                      </span>\r\n                    </button>\r\n\r\n                    {isMainAdmin && (\r\n                      <button\r\n                        onClick={() => setActiveTab(\"members\")}\r\n                        className=\"p-3 rounded-lg border border-blue-200 hover:bg-blue-50 dark:border-blue-700 dark:hover:bg-blue-900/20 transition-colors flex items-center space-x-2\"\r\n                      >\r\n                        <Crown className=\"w-4 h-4 text-blue-600\" />\r\n                        <span className=\"text-sm\">Manage Admins</span>\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Admin List */}\r\n                <div>\r\n                  <h4 className=\"font-medium mb-3\">Current Administrators</h4>\r\n                  <div className=\"space-y-2\">\r\n                    {/* Main Admin */}\r\n                    {conversation.admin &&\r\n                      (() => {\r\n                        const mainAdmin = conversation.participants.find(\r\n                          (p) => p.user._id === conversation.admin\r\n                        );\r\n                        return mainAdmin ? (\r\n                          <div\r\n                            key={mainAdmin.user._id}\r\n                            className=\"flex items-center space-x-3 p-3 rounded-lg bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700\"\r\n                          >\r\n                            <div className=\"w-8 h-8 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-full flex items-center justify-center text-white text-sm font-semibold relative\">\r\n                              {mainAdmin.user.avatar ||\r\n                                mainAdmin.user.name?.charAt(0).toUpperCase() ||\r\n                                \"?\"}\r\n                              <div className=\"absolute -bottom-1 -right-1 w-3 h-3 bg-yellow-500 rounded-full flex items-center justify-center\">\r\n                                <Crown className=\"w-1.5 h-1.5 text-white\" />\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"flex-1\">\r\n                              <p className=\"font-medium text-sm\">\r\n                                {mainAdmin.user.name}{\" \"}\r\n                                {mainAdmin.user._id === currentUser._id &&\r\n                                  \"(You)\"}\r\n                              </p>\r\n                              <p className=\"text-xs text-yellow-700 dark:text-yellow-300\">\r\n                                Main Administrator\r\n                              </p>\r\n                            </div>\r\n                            <Crown className=\"w-4 h-4 text-yellow-500\" />\r\n                          </div>\r\n                        ) : null;\r\n                      })()}\r\n\r\n                    {/* Additional Admins */}\r\n                    {conversation.admins &&\r\n                      conversation.admins.map((adminId) => {\r\n                        const admin = conversation.participants.find(\r\n                          (p) => p.user._id === adminId\r\n                        );\r\n                        return admin ? (\r\n                          <div\r\n                            key={admin.user._id}\r\n                            className=\"flex items-center space-x-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700\"\r\n                          >\r\n                            <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-semibold relative\">\r\n                              {admin.user.avatar ||\r\n                                admin.user.name?.charAt(0).toUpperCase() ||\r\n                                \"?\"}\r\n                              <div className=\"absolute -bottom-1 -right-1 w-3 h-3 bg-blue-500 rounded-full flex items-center justify-center\">\r\n                                <Shield className=\"w-1.5 h-1.5 text-white\" />\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"flex-1\">\r\n                              <p className=\"font-medium text-sm\">\r\n                                {admin.user.name}{\" \"}\r\n                                {admin.user._id === currentUser._id && \"(You)\"}\r\n                              </p>\r\n                              <p className=\"text-xs text-blue-700 dark:text-blue-300\">\r\n                                Administrator\r\n                              </p>\r\n                            </div>\r\n                            {isMainAdmin &&\r\n                              admin.user._id !== currentUser._id && (\r\n                                <button\r\n                                  onClick={() =>\r\n                                    handleToggleAdmin(admin.user._id)\r\n                                  }\r\n                                  className=\"p-1 rounded text-red-500 hover:bg-red-100 dark:hover:bg-red-900 transition-colors\"\r\n                                  title=\"Remove admin privileges\"\r\n                                >\r\n                                  <UserMinus className=\"w-4 h-4\" />\r\n                                </button>\r\n                              )}\r\n                          </div>\r\n                        ) : null;\r\n                      })}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Chat Actions */}\r\n                <div className=\"p-4 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-900/20\">\r\n                  <h3 className=\"font-medium text-gray-800 dark:text-gray-200 mb-3 flex items-center space-x-2\">\r\n                    <Settings className=\"w-4 h-4\" />\r\n                    <span>Chat Actions</span>\r\n                  </h3>\r\n                  \r\n                  <div className=\"space-y-2\">\r\n                    <button\r\n                      onClick={handleClearChat}\r\n                      className=\"w-full flex items-center space-x-2 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors\"\r\n                    >\r\n                      <Eraser className=\"w-4 h-4\" />\r\n                      <span>Clear Chat</span>\r\n                    </button>\r\n                    \r\n                    <button\r\n                      onClick={handleHideChat}\r\n                      className=\"w-full flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700/40 backdrop-blur-sm transition-colors\"\r\n                    >\r\n                      <UserMinus className=\"w-4 h-4\" />\r\n                      <span>Hide Chat</span>\r\n                    </button>\r\n                    \r\n                    <button\r\n                      onClick={handleDeleteChat}\r\n                      className=\"w-full flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n                    >\r\n                      <Trash2 className=\"w-4 h-4\" />\r\n                      <span>Delete Chat</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Danger Zone */}\r\n                <div className=\"p-4 rounded-lg border border-red-200 bg-red-50 dark:border-red-700 dark:bg-red-900/20\">\r\n                  <h3 className=\"font-medium text-red-800 dark:text-red-200 mb-2 flex items-center space-x-2\">\r\n                    <Trash2 className=\"w-4 h-4\" />\r\n                    <span>Danger Zone</span>\r\n                  </h3>\r\n                  <p className=\"text-sm text-red-600 dark:text-red-300 mb-3\">\r\n                    This action cannot be undone. All messages and member data\r\n                    will be permanently deleted.\r\n                  </p>\r\n                  <button\r\n                    onClick={handleDeleteConversation}\r\n                    className=\"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\r\n                  >\r\n                    <Trash2 className=\"w-4 h-4\" />\r\n                    <span>Delete {isBroadcast ? \"Channel\" : \"Group\"}</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Render the Confirmation Modal */}\r\n      <ConfirmationModal\r\n        isOpen={confirmModal.isOpen}\r\n        onConfirm={confirmModal.onConfirm}\r\n        onCancel={hideConfirmation}\r\n        title={confirmModal.title}\r\n        message={confirmModal.message}\r\n        confirmText={confirmModal.confirmText}\r\n        cancelText={confirmModal.cancelText}\r\n        type={confirmModal.type}\r\n        isDark={isDark}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChatInfoModal;\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '1', key: '41hilf' }],\n  ['circle', { cx: '12', cy: '5', r: '1', key: 'gxeob9' }],\n  ['circle', { cx: '12', cy: '19', r: '1', key: 'lyex9k' }],\n];\n\n/**\n * @component @name EllipsisVertical\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iNSIgcj0iMSIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjE5IiByPSIxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/ellipsis-vertical\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst EllipsisVertical = createLucideIcon('ellipsis-vertical', __iconNode);\n\nexport default EllipsisVertical;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M20 6 9 17l-5-5', key: '1gmf2c' }]];\n\n/**\n * @component @name Check\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgNiA5IDE3bC01LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Check = createLucideIcon('check', __iconNode);\n\nexport default Check;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 16v-4', key: '1dtifu' }],\n  ['path', { d: 'M12 8h.01', key: 'e9boi3' }],\n];\n\n/**\n * @component @name Info\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMTZ2LTQiIC8+CiAgPHBhdGggZD0iTTEyIDhoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/info\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Info = createLucideIcon('info', __iconNode);\n\nexport default Info;\n","// ===== ChatHeader.js =====\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { formatLastSeen } from \"../utils/helpers\";\r\nimport ChatInfoModal from \"./Modals/ChatInfoModal\";\r\n\r\nimport {\r\n  Crown,\r\n  Users,\r\n  Radio,\r\n  MoreVertical,\r\n  Settings,\r\n  Trash2,\r\n  Info,\r\n  Shield,\r\n  UserX,\r\n  LogOut,\r\n  AlertTriangle,\r\n  Check,\r\n  Eraser,\r\n} from \"lucide-react\";\r\n\r\nconst ChatHeader = ({\r\n  isDark,\r\n  currentUser,\r\n  activeChat,\r\n  onlineUsers,\r\n  onProfileClick,\r\n  onUpdateConversation,\r\n  onDeleteConversation,\r\n  onAddParticipant,\r\n  onRemoveParticipant,\r\n  onAddAdmin,\r\n  onRemoveAdmin,\r\n  onClearChat,\r\n  onBlockUser, // This will now show confirmation and call the actual block function\r\n  onLeaveConversation,\r\n  onShowDeleteConfirmation,\r\n}) => {\r\n  const [showChatInfo, setShowChatInfo] = useState(false);\r\n  const [showOptionsMenu, setShowOptionsMenu] = useState(false);\r\n  const [localBlockedStatus, setLocalBlockedStatus] = useState(null);\r\n\r\n  // Close options menu when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (showOptionsMenu && !event.target.closest('.options-menu-container')) {\r\n        setShowOptionsMenu(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [showOptionsMenu]);\r\n\r\n  useEffect(() => {\r\n    if (activeChat?.type === 'direct') {\r\n      const newBlockedStatus = getBlockedStatus(activeChat, currentUser);\r\n      setLocalBlockedStatus(newBlockedStatus);\r\n    }\r\n  }, [activeChat, currentUser?.blockedUsers, activeChat?.participants]);\r\n\r\n  // Rest of your existing ChatHeader code...\r\nconst getBlockedStatus = (conversation, currentUser) => {\r\n  if (conversation?.type !== \"direct\") {\r\n    return { \r\n      isBlocked: false, \r\n      blockedByCurrentUser: false,\r\n      blockedByOtherUser: false,\r\n      otherUser: null \r\n    };\r\n  }\r\n\r\n  const otherUser = conversation.participants?.find(\r\n    (p) => p.user._id !== currentUser?._id\r\n  )?.user;\r\n  \r\n  if (!otherUser) {\r\n    return { \r\n      isBlocked: false, \r\n      blockedByCurrentUser: false,\r\n      blockedByOtherUser: false,\r\n      otherUser: null \r\n    };\r\n  }\r\n\r\n  // Check if current user has blocked the other user (most reliable source)\r\n  const currentUserBlockedOther = currentUser?.blockedUsers?.includes(otherUser._id) || \r\n                                  otherUser.isBlockedByCurrentUser === true;\r\n  \r\n  // Check if other user has blocked current user\r\n  const otherUserBlockedCurrent = otherUser.hasBlockedCurrentUser === true;\r\n\r\n  return {\r\n    isBlocked: currentUserBlockedOther || otherUserBlockedCurrent,\r\n    blockedByCurrentUser: currentUserBlockedOther,\r\n    blockedByOtherUser: otherUserBlockedCurrent,\r\n    otherUser: otherUser,\r\n  };\r\n};\r\n\r\n\r\n  // Get other user in direct conversation\r\n  const getOtherUser = (conversation) => {\r\n    if (conversation?.type !== \"direct\") return null;\r\n\r\n    const otherParticipant = conversation.participants?.find(\r\n      (participant) => participant.user._id !== currentUser?._id\r\n    );\r\n\r\n    return otherParticipant ? otherParticipant.user : null;\r\n  };\r\n\r\n  // Check if current user is admin\r\n\r\nconst isCurrentUserAdmin = (conversation) => {\r\n  if (!conversation || conversation.type === \"direct\") return false;\r\n\r\n  // Check main admin - handle both string and object formats\r\n  const mainAdminId = typeof conversation.admin === 'string' \r\n    ? conversation.admin \r\n    : conversation.admin?._id;\r\n    \r\n  if (mainAdminId === currentUser?._id) return true;\r\n\r\n  // Check admins array - handle mixed formats\r\n  if (conversation.admins && Array.isArray(conversation.admins)) {\r\n    return conversation.admins.some((admin) => {\r\n      const adminUserId = typeof admin === 'string' ? admin : admin?._id;\r\n      return adminUserId === currentUser?._id;\r\n    });\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\n  // Enhanced conversation info function with blocked status integration\r\n  const getConversationInfo = (conversation) => {\r\n    if (!conversation) {\r\n      return {\r\n        name: \"Unknown\",\r\n        avatar: \"\",\r\n        status: \"Unknown\",\r\n        isGroup: false,\r\n        isBroadcast: false,\r\n        type: \"unknown\",\r\n        isOnline: false\r\n      };\r\n    }\r\n\r\n    if (conversation.type === \"group\") {\r\n      return {\r\n        name: conversation.name || \"Group Chat\",\r\n        avatar: conversation.avatar || \"\",\r\n        status: `${conversation.participants?.length || 0} members`,\r\n        isGroup: true,\r\n        isBroadcast: false,\r\n        type: \"group\",\r\n        isOnline: false\r\n      };\r\n    } else if (conversation.type === \"broadcast\") {\r\n      return {\r\n        name: conversation.name || \"Broadcast Channel\",\r\n        avatar: conversation.avatar || \"\",\r\n        status: `${conversation.participants?.length || 0} subscribers`,\r\n        isGroup: false,\r\n        isBroadcast: true,\r\n        type: \"broadcast\",\r\n        isOnline: false\r\n      };\r\n    } else {\r\n      const otherUser = getOtherUser(conversation);\r\n      const blockedStatus = getBlockedStatus(conversation, currentUser);\r\n      \r\n      if (!otherUser) {\r\n        return {\r\n          name: \"Unknown User\",\r\n          avatar: \"\",\r\n          status: \"Offline\",\r\n          isGroup: false,\r\n          isBroadcast: false,\r\n          type: \"direct\",\r\n          isOnline: false,\r\n          user: null\r\n        };\r\n      }\r\n\r\n      // Check if user is online - handle both Set and Array\r\n      let isOnline = false;\r\n      if (onlineUsers && !blockedStatus.isBlocked) {\r\n        if (onlineUsers.has && typeof onlineUsers.has === \"function\") {\r\n          isOnline = onlineUsers.has(otherUser._id);\r\n        } else if (Array.isArray(onlineUsers)) {\r\n          isOnline = onlineUsers.includes(otherUser._id);\r\n        } else if (onlineUsers.size !== undefined) {\r\n          // Handle Set-like objects\r\n          isOnline = Array.from(onlineUsers).includes(otherUser._id);\r\n        }\r\n      }\r\n\r\n      // Determine status based on blocked state\r\n      let status;\r\n      if (blockedStatus.isBlocked) {\r\n        if (blockedStatus.blockedByCurrentUser) {\r\n          status = \"You blocked this user\";\r\n        } else if (blockedStatus.blockedByOtherUser) {\r\n          status = \"This user blocked you\";\r\n        } else {\r\n          status = \"Blocked\";\r\n        }\r\n      } else {\r\n        status = isOnline\r\n          ? \"Online\"\r\n          : otherUser.lastSeen\r\n          ? `Last seen ${formatLastSeen(otherUser.lastSeen)}`\r\n          : \"Offline\";\r\n      }\r\n\r\n      return {\r\n        name: otherUser.name || \"Unknown User\",\r\n        avatar: otherUser.avatar || otherUser.name?.charAt(0).toUpperCase() || \"\",\r\n        status,\r\n        isGroup: false,\r\n        isBroadcast: false,\r\n        type: \"direct\",\r\n        user: otherUser,\r\n        isOnline: !blockedStatus.isBlocked && isOnline,\r\n        blockedStatus\r\n      };\r\n    }\r\n  };\r\n\r\n  const convInfo = getConversationInfo(activeChat);\r\n  const isAdmin = isCurrentUserAdmin(activeChat);\r\n  const blockedStatus = getBlockedStatus(activeChat, currentUser);\r\n\r\n  const handleHeaderClick = () => {\r\n    if (convInfo.type === \"direct\" && convInfo.user) {\r\n      onProfileClick(convInfo.user);\r\n    } else if (convInfo.type === \"group\" || convInfo.type === \"broadcast\") {\r\n      setShowChatInfo(true);\r\n    }\r\n  };\r\n\r\n  const handleOptionsClick = (e) => {\r\n    e.stopPropagation();\r\n    setShowOptionsMenu(!showOptionsMenu);\r\n  };\r\n\r\n  // Simple block action handler - just calls the parent function\r\n  const handleBlockAction = (userId) => {\r\n    console.log('ChatHeader: Block action requested for user:', userId);\r\n    setShowOptionsMenu(false);\r\n    onBlockUser(userId); // This will now show confirmation in ChatArea\r\n  };\r\n\r\n  // Handle clear chat with blocked status check\r\n  const handleClearChat = () => {\r\n    if (!blockedStatus.blockedByOtherUser) {\r\n      onClearChat(activeChat._id);\r\n      setShowOptionsMenu(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`p-4 border-b flex items-center justify-between ${\r\n          isDark ? \"bg-gradient-to-r from-gray-800 to-gray-700 border-gray-800\" : \"bg-white border-gray-200\"\r\n        }`}\r\n      >\r\n        <div\r\n          className={`flex items-center space-x-3 p-2 rounded-lg transition-all duration-200 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700/30 flex-1 ${\r\n            blockedStatus.isBlocked ? 'opacity-75' : ''\r\n          }`}\r\n          onClick={handleHeaderClick}\r\n        >\r\n          <div className=\"relative\">\r\n            <div\r\n              className={`w-10 h-10 ${\r\n                convInfo.type === \"broadcast\"\r\n                  ? \"bg-gradient-to-r from-purple-500 to-pink-600\"\r\n                  : convInfo.type === \"group\"\r\n                  ? \"bg-gradient-to-r from-green-500 to-teal-600\"\r\n                  : blockedStatus.isBlocked\r\n                  ? \"bg-gradient-to-r from-red-500 to-red-600\"\r\n                  : \"bg-gradient-to-r from-blue-500 to-purple-600\"\r\n              } rounded-full flex items-center justify-center text-white font-semibold relative`}\r\n            >\r\n              <span>{convInfo.avatar}</span>\r\n            </div>\r\n\r\n            {/* Online indicator for direct conversations (hidden if blocked) */}\r\n            {convInfo.type === \"direct\" &&\r\n              convInfo.isOnline &&\r\n              !blockedStatus.isBlocked && (\r\n                <div className=\"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-gray-800\"></div>\r\n              )}\r\n\r\n            {/* Blocked indicator for direct conversations */}\r\n            {convInfo.type === \"direct\" && blockedStatus.isBlocked && (\r\n              <div className=\"absolute -bottom-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white dark:border-gray-800 flex items-center justify-center\">\r\n                <UserX className=\"w-2.5 h-2.5 text-white\" />\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex-1 min-w-0\">\r\n            <h3 className=\"font-semibold flex items-center space-x-1\">\r\n              <span className={`truncate ${blockedStatus.isBlocked ? 'text-gray-600 dark:text-gray-400' : isDark ? 'text-white' : 'text-gray-900'}`}>\r\n                {convInfo.name}\r\n              </span>\r\n            </h3>\r\n            \r\n            <p className={`text-sm truncate ${\r\n              blockedStatus.isBlocked \r\n                ? 'text-red-500 dark:text-red-400' \r\n                : 'text-gray-500 dark:text-gray-400'\r\n            }`}>\r\n              {convInfo.status}\r\n            </p>\r\n\r\n          </div>\r\n        </div>\r\n\r\n        {/* Options menu for ALL conversation types */}\r\n        <div className=\"relative options-menu-container\">\r\n          <button\r\n            onClick={handleOptionsClick}\r\n            className={`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700/30 transition-all duration-200 ${\r\n              showOptionsMenu ? 'bg-gray-100 dark:bg-gray-700/40' : ''\r\n            }`}\r\n            title=\"More options\"\r\n          >\r\n            <MoreVertical className=\"w-5 h-5\" />\r\n          </button>\r\n\r\n          {/* Dropdown Menu */}\r\n          {showOptionsMenu && (\r\n            <div\r\n              className={`absolute right-0 top-full mt-2 w-52 rounded-lg shadow-xl border z-50 backdrop-blur-sm ${\r\n                isDark\r\n                  ? \"bg-gray-800/90 border-gray-800 backdrop-blur-md\"\r\n                  : \"bg-white border-gray-200\"\r\n              }`}\r\n            >\r\n              <div className=\"py-2\">\r\n                {/* Direct Conversation Options */}\r\n                {convInfo.type === \"direct\" && (\r\n                  <>\r\n                    {/* Block/Unblock Options */}\r\n                    {(() => {\r\n                      if (blockedStatus.blockedByCurrentUser) {\r\n                        return (\r\n                          <button\r\n                            onClick={() => handleBlockAction(blockedStatus.otherUser._id)}\r\n                            className=\"w-full px-4 py-2 text-left transition-colors flex items-center space-x-3 hover:bg-green-100 dark:hover:bg-green-900 text-green-600 dark:text-green-400\"\r\n                          >\r\n                            <Check className=\"w-4 h-4\" />\r\n                            <span>Unblock User</span>\r\n                          </button>\r\n                        );\r\n                      } else if (blockedStatus.blockedByOtherUser) {\r\n                        return (\r\n                          <div className=\"px-4 py-2 flex items-center space-x-3 text-red-500 opacity-75 cursor-not-allowed\">\r\n                            <AlertTriangle className=\"w-4 h-4\" />\r\n                            <span>You are blocked</span>\r\n                          </div>\r\n                        );\r\n                      } else {\r\n                        return (\r\n                          <button\r\n                            onClick={() => handleBlockAction(blockedStatus.otherUser._id)}\r\n                            className=\"w-full px-4 py-2 text-left transition-colors flex items-center space-x-3 hover:bg-red-100 dark:hover:bg-red-900 text-red-600 dark:text-red-400\"\r\n                          >\r\n                            <UserX className=\"w-4 h-4\" />\r\n                            <span>Block User</span>\r\n                          </button>\r\n                        );\r\n                      }\r\n                    })()}\r\n\r\n                    {/* Separator */}\r\n                    <div className={`my-1 border-t ${isDark ? \"border-gray-800\" : \"border-gray-200\"}`}></div>\r\n\r\n                    {/* Clear Chat Option - disabled if blocked by other user */}\r\n                    <button\r\n                      onClick={handleClearChat}\r\n                      disabled={blockedStatus.blockedByOtherUser}\r\n                      className={`w-full px-4 py-2 text-left transition-colors flex items-center space-x-3 ${\r\n                        blockedStatus.blockedByOtherUser\r\n                          ? \"opacity-50 cursor-not-allowed text-gray-400\"\r\n                          : \"hover:bg-yellow-100 dark:hover:bg-yellow-900 text-yellow-600 dark:text-yellow-400\"\r\n                      }`}\r\n                      title={blockedStatus.blockedByOtherUser ? \"Cannot clear chat - you are blocked\" : \"Clear chat history for you\"}\r\n                    >\r\n                      <Eraser className=\"w-4 h-4\" />\r\n                      <span>Clear Chat</span>\r\n                    </button>\r\n\r\n                    {/* Delete Conversation */}\r\n                    <button\r\n                      onClick={() => {\r\n                        onShowDeleteConfirmation();\r\n                        setShowOptionsMenu(false);\r\n                      }}\r\n                      className=\"w-full px-4 py-2 text-left hover:bg-red-100 dark:hover:bg-red-900 transition-colors flex items-center space-x-3 text-red-600 dark:text-red-400\"\r\n                    >\r\n                      <Trash2 className=\"w-4 h-4\" />\r\n                      <span>Delete Chat</span>\r\n                    </button>\r\n                  </>\r\n                )}\r\n\r\n                {/* Group/Broadcast Options */}\r\n                {(convInfo.type === \"group\" || convInfo.type === \"broadcast\") && (\r\n                  <>\r\n                    <button\r\n                      onClick={() => {\r\n                        setShowChatInfo(true);\r\n                        setShowOptionsMenu(false);\r\n                      }}\r\n                      className={`w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700/40 transition-colors flex items-center space-x-3 ${\r\n                        isDark ? \"text-white\" : \"text-gray-700\"\r\n                      }`}\r\n                    >\r\n                      <Info className=\"w-4 h-4\" />\r\n                      <span>\r\n                        {convInfo.type === \"broadcast\" ? \"Channel Info\" : \"Group Info\"}\r\n                      </span>\r\n                    </button>\r\n\r\n                    <button\r\n                      onClick={() => {\r\n                        onClearChat(activeChat._id);\r\n                        setShowOptionsMenu(false);\r\n                      }}\r\n                      className=\"w-full px-4 py-2 text-left hover:bg-yellow-100 dark:hover:bg-yellow-900 transition-colors flex items-center space-x-3 text-yellow-600 dark:text-yellow-400\"\r\n                    >\r\n                      <Eraser className=\"w-4 h-4\" />\r\n                      <span>Clear Chat</span>\r\n                    </button>\r\n\r\n                    {/* Leave option - hide for admins if they're the only participant */}\r\n                    {(!isAdmin || (isAdmin && activeChat.participants?.length > 1)) && (\r\n                      <button\r\n                        onClick={() => {\r\n                          onLeaveConversation(activeChat._id);\r\n                          setShowOptionsMenu(false);\r\n                        }}\r\n                        className=\"w-full px-4 py-2 text-left hover:bg-orange-100 dark:hover:bg-orange-900 transition-colors flex items-center space-x-3 text-orange-600 dark:text-orange-400\"\r\n                      >\r\n                        <LogOut className=\"w-4 h-4\" />\r\n                        <span>\r\n                          Leave {convInfo.type === \"broadcast\" ? \"Channel\" : \"Group\"}\r\n                        </span>\r\n                      </button>\r\n                    )}\r\n\r\n                    {/* Admin-only options */}\r\n                    {isAdmin && (\r\n                      <>\r\n                        <div className={`my-1 border-t ${isDark ? \"border-gray-800\" : \"border-gray-200\"}`}></div>\r\n                        \r\n                        <button\r\n                          onClick={() => {\r\n                            setShowChatInfo(true);\r\n                            setShowOptionsMenu(false);\r\n                          }}\r\n                          className={`w-full px-4 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex items-center space-x-3 ${\r\n                            isDark ? \"text-white\" : \"text-gray-700\"\r\n                          }`}\r\n                        >\r\n                          <Settings className=\"w-4 h-4\" />\r\n                          <span>\r\n                            Manage {convInfo.type === \"broadcast\" ? \"Channel\" : \"Group\"}\r\n                          </span>\r\n                        </button>\r\n\r\n                        <button\r\n                          onClick={() => {\r\n                            onShowDeleteConfirmation();\r\n                            setShowOptionsMenu(false);\r\n                          }}\r\n                          className=\"w-full px-4 py-2 text-left hover:bg-red-100 dark:hover:bg-red-900 transition-colors flex items-center space-x-3 text-red-600 dark:text-red-400\"\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4\" />\r\n                          <span>\r\n                            Delete {convInfo.type === \"broadcast\" ? \"Channel\" : \"Group\"}\r\n                          </span>\r\n                        </button>\r\n                      </>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Chat Info Modal */}\r\n      {showChatInfo && (convInfo.type === \"group\" || convInfo.type === \"broadcast\") && (\r\n        <ChatInfoModal\r\n          conversation={activeChat}\r\n          currentUser={currentUser}\r\n          isAdmin={isAdmin}\r\n          isDark={isDark}\r\n          onClose={() => setShowChatInfo(false)}\r\n          onUpdateConversation={onUpdateConversation}\r\n          onDeleteConversation={onDeleteConversation}\r\n          onAddParticipant={onAddParticipant}\r\n          onRemoveParticipant={onRemoveParticipant}\r\n          onAddAdmin={onAddAdmin}\r\n          onRemoveAdmin={onRemoveAdmin}\r\n        />\r\n      )}\r\n\r\n      {/* Click outside to close menu overlay */}\r\n      {showOptionsMenu && (\r\n        <div\r\n          className=\"fixed inset-0 z-40\"\r\n          onClick={() => setShowOptionsMenu(false)}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChatHeader;\r\n\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm18 15-6-6-6 6', key: '153udz' }]];\n\n/**\n * @component @name ChevronUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTggMTUtNi02LTYgNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronUp = createLucideIcon('chevron-up', __iconNode);\n\nexport default ChevronUp;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M20 18v-2a4 4 0 0 0-4-4H4', key: '5vmcpk' }],\n  ['path', { d: 'm9 17-5-5 5-5', key: 'nvlc11' }],\n];\n\n/**\n * @component @name Reply\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTh2LTJhNCA0IDAgMCAwLTQtNEg0IiAvPgogIDxwYXRoIGQ9Im05IDE3LTUtNSA1LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/reply\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Reply = createLucideIcon('reply', __iconNode);\n\nexport default Reply;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M8 14s1.5 2 4 2 4-2 4-2', key: '1y1vjs' }],\n  ['line', { x1: '9', x2: '9.01', y1: '9', y2: '9', key: 'yxxnd0' }],\n  ['line', { x1: '15', x2: '15.01', y1: '9', y2: '9', key: '1p4y9e' }],\n];\n\n/**\n * @component @name Smile\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNOCAxNHMxLjUgMiA0IDIgNC0yIDQtMiIgLz4KICA8bGluZSB4MT0iOSIgeDI9IjkuMDEiIHkxPSI5IiB5Mj0iOSIgLz4KICA8bGluZSB4MT0iMTUiIHgyPSIxNS4wMSIgeTE9IjkiIHkyPSI5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/smile\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Smile = createLucideIcon('smile', __iconNode);\n\nexport default Smile;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm15 17 5-5-5-5', key: 'nf172w' }],\n  ['path', { d: 'M4 18v-2a4 4 0 0 1 4-4h12', key: 'jmiej9' }],\n];\n\n/**\n * @component @name Forward\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTcgNS01LTUtNSIgLz4KICA8cGF0aCBkPSJNNCAxOHYtMmE0IDQgMCAwIDEgNC00aDEyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/forward\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Forward = createLucideIcon('forward', __iconNode);\n\nexport default Forward;\n","const ReactionPicker = ({ isDark, onReactionSelect, position = \"top\", isOwn }) => {\r\n  const reactions = [\r\n    { emoji: \"\", name: \"thumbs_up\" },\r\n    { emoji: \"\", name: \"thumbs_down\" },\r\n    { emoji: \"\", name: \"heart\" },\r\n    { emoji: \"\", name: \"laugh\" },\r\n    { emoji: \"\", name: \"sad\" },\r\n    { emoji: \"\", name: \"celebration\" },\r\n    { emoji: \"\", name: \"surprised\" },\r\n    { emoji: \"\", name: \"fire\" },\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      className={`absolute ${position === \"top\" ? \"bottom-8\" : \"top-8\"} ${\r\n        isOwn ? \"right-0\" : \"left-0\"\r\n      } p-2 rounded-lg shadow-lg border z-50 ${\r\n        isDark ? \"bg-gray-800 border-gray-600\" : \"bg-white border-gray-200\"\r\n      }`}\r\n      style={{ maxWidth: \"280px\" }}\r\n    >\r\n      <div className=\"grid grid-cols-4 gap-1\">\r\n        {reactions.map((reaction) => (\r\n          <button\r\n            key={reaction.name}\r\n            onClick={() => onReactionSelect(reaction.emoji)}\r\n            className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded text-lg transition-transform hover:scale-110 flex items-center justify-center\"\r\n            title={reaction.name.replace(\"_\", \" \")}\r\n          >\r\n            {reaction.emoji}\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReactionPicker;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', ry: '2', key: '1m3agn' }],\n  ['circle', { cx: '9', cy: '9', r: '2', key: 'af1f0g' }],\n  ['path', { d: 'm21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21', key: '1xmnt7' }],\n];\n\n/**\n * @component @name Image\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiByeT0iMiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgLz4KICA8cGF0aCBkPSJtMjEgMTUtMy4wODYtMy4wODZhMiAyIDAgMCAwLTIuODI4IDBMNiAyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/image\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Image = createLucideIcon('image', __iconNode);\n\nexport default Image;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5',\n      key: 'ftymec',\n    },\n  ],\n  ['rect', { x: '2', y: '6', width: '14', height: '12', rx: '2', key: '158x01' }],\n];\n\n/**\n * @component @name Video\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTMgNS4yMjMgMy40ODJhLjUuNSAwIDAgMCAuNzc3LS40MTZWNy44N2EuNS41IDAgMCAwLS43NTItLjQzMkwxNiAxMC41IiAvPgogIDxyZWN0IHg9IjIiIHk9IjYiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxMiIgcng9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/video\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Video = createLucideIcon('video', __iconNode);\n\nexport default Video;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M9 18V5l12-2v13', key: '1jmyc2' }],\n  ['circle', { cx: '6', cy: '18', r: '3', key: 'fqmcym' }],\n  ['circle', { cx: '18', cy: '16', r: '3', key: '1hluhg' }],\n];\n\n/**\n * @component @name Music\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOSAxOFY1bDEyLTJ2MTMiIC8+CiAgPGNpcmNsZSBjeD0iNiIgY3k9IjE4IiByPSIzIiAvPgogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTYiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/music\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Music = createLucideIcon('music', __iconNode);\n\nexport default Music;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z', key: '1rqfz7' }],\n  ['path', { d: 'M14 2v4a2 2 0 0 0 2 2h4', key: 'tnqrlb' }],\n  ['path', { d: 'M10 9H8', key: 'b1mrlr' }],\n  ['path', { d: 'M16 13H8', key: 't4e002' }],\n  ['path', { d: 'M16 17H8', key: 'z1uh3a' }],\n];\n\n/**\n * @component @name FileText\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjdaIiAvPgogIDxwYXRoIGQ9Ik0xNCAydjRhMiAyIDAgMCAwIDIgMmg0IiAvPgogIDxwYXRoIGQ9Ik0xMCA5SDgiIC8+CiAgPHBhdGggZD0iTTE2IDEzSDgiIC8+CiAgPHBhdGggZD0iTTE2IDE3SDgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/file-text\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileText = createLucideIcon('file-text', __iconNode);\n\nexport default FileText;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z', key: '1rqfz7' }],\n  ['path', { d: 'M14 2v4a2 2 0 0 0 2 2h4', key: 'tnqrlb' }],\n];\n\n/**\n * @component @name File\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjdaIiAvPgogIDxwYXRoIGQ9Ik0xNCAydjRhMiAyIDAgMCAwIDIgMmg0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/file\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst File = createLucideIcon('file', __iconNode);\n\nexport default File;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 3h6v6', key: '1q9fwt' }],\n  ['path', { d: 'M10 14 21 3', key: 'gplh6r' }],\n  ['path', { d: 'M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6', key: 'a6xqqp' }],\n];\n\n/**\n * @component @name ExternalLink\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0iTTEwIDE0IDIxIDMiIC8+CiAgPHBhdGggZD0iTTE4IDEzdjZhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWOGEyIDIgMCAwIDEgMi0yaDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/external-link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ExternalLink = createLucideIcon('external-link', __iconNode);\n\nexport default ExternalLink;\n","import React, { useState } from \"react\";\r\nimport {\r\n  File,\r\n  Image,\r\n  Video,\r\n  Music,\r\n  FileText,\r\n  Download,\r\n  ExternalLink,\r\n} from \"lucide-react\";\r\nimport { getFileDisplayName, isGifFile, getFileIcon } from \"../utils/fileHelpers\";\r\n\r\n// File Icon Component - Enhanced\r\nconst FileIcon = ({ messageType, mimeType, filename, size = 24 }) => {\r\n  const getIcon = () => {\r\n    const extension = filename ? filename.split('.').pop()?.toLowerCase() : '';\r\n    \r\n    if (messageType === 'image') {\r\n      return extension === 'gif' ? \r\n        <span className=\"text-2xl\"></span> : \r\n        <Image className={`w-${size/4} h-${size/4}`} />;\r\n    }\r\n    if (messageType === 'video') return <Video className={`w-${size/4} h-${size/4}`} />;\r\n    if (messageType === 'audio') return <Music className={`w-${size/4} h-${size/4}`} />;\r\n\r\n    if (mimeType) {\r\n      if (mimeType.includes('pdf')) return <FileText className={`w-${size/4} h-${size/4} text-red-500`} />;\r\n      if (mimeType.includes('document') || mimeType.includes('word'))\r\n        return <FileText className={`w-${size/4} h-${size/4} text-blue-500`} />;\r\n      if (mimeType.includes('spreadsheet') || mimeType.includes('excel'))\r\n        return <FileText className={`w-${size/4} h-${size/4} text-green-500`} />;\r\n      if (mimeType.includes('zip') || mimeType.includes('rar'))\r\n        return <File className={`w-${size/4} h-${size/4} text-yellow-500`} />;\r\n    }\r\n\r\n    return <File className={`w-${size/4} h-${size/4}`} />;\r\n  };\r\n\r\n  return getIcon();\r\n};\r\n\r\n// File Thumbnail Component - Enhanced with proper display name handling\r\nconst FileThumbnail = ({ message, onImageClick, isDark, showFileName = true }) => {\r\n  const [error, setError] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fileInfo = message.fileInfo || message.file || {};\r\n  const fileUrl = fileInfo.url || message.content;\r\n  const fileName = getFileDisplayName(message);\r\n  const fileSize = fileInfo.fileSize || (fileInfo.size ? `${(fileInfo.size / 1024).toFixed(1)} KB` : '');\r\n  const mimeType = fileInfo.type || fileInfo.mimeType || '';\r\n  const isGif = isGifFile(message);\r\n\r\n  const handleImageError = () => {\r\n    setError(true);\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleImageLoad = () => {\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleOpenInNewTab = (e) => {\r\n    e.stopPropagation();\r\n    if (fileUrl) window.open(fileUrl, '_blank', 'noopener,noreferrer');\r\n  };\r\n\r\n  const handleImageClick = () => {\r\n    if (onImageClick) onImageClick(fileUrl);\r\n  };\r\n\r\n  // Enhanced image rendering with proper GIF support\r\n  if (message.messageType === 'image') {\r\n    return (\r\n      <div className=\"mb-2 max-w-sm\">\r\n        <div className=\"relative group\">\r\n          {loading && (\r\n            <div className={`absolute inset-0 flex items-center justify-center rounded-lg ${\r\n              isDark ? 'bg-gray-700' : 'bg-gray-100'\r\n            }`}>\r\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\r\n            </div>\r\n          )}\r\n          \r\n          {!error ? (\r\n            <img\r\n              src={fileUrl}\r\n              alt={fileName}\r\n              className={`w-full h-auto rounded-lg cursor-pointer hover:opacity-90 transition-opacity shadow-md ${\r\n                loading ? 'opacity-0' : 'opacity-100'\r\n              }`}\r\n              onClick={handleImageClick}\r\n              onError={handleImageError}\r\n              onLoad={handleImageLoad}\r\n              loading=\"lazy\"\r\n              style={{ maxHeight: '300px', objectFit: 'cover' }}\r\n            />\r\n          ) : (\r\n            <div\r\n              className={`w-full h-48 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:opacity-80 transition-opacity ${\r\n                isDark ? 'bg-gray-700' : 'bg-gray-100'\r\n              }`}\r\n              onClick={handleImageClick}\r\n            >\r\n              {isGif ? (\r\n                <span className=\"text-4xl mb-2\"></span>\r\n              ) : (\r\n                <Image className=\"w-12 h-12 text-gray-400 mb-2\" />\r\n              )}\r\n              <span className=\"text-sm text-gray-500 text-center px-2 font-medium\">\r\n                {fileName}\r\n              </span>\r\n              <span className=\"text-xs text-gray-400 mt-1\">\r\n                {isGif ? 'GIF  Failed to load' : 'Image  Failed to load'}\r\n              </span>\r\n            </div>\r\n          )}\r\n\r\n          {/* Action buttons overlay */}\r\n          <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n            <div className=\"flex space-x-1\">\r\n              <button\r\n                onClick={handleOpenInNewTab}\r\n                className=\"p-2 bg-black bg-opacity-50 rounded-full text-white hover:bg-opacity-70 transition-colors\"\r\n                title=\"Open in new tab\"\r\n              >\r\n                <ExternalLink className=\"w-4 h-4\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* File name overlay - Enhanced */}\r\n          {showFileName && fileName && !error && (\r\n            <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent rounded-b-lg p-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <p className=\"text-black text-sm font-medium truncate flex-1\" title={fileName}>\r\n                  {isGif && <span className=\"mr-1\"></span>}\r\n                  {fileName}\r\n                </p>\r\n                {fileSize && (\r\n                  <span className=\"text-white/80 text-xs ml-2\">{fileSize}</span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* GIF indicator badge */}\r\n          {isGif && !error && (\r\n            <div className=\"absolute top-2 left-2 bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-medium\">\r\n              GIF\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Enhanced video rendering\r\n  if (message.messageType === 'video') {\r\n    return (\r\n      <div className=\"mb-2 max-w-sm\">\r\n        <div className=\"relative group\">\r\n          <video\r\n            src={fileUrl}\r\n            className=\"w-full h-auto rounded-lg shadow-md\"\r\n            controls\r\n            preload=\"metadata\"\r\n            style={{ maxHeight: '300px' }}\r\n            poster={fileInfo.thumbUrl}\r\n          >\r\n            Your browser does not support the video tag.\r\n          </video>\r\n\r\n          <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n            <button\r\n              onClick={handleOpenInNewTab}\r\n              className=\"p-2 bg-black bg-opacity-50 rounded-full text-white hover:bg-opacity-70 transition-colors\"\r\n              title=\"Open video in new tab\"\r\n            >\r\n              <ExternalLink className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n\r\n          {showFileName && fileName && (\r\n            <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent rounded-b-lg p-3\">\r\n              <div className=\"flex items-center justify-between text-white text-sm\">\r\n                <span className=\"truncate flex-1 font-medium\" title={fileName}>\r\n                   {fileName}\r\n                </span>\r\n                {fileSize && <span className=\"ml-2 text-white/80 text-xs\">{fileSize}</span>}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Enhanced audio rendering\r\n  if (message.messageType === 'audio') {\r\n    return (\r\n      <div className=\"mb-2 max-w-sm\">\r\n        <div className={`p-4 rounded-lg border ${isDark ? 'bg-gray-700 border-gray-600' : 'bg-gray-50 border-gray-200'}`}>\r\n          <div className=\"flex items-center space-x-3 mb-3\">\r\n            <div className=\"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center\">\r\n              <Music className=\"w-6 h-6 text-white\" />\r\n            </div>\r\n            <div className=\"flex-1 min-w-0\">\r\n              <p className=\"text-sm font-medium truncate\" title={fileName}>\r\n                 {fileName}\r\n              </p>\r\n              {fileSize && <p className=\"text-xs text-gray-500\">{fileSize}</p>}\r\n            </div>\r\n            <button\r\n              onClick={handleOpenInNewTab}\r\n              className=\"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\r\n              title=\"Open audio in new tab\"\r\n            >\r\n              <ExternalLink className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n\r\n          <audio\r\n            src={fileUrl}\r\n            controls\r\n            className=\"w-full\"\r\n            preload=\"metadata\"\r\n          >\r\n            Your browser does not support the audio tag.\r\n          </audio>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Enhanced generic file/document rendering\r\n  return (\r\n    <div className=\"mb-2 max-w-sm\">\r\n      <div\r\n        className={`p-4 rounded-lg border cursor-pointer hover:shadow-md transition-all ${\r\n          isDark ? 'bg-gray-700 border-gray-600 hover:bg-gray-650' : 'bg-gray-50 border-gray-200 hover:bg-gray-100'\r\n        }`}\r\n        onClick={handleOpenInNewTab}\r\n      >\r\n        <div className=\"flex items-center space-x-3\">\r\n          <div className={`w-12 h-12 rounded-lg flex items-center justify-center ${\r\n            mimeType.includes('pdf') ? 'bg-red-100 dark:bg-red-900' :\r\n            mimeType.includes('document') || mimeType.includes('word') ? 'bg-blue-100 dark:bg-blue-900' :\r\n            mimeType.includes('spreadsheet') || mimeType.includes('excel') ? 'bg-green-100 dark:bg-green-900' :\r\n            'bg-gray-200 dark:bg-gray-600'\r\n          }`}>\r\n            <FileIcon messageType={message.messageType} mimeType={mimeType} filename={fileName} size={24} />\r\n          </div>\r\n\r\n          <div className=\"flex-1 min-w-0\">\r\n            <p className=\"text-sm text-black font-medium truncate\" title={fileName}>\r\n              {getFileIcon(message.messageType, mimeType, fileName)} {fileName}\r\n            </p>\r\n            <div className=\"flex items-center justify-between mt-1\">\r\n              {fileSize && <p className=\"text-xs text-gray-500\">{fileSize}</p>}\r\n              <div className=\"flex items-center space-x-1 text-xs text-gray-500\">\r\n                <ExternalLink className=\"w-3 h-3\" />\r\n                <span>Open</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-3\">\r\n          <span className={`inline-block px-2 py-1 text-xs rounded-full font-medium ${\r\n            mimeType.includes('pdf') ? 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200' :\r\n            mimeType.includes('document') || mimeType.includes('word') ? 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200' :\r\n            mimeType.includes('spreadsheet') || mimeType.includes('excel') ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' :\r\n            'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200'\r\n          }`}>\r\n            {mimeType.includes('pdf') ? 'PDF Document' :\r\n             mimeType.includes('document') || mimeType.includes('word') ? 'Word Document' :\r\n             mimeType.includes('spreadsheet') || mimeType.includes('excel') ? 'Excel Spreadsheet' :\r\n             mimeType.split('/')[1]?.toUpperCase() || 'File'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileThumbnail;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 6v6l4 2', key: 'mmk7yg' }],\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n];\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgNnY2bDQgMiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('clock', __iconNode);\n\nexport default Clock;\n","import { Clock, Check } from 'lucide-react';\r\n\r\nexport const getStatusIcon = (status, deliveredCount = 0, readCount = 0) => {\r\n  switch (status) {\r\n    case 'sending':\r\n      return (\r\n        <Clock \r\n          className=\"w-3 h-3 text-gray-400 animate-pulse\" \r\n          strokeWidth={2}\r\n        />\r\n      );\r\n    \r\n    case 'sent':\r\n      return (\r\n        <Check \r\n          className=\"w-3 h-3 text-gray-400\" \r\n          strokeWidth={2.5}\r\n        />\r\n      );\r\n    \r\n    case 'delivered':\r\n      return (\r\n        <div className=\"relative flex items-center\">\r\n          <Check \r\n            className=\"w-3 h-3 text-gray-400\" \r\n            strokeWidth={2.5}\r\n          />\r\n          <Check \r\n            className=\"w-3 h-3 text-gray-400 -ml-1.5\" \r\n            strokeWidth={2.5}\r\n          />\r\n        </div>\r\n      );\r\n    \r\n    case 'read':\r\n    case 'seen':\r\n      return (\r\n        <div className=\"relative flex items-center\">\r\n          <Check \r\n            className=\"w-3 h-3 text-blue-500\" \r\n            strokeWidth={2.5}\r\n          />\r\n          <Check \r\n            className=\"w-3 h-3 text-blue-500 -ml-1.5\" \r\n            strokeWidth={2.5}\r\n          />\r\n        </div>\r\n      );\r\n    \r\n    default:\r\n      return (\r\n        <span className=\"text-gray-400 text-xs\">?</span>\r\n      );\r\n  }\r\n};","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n\n/**\n * @constant\n * @name constructFromSymbol\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\n *\n * The symbol is used to enable the `constructFrom` function to construct a date\n * using a reference date and a value. It allows to transfer extra properties\n * from the reference date to the new date. It's useful for extensions like\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\n * a constructor argument.\n */\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\n","export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // [TODO] -- I challenge you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // [TODO] -- I challenge you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n","export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // [TODO] I challenge you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { constructNow } from \"./constructNow.js\";\n\nimport { formatDistance } from \"./formatDistance.js\";\n\n/**\n * The {@link formatDistanceToNow} function options.\n */\n\n/**\n * @name formatDistanceToNow\n * @category Common Helpers\n * @summary Return the distance between the given date and now in words.\n * @pure false\n *\n * @description\n * Return the distance between the given date and now in words.\n *\n * | Distance to now                                                   | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance to now     | Result               |\n * |---------------------|----------------------|\n * | 0 secs ... 5 secs   | less than 5 seconds  |\n * | 5 secs ... 10 secs  | less than 10 seconds |\n * | 10 secs ... 20 secs | less than 20 seconds |\n * | 20 secs ... 40 secs | half a minute        |\n * | 40 secs ... 60 secs | less than a minute   |\n * | 60 secs ... 90 secs | 1 minute             |\n *\n * @param date - The given date\n * @param options - The object with options\n *\n * @returns The distance in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `formatDistance` property\n *\n * @example\n * // If today is 1 January 2015, what is the distance to 2 July 2014?\n * const result = formatDistanceToNow(\n *   new Date(2014, 6, 2)\n * )\n * //=> '6 months'\n *\n * @example\n * // If now is 1 January 2015 00:00:00,\n * // what is the distance to 1 January 2015 00:00:15, including seconds?\n * const result = formatDistanceToNow(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 January 2016, with a suffix?\n * const result = formatDistanceToNow(\n *   new Date(2016, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'in about 1 year'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 August 2016 in Esperanto?\n * const eoLocale = require('date-fns/locale/eo')\n * const result = formatDistanceToNow(\n *   new Date(2016, 7, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\nexport function formatDistanceToNow(date, options) {\n  return formatDistance(date, constructNow(date), options);\n}\n\n// Fallback for modularized imports:\nexport default formatDistanceToNow;\n","import { useEffect, useState } from \"react\";\r\nimport { Reply, Smile, Forward, Trash2, Edit3 } from 'lucide-react';\r\nimport ReactionPicker from \"./Pickers/ReactionPicker\";\r\nimport DeleteModal from \"./Modals/DeleteModal\";\r\nimport FileThumbnail from \"./Thumbnail\";\r\nimport { formatTime } from '../utils/helpers';\r\nimport { getStatusIcon } from \"./StatusIcon\";\r\nimport { \r\n  formatMessageForForwarding, \r\n  isFileMessage, \r\n  getFileDisplayName,\r\n  getReplyPreviewText \r\n} from '../utils/fileHelpers';\r\nimport { formatDistanceToNow } from 'date-fns';\r\n\r\n// System Message Component\r\nconst SystemMessage = ({ message, isDark }) => {\r\n  const formatTime = (timestamp) => {\r\n    try {\r\n      const date = new Date(timestamp);\r\n      return formatDistanceToNow(date, { addSuffix: true });\r\n    } catch (error) {\r\n      return 'Unknown time';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex justify-center my-4\">\r\n      <div \r\n        className={`\r\n          max-w-md px-4 py-2 rounded-full text-sm flex items-center space-x-2 shadow-sm\r\n          ${isDark \r\n            ? 'bg-gray-700/50 text-gray-300 border border-gray-600/50' \r\n            : 'bg-gray-100 text-gray-600 border border-gray-200'\r\n          }\r\n        `}\r\n      >\r\n        <span className=\"font-medium text-center flex-1\">\r\n          {message.content}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Regular Message Component\r\nconst RegularMessage = ({\r\n  message,\r\n  isOwn: isOwnProp,\r\n  currentUser,\r\n  activeChat,\r\n  messages,\r\n  isDark,\r\n  onImageClick,\r\n  onForward,\r\n  onDeleteMessage,\r\n  onEditMessage,\r\n  onReply,\r\n  onReactToMessage,\r\n}) => {\r\n  const [showReactionPicker, setShowReactionPicker] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editContent, setEditContent] = useState(message.content || \"\");\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n\r\n  const getUserId = (user) => {\r\n    if (typeof user === 'string') return user;\r\n    return user?._id || user?.id;\r\n  };\r\n\r\n  const calculateOwnership = () => {\r\n    const messageSenderId = getUserId(message.sender);\r\n    const currentUserId = getUserId(currentUser);\r\n    return messageSenderId === currentUserId;\r\n  };\r\n\r\n  const isOwn = calculateOwnership();\r\n\r\n  useEffect(() => {\r\n    if (isOwn !== isOwnProp) {\r\n      console.warn(' Ownership mismatch detected:', {\r\n        messageId: message._id,\r\n        calculated: isOwn,\r\n        fromProp: isOwnProp,\r\n        messageSender: message.sender?.name,\r\n        currentUser: currentUser?.name\r\n      });\r\n    }\r\n  }, [isOwn, isOwnProp, message._id]);\r\n\r\n  const getRepliedMessage = (messageId) => {\r\n    if (!activeChat || !messageId || !messages) return null;\r\n    return messages.find((msg) => msg._id === messageId);\r\n  };\r\n\r\n  const handleReactionSelect = async (emoji) => {\r\n    try {\r\n      const currentUserId = getUserId(currentUser);\r\n      \r\n      // Check if user already has a reaction on this message\r\n      const existingReaction = message.reactions?.find(reaction => \r\n        getUserId(reaction.user) === currentUserId\r\n      );\r\n      \r\n      // If user already reacted with the same emoji, remove it (toggle off)\r\n      if (existingReaction && (existingReaction.emoji || existingReaction.type) === emoji) {\r\n        await onReactToMessage(message._id, null); // Send null to remove reaction\r\n      } else {\r\n        // Otherwise, add/change the reaction (this will replace any existing reaction)\r\n        await onReactToMessage(message._id, emoji);\r\n      }\r\n      \r\n      setShowReactionPicker(false);\r\n    } catch (error) {\r\n      console.error(\"Failed to add reaction:\", error);\r\n    }\r\n  };\r\n\r\n  const handleEdit = async () => {\r\n    if (!editContent.trim() || editContent === message.content) {\r\n      setIsEditing(false);\r\n      setEditContent(message.content || \"\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await onEditMessage(message._id, editContent.trim());\r\n      setIsEditing(false);\r\n    } catch (error) {\r\n      console.error(\"Failed to edit message:\", error);\r\n      setEditContent(message.content || \"\");\r\n      setIsEditing(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    setShowDeleteModal(true);\r\n  };\r\n\r\n  const handleDeleteConfirm = async () => {\r\n    try {\r\n      await onDeleteMessage(message._id);\r\n      setShowDeleteModal(false);\r\n    } catch (error) {\r\n      console.error(\"Failed to delete message:\", error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteCancel = () => {\r\n    setShowDeleteModal(false);\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === \"Enter\" && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleEdit();\r\n    } else if (e.key === \"Escape\") {\r\n      e.preventDefault();\r\n      setIsEditing(false);\r\n      setEditContent(message.content || \"\");\r\n    }\r\n  };\r\n\r\n  // Handle forward button click - format message properly\r\n  const handleForwardClick = () => {\r\n    const formattedMessage = formatMessageForForwarding(message);\r\n    onForward(formattedMessage);\r\n  };\r\n\r\n  const repliedMsg = getRepliedMessage(message.replyTo);\r\n  const sender = message.sender;\r\n\r\n  const groupedReactions = message.reactions\r\n    ? (() => {\r\n        const reactionMap = {};\r\n        message.reactions.forEach((reaction) => {\r\n          const emoji = reaction.emoji || reaction.type;\r\n          const userId = getUserId(reaction.user);\r\n          const userName = reaction.user?.name || \"Unknown\";\r\n\r\n          if (!reactionMap[emoji]) {\r\n            reactionMap[emoji] = { users: [], userNames: [] };\r\n          }\r\n\r\n          if (!reactionMap[emoji].users.includes(userId)) {\r\n            reactionMap[emoji].users.push(userId);\r\n            reactionMap[emoji].userNames.push(userName);\r\n          }\r\n        });\r\n\r\n        return Object.entries(reactionMap).filter(\r\n          ([emoji, data]) => data.users.length > 0\r\n        );\r\n      })()\r\n    : [];\r\n\r\n  const getMessagePreview = () => {\r\n    if (isFileMessage(message)) {\r\n      return getFileDisplayName(message);\r\n    }\r\n    return message.content || \"No content\";\r\n  };\r\n\r\n  const hasFileContent = isFileMessage(message);\r\n\r\n  return (\r\n    <>\r\n      <div className={`flex ${isOwn ? \"justify-end\" : \"justify-start\"} group mb-4`}>\r\n        <div className={`max-w-xs lg:max-w-md ${isOwn ? \"order-2\" : \"order-1\"}`}>\r\n          {activeChat.type === \"group\" && !isOwn && sender && (\r\n            <p className=\"text-xs text-gray-500 mb-1 ml-3\">\r\n              {sender.name || \"Unknown User\"}\r\n            </p>\r\n          )}\r\n\r\n          <div className={`px-4 py-2 rounded-2xl relative ${\r\n            isOwn\r\n              ? \"bg-gradient-to-r from-blue-500 to-purple-600 text-white\"\r\n              : isDark\r\n              ? \"bg-gray-700 text-white\"\r\n              : \"bg-gray-200 text-gray-900\"\r\n          }`}>\r\n            {/* Reply section - show proper file names in replies */}\r\n            {(repliedMsg || message.replyTo) && (\r\n              <div className={`mb-2 p-2 rounded-lg border-l-4 cursor-pointer transition-colors hover:bg-opacity-80 ${\r\n                isOwn\r\n                  ? \"bg-blue-600 border-blue-300\"\r\n                  : \"bg-gray-300 dark:bg-gray-600 border-gray-400\"\r\n              }`}>\r\n                <div className=\"flex items-start space-x-2\">\r\n                  <Reply className=\"w-3 h-3 mt-0.5 opacity-75\" />\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <p className=\"text-xs opacity-75 font-medium\">\r\n                      Replying to {repliedMsg?.sender?.name || message.replyTo?.sender?.name || \"Someone\"}\r\n                    </p>\r\n                    <p className=\"text-sm opacity-90 truncate\">\r\n                      {repliedMsg \r\n                        ? getReplyPreviewText(repliedMsg, 40)\r\n                        : message.replyTo?.content \r\n                          ? getReplyPreviewText(message.replyTo, 40)\r\n                          : getReplyPreviewText({\r\n                              content: message.replyTo?.content,\r\n                              messageType: message.replyTo?.messageType,\r\n                              fileInfo: message.replyTo?.fileInfo\r\n                            }, 40) || \"Message\"\r\n                      }\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* File Content - Use enhanced FileThumbnail component */}\r\n            {hasFileContent && (\r\n              <FileThumbnail \r\n                message={message} \r\n                onImageClick={onImageClick} \r\n                isDark={isDark}\r\n                showFileName={true}\r\n              />\r\n            )}\r\n\r\n            {/* Text Content - only show if it's a text message or has additional text */}\r\n            {(message.messageType === \"text\" || \r\n              (hasFileContent && message.content && \r\n               message.content !== (message.fileInfo?.url || message.file?.url))) && (\r\n              isEditing ? (\r\n                <div className=\"mb-2 relative\">\r\n                  <textarea\r\n                    value={editContent}\r\n                    onChange={(e) => setEditContent(e.target.value)}\r\n                    onKeyDown={handleKeyDown}\r\n                    className={`w-full p-1 rounded border-none focus:outline-none resize-none transition-all ${\r\n                      isDark\r\n                        ? \"bg-gray-600 bg-opacity-30 text-white placeholder-gray-400 focus:bg-opacity-50\"\r\n                        : \"bg-gray-100 bg-opacity-50 text-gray-900 placeholder-gray-500 focus:bg-opacity-80\"\r\n                    } focus:ring-1 focus:ring-blue-300 focus:ring-opacity-30`}\r\n                    rows={Math.min(editContent.split(\"\\n\").length + 1, 5)}\r\n                    autoFocus\r\n                    placeholder=\"Edit your message...\"\r\n                    style={{ minHeight: \"1.2rem\", fontSize: \"inherit\", lineHeight: \"inherit\" }}\r\n                  />\r\n                  <div className=\"text-xs opacity-60 mt-1 italic\">\r\n                    Press Enter to save  Esc to cancel\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                message.messageType === \"text\" && (\r\n                  <div className=\"break-words whitespace-pre-wrap\">\r\n                    {message.content || \"No content\"}\r\n                    {(message.isEdited || message.editedAt) && (\r\n                      <span className=\"text-xs opacity-75 ml-2\">\r\n                        (edited{message.editedAt ? ` ${formatTime(message.editedAt)}` : \"\"})\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                )\r\n              )\r\n            )}\r\n\r\n            <div className={`flex items-center justify-between mt-1 text-xs ${isOwn ? \"text-blue-100\" : \"text-gray-500\"}`}>\r\n              <span>{formatTime(message.createdAt || message.timestamp)}</span>\r\n              {isOwn && message.status && <div className=\"ml-2\">{getStatusIcon(message.status)}</div>}\r\n            </div>\r\n\r\n            {showReactionPicker && (\r\n              <ReactionPicker\r\n                isDark={isDark}\r\n                onReactionSelect={handleReactionSelect}\r\n                onClose={() => setShowReactionPicker(false)}\r\n                position={isOwn ? \"top\" : \"bottom\"}\r\n                isOwn={isOwn}\r\n              />\r\n            )}\r\n          </div>\r\n\r\n          {groupedReactions.length > 0 && (\r\n            <div className={`flex flex-wrap gap-1 mt-1 ${isOwn ? \"justify-end\" : \"justify-start\"}`}>\r\n              {groupedReactions.map(([emoji, data]) => {\r\n                const hasUserReacted = data.users.includes(getUserId(currentUser));\r\n                return (\r\n                  <div\r\n                    key={emoji}\r\n                    onClick={() => handleReactionSelect(emoji)}\r\n                    className={`inline-flex items-center px-2 py-1 rounded-full text-xs cursor-pointer transition-all hover:scale-105 ${\r\n                      hasUserReacted\r\n                        ? isDark\r\n                          ? \"bg-blue-600 hover:bg-blue-500 text-white\"\r\n                          : \"bg-blue-100 hover:bg-blue-200 text-blue-800\"\r\n                        : isDark\r\n                        ? \"bg-gray-600 hover:bg-gray-500\"\r\n                        : \"bg-gray-100 hover:bg-gray-200\"\r\n                    }`}\r\n                    title={`${data.userNames.join(\", \")} ${data.users.length > 1 ? \"reacted\" : \"reacted\"} with ${emoji}`}\r\n                  >\r\n                    <span className=\"mr-1\">{emoji}</span>\r\n                    <span>{data.users.length}</span>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n\r\n          <div className={`flex items-center space-x-2 mt-1 opacity-0 group-hover:opacity-100 transition-opacity ${isOwn ? \"justify-end\" : \"justify-start\"}`}>\r\n            <button onClick={() => onReply(message)} className=\"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\" title=\"Reply\">\r\n              <Reply className=\"w-3 h-3\" />\r\n            </button>\r\n            <button onClick={() => setShowReactionPicker(!showReactionPicker)} className=\"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\" title=\"Add Reaction\">\r\n              <Smile className=\"w-3 h-3\" />\r\n            </button>\r\n            <button onClick={handleForwardClick} className=\"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\" title=\"Forward\">\r\n              <Forward className=\"w-3 h-3\" />\r\n            </button>\r\n            {isOwn && (\r\n              <>\r\n                {message.messageType === \"text\" && new Date() - new Date(message.createdAt) < 15 * 60 * 1000 && (\r\n                  <button onClick={() => setIsEditing(true)} className=\"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\" title=\"Edit\">\r\n                    <Edit3 className=\"w-3 h-3\" />\r\n                  </button>\r\n                )}\r\n                <button onClick={handleDeleteClick} className=\"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-red-500 transition-colors\" title=\"Delete\">\r\n                  <Trash2 className=\"w-3 h-3\" />\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {showDeleteModal && (\r\n        <DeleteModal\r\n          isDark={isDark}\r\n          onConfirm={handleDeleteConfirm}\r\n          onCancel={handleDeleteCancel}\r\n          messagePreview={getMessagePreview()}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\n// Main Message Component that decides which type to render\r\nconst Message = (props) => {\r\n  // Check if this is a system message\r\n  if (props.message.messageType === 'system') {\r\n    return <SystemMessage message={props.message} isDark={props.isDark} />;\r\n  }\r\n\r\n  // Otherwise render as a regular message\r\n  return <RegularMessage {...props} />;\r\n};\r\n\r\nexport default Message;","import React, { useEffect, useRef, useState } from 'react';\nimport { ChevronUp } from 'lucide-react';\nimport Message from './Message';\n\nconst MessageList = ({\n  isDark,\n  currentUser,\n  activeChat,\n  messages,\n  typingUsers,\n  onImageClick,\n  onForward,\n  onReply,\n  onEditMessage,\n  onDeleteMessage,\n  onReactToMessage,\n  onLoadMoreMessages\n}) => {\n  const messagesEndRef = useRef(null);\n  const messagesContainerRef = useRef(null);\n  const messageRefs = useRef(new Map()); // Store refs to individual messages\n  const [showScrollButton, setShowScrollButton] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [hasMoreMessages, setHasMoreMessages] = useState(true);\n  const [highlightedMessageId, setHighlightedMessageId] = useState(null);\n\n  // Helper function to normalize user ID\n  const getUserId = (user) => {\n    if (typeof user === 'string') return user;\n    return user?._id || user?.id;\n  };\n\n  // Listen for scroll to message events from search\n  useEffect(() => {\n    const handleScrollToMessage = (event) => {\n      const { messageId } = event.detail;\n      scrollToMessage(messageId);\n    };\n\n    window.addEventListener('scrollToMessage', handleScrollToMessage);\n    return () => {\n      window.removeEventListener('scrollToMessage', handleScrollToMessage);\n    };\n  }, [messages]);\n\n  // Function to scroll to a specific message\n  const scrollToMessage = async (messageId) => {\n    // Set highlight immediately when search is triggered\n    setHighlightedMessageId(messageId);\n    \n    // First, check if the message is already loaded\n    let messageElement = messageRefs.current.get(messageId);\n    \n    if (messageElement) {\n      // Message is already visible, scroll to it\n      messageElement.scrollIntoView({ \n        behavior: 'smooth', \n        block: 'center' \n      });\n      \n      // Keep highlight for 3 seconds\n      setTimeout(() => setHighlightedMessageId(null), 3000);\n      return;\n    }\n\n    // Check if message exists in current messages array\n    const messageExists = messages.some(msg => msg._id === messageId);\n    \n    if (messageExists) {\n      // Message exists but ref not set, wait for render\n      let retries = 0;\n      const maxRetries = 10;\n      \n      const checkForElement = () => {\n        retries++;\n        messageElement = messageRefs.current.get(messageId);\n        \n        if (messageElement) {\n          messageElement.scrollIntoView({ \n            behavior: 'smooth', \n            block: 'center' \n          });\n          setTimeout(() => setHighlightedMessageId(null), 3000);\n        } else if (retries < maxRetries) {\n          setTimeout(checkForElement, 200);\n        } else {\n          setHighlightedMessageId(null);\n        }\n      };\n      \n      setTimeout(checkForElement, 100);\n      return;\n    }\n  \n    \n    let attempts = 0;\n    const maxAttempts = 5;\n    \n    const loadAndSearch = async () => {\n      while (attempts < maxAttempts) {\n        \n        const newMessagesCount = await loadMoreMessages();\n        \n        if (newMessagesCount === 0) {\n          setHighlightedMessageId(null);\n          break;\n        }\n        \n        attempts++;\n        \n        // Wait for new messages to render\n        await new Promise(resolve => setTimeout(resolve, 800));\n        \n        // Check if message is now available\n        const messageInArray = messages.some(msg => msg._id === messageId);\n        if (messageInArray) {\n          \n          // Wait a bit more for refs to be set\n          setTimeout(() => {\n            const element = messageRefs.current.get(messageId);\n            if (element) {\n              element.scrollIntoView({ \n                behavior: 'smooth', \n                block: 'center' \n              });\n              setTimeout(() => setHighlightedMessageId(null), 3000);\n            } else {\n              setHighlightedMessageId(null);\n            }\n          }, 500);\n          return;\n        }\n      }\n      setHighlightedMessageId(null);\n    };\n    \n    loadAndSearch();\n  };\n\n  // Store message refs\n  const setMessageRef = (messageId, element) => {\n    if (element) {\n      messageRefs.current.set(messageId, element);\n    } else {\n      messageRefs.current.delete(messageId);\n    }\n  };\n\n  // Auto-scroll to bottom on new messages and initial render\n  useEffect(() => {\n    if (messagesContainerRef.current && !highlightedMessageId) {\n      const container = messagesContainerRef.current;\n      const isScrolledToBottom = container.scrollHeight - container.clientHeight <= container.scrollTop + 50;\n      \n      // Only auto-scroll if user is already at the bottom or if it's a new conversation\n      if (isScrolledToBottom || messages.length <= 1) {\n        setTimeout(() => {\n          messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n        }, 100);\n      }\n    }\n  }, [messages, highlightedMessageId]);\n\n  // Scroll to bottom on initial render and when activeChat changes\n  useEffect(() => {\n    // Clear message refs when chat changes\n    messageRefs.current.clear();\n    setHighlightedMessageId(null);\n    \n    const timer = setTimeout(() => {\n      messagesEndRef.current?.scrollIntoView({ behavior: 'auto' });\n    }, 100);\n\n    return () => clearTimeout(timer);\n  }, [activeChat]);\n\n  // Also scroll immediately when component first mounts\n  useEffect(() => {\n    if (messages.length > 0 && !highlightedMessageId) {\n      const timer = setTimeout(() => {\n        messagesEndRef.current?.scrollIntoView({ behavior: 'auto' });\n      }, 200);\n      \n      return () => clearTimeout(timer);\n    }\n  }, [messages.length, highlightedMessageId]);\n\n  // Reset pagination when chat changes\n  useEffect(() => {\n    setPage(1);\n    setHasMoreMessages(true);\n  }, [activeChat]);\n\n  useEffect(() => {\n    // Reset pagination when messages are cleared or significantly reduced\n    if (!messages || messages.length === 0) {\n      console.log('Messages cleared - resetting pagination');\n      setPage(1);\n      setHasMoreMessages(true);\n      setLoading(false);\n      messageRefs.current.clear();\n      setHighlightedMessageId(null);\n    }\n  }, [messages?.length]);\n\n  // Handle scroll events\n  const handleScroll = () => {\n    if (!messagesContainerRef.current) return;\n\n    const container = messagesContainerRef.current;\n    const isScrolledToBottom = container.scrollHeight - container.clientHeight <= container.scrollTop + 100;\n    \n    setShowScrollButton(!isScrolledToBottom);\n\n    // Load more messages when scrolled to top\n    if (container.scrollTop === 0 && hasMoreMessages && !loading) {\n      loadMoreMessages();\n    }\n  };\n\n  // Load more messages\nconst loadMoreMessages = async () => {\n  if (!onLoadMoreMessages || loading || !hasMoreMessages) return 0;\n\n  setLoading(true);\n  try {\n    // Start from page 2 for additional loads, page 1 for initial/cleared state\n    const nextPage = messages.length === 0 ? 1 : page + 1;\n    console.log(`MessageList: Loading page ${nextPage}, current page: ${page}, messages count: ${messages.length}`);\n    \n    const newMessagesCount = await onLoadMoreMessages(activeChat._id, nextPage);\n    \n    if (newMessagesCount === 0) {\n      setHasMoreMessages(false);\n      console.log('No more messages to load');\n    } else {\n      setPage(nextPage);\n      console.log(`Loaded ${newMessagesCount} messages, updated page to ${nextPage}`);\n    }\n    return newMessagesCount;\n  } catch (error) {\n    console.error('Failed to load more messages:', error);\n    return 0;\n  } finally {\n    setLoading(false);\n  }\n};\n\n\n  // Scroll to bottom with smooth animation\n  const scrollToBottom = () => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  };\n\n  // Enhanced scroll to specific message function (can be called externally)\n  const scrollToSpecificMessage = (messageId) => {\n    scrollToMessage(messageId);\n  };\n\n  // Expose scroll function via ref (optional)\n  useEffect(() => {\n    if (typeof onLoadMoreMessages === 'function') {\n      // Attach scroll function to window for external access\n      window.scrollToMessage = scrollToSpecificMessage;\n    }\n    \n    return () => {\n      if (window.scrollToMessage) {\n        delete window.scrollToMessage;\n      }\n    };\n  }, []);\n\n  // Get message element by ID (helper function)\n  const getMessageElement = (messageId) => {\n    return messageRefs.current.get(messageId);\n  };\n\n  // Check if message is in view\n  const isMessageInView = (messageId) => {\n    const element = messageRefs.current.get(messageId);\n    if (!element || !messagesContainerRef.current) return false;\n    \n    const container = messagesContainerRef.current;\n    const rect = element.getBoundingClientRect();\n    const containerRect = container.getBoundingClientRect();\n    \n    return (\n      rect.top >= containerRect.top &&\n      rect.bottom <= containerRect.bottom\n    );\n  };\n\n  // Format typing users\n  const getTypingText = () => {\n    if (!typingUsers || typingUsers.size === 0) return '';\n    \n    const typingArray = Array.from(typingUsers);\n    if (typingArray.length === 1) {\n      return `${typingArray[0]} is typing...`;\n    } else if (typingArray.length === 2) {\n      return `${typingArray[0]} and ${typingArray[1]} are typing...`;\n    } else {\n      return `${typingArray[0]} and ${typingArray.length - 1} others are typing...`;\n    }\n  };\n\n  // Group messages by date\n  const groupMessagesByDate = (messages) => {\n    const groups = [];\n    let currentDate = null;\n    let currentGroup = null;\n\n    messages.forEach(message => {\n      const messageDate = new Date(message.createdAt || message.timestamp).toDateString();\n      \n      if (messageDate !== currentDate) {\n        if (currentGroup) {\n          groups.push(currentGroup);\n        }\n        currentDate = messageDate;\n        currentGroup = {\n          date: messageDate,\n          messages: [message]\n        };\n      } else {\n        currentGroup.messages.push(message);\n      }\n    });\n\n    if (currentGroup) {\n      groups.push(currentGroup);\n    }\n\n    return groups;\n  };\n\n  const messageGroups = groupMessagesByDate(messages || []);\n\n  return (\n    <div className=\"flex-1 flex flex-col relative h-full\">\n      {/* Custom scrollbar styles and highlight styles */}\n      <style jsx=\"true\">{`\n        .custom-scrollbar {\n          scrollbar-width: thin;\n          scrollbar-color: ${isDark ? '#4B5563 #1F2937' : '#D1D5DB #F9FAFB'};\n        }\n        \n        .custom-scrollbar::-webkit-scrollbar {\n          width: 8px;\n        }\n        \n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: ${isDark ? '#1F2937' : '#F9FAFB'};\n          border-radius: 4px;\n        }\n        \n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: ${isDark ? '#4B5563' : '#D1D5DB'};\n          border-radius: 4px;\n        }\n        \n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: ${isDark ? '#6B7280' : '#9CA3AF'};\n        }\n\n        /* Target message bubbles directly for gold color change only */\n        .highlighted-message div[class*=\"bg-gradient-to-r\"],\n        .highlighted-message div[class*=\"bg-gray-700\"],\n        .highlighted-message div[class*=\"bg-gray-200\"] {\n          background: linear-gradient(135deg, #42a5f5ff, #64b5f6ff, #90caf9ff) !important;\n          color: white !important;\n          transition: background 0.3s ease !important;\n        }\n      `}</style>\n\n      {/* Messages container with visible scrollbar */}\n      <div \n        ref={messagesContainerRef}\n        className=\"flex-1 overflow-y-auto p-4 custom-scrollbar\"\n        onScroll={handleScroll}\n      >\n        {/* Load more indicator */}\n        {loading && (\n          <div className=\"text-center py-4\">\n            <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto\"></div>\n            <p className=\"text-sm text-gray-500 mt-2\">Loading more messages...</p>\n          </div>\n        )}\n\n        {/* No more messages indicator */}\n        {!hasMoreMessages && messages && messages.length > 0 && (\n          <div className=\"text-center py-4\">\n            <p className=\"text-sm text-gray-500\">No more messages</p>\n          </div>\n        )}\n\n        {/* Empty state */}\n        {(!messages || messages.length === 0) && !loading && (\n          <div className=\"flex-1 flex items-center justify-center\">\n            <div className=\"text-center text-gray-500\">\n              <p className=\"text-lg mb-2\">No messages yet</p>\n              <p className=\"text-sm\">Start the conversation!</p>\n            </div>\n          </div>\n        )}\n\n        {/* Message groups */}\n        {messageGroups.map((group, groupIndex) => (\n          <div key={group.date}>\n            {/* Date separator */}\n            <div className=\"flex items-center justify-center my-4\">\n              <div className={`px-3 py-1 rounded-full text-xs ${\n                isDark ? 'bg-gray-700 text-gray-300' : 'bg-gray-200 text-gray-600'\n              }`}>\n                {new Date(group.date).toLocaleDateString('en-US', {\n                  weekday: 'long',\n                  year: 'numeric',\n                  month: 'long',\n                  day: 'numeric'\n                })}\n              </div>\n            </div>\n\n            {/* Messages in this group */}\n            {group.messages.map((message, index) => {\n              // Calculate ownership more robustly\n              const messageSenderId = getUserId(message.sender);\n              const currentUserId = getUserId(currentUser);\n              const isOwn = messageSenderId === currentUserId;\n              const isHighlighted = highlightedMessageId === message._id;\n              \n              return (\n                <div\n                  key={`${message._id || message.id || 'temp'}-${index}`}\n                  ref={(el) => setMessageRef(message._id, el)}\n                  className={isHighlighted ? 'highlighted-message' : ''}\n                  id={`message-${message._id}`}\n                >\n                  <Message\n                    message={message}\n                    isOwn={isOwn}\n                    currentUser={currentUser}\n                    activeChat={activeChat}\n                    messages={messages}\n                    isDark={isDark}\n                    onImageClick={onImageClick}\n                    onForward={onForward}\n                    onDeleteMessage={onDeleteMessage}\n                    onEditMessage={onEditMessage}\n                    onReply={onReply}\n                    onReactToMessage={onReactToMessage}\n                  />\n                </div>\n              );\n            })}\n          </div>\n        ))}\n        \n        {/* Typing indicator */}\n        {typingUsers && typingUsers.size > 0 && (\n          <div className=\"flex justify-start mb-4\">\n            <div className={`px-4 py-2 rounded-2xl ${\n              isDark ? 'bg-gray-700' : 'bg-gray-200'\n            }`}>\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"flex space-x-1\">\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n                  <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n                </div>\n                <span className=\"text-xs text-gray-500 ml-2\">\n                  {getTypingText()}\n                </span>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Scroll to bottom button with enhanced styling */}\n      {showScrollButton && (\n        <button\n          onClick={scrollToBottom}\n          className={`absolute bottom-6 right-6 p-3 rounded-full shadow-lg transition-all duration-300 hover:scale-110 z-10 ${\n            isDark ? 'bg-gray-700 hover:bg-gray-600 text-white' : 'bg-white hover:bg-gray-50 text-gray-700'\n          } border border-gray-200 dark:border-gray-600`}\n          title=\"Scroll to bottom\"\n        >\n          <ChevronUp className=\"w-5 h-5 transform rotate-180\" />\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default MessageList;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551',\n      key: '1miecu',\n    },\n  ],\n];\n\n/**\n * @component @name Paperclip\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgNi04LjQxNCA4LjU4NmEyIDIgMCAwIDAgMi44MjkgMi44MjlsOC40MTQtOC41ODZhNCA0IDAgMSAwLTUuNjU3LTUuNjU3bC04LjM3OSA4LjU1MWE2IDYgMCAxIDAgOC40ODUgOC40ODVsOC4zNzktOC41NTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/paperclip\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Paperclip = createLucideIcon('paperclip', __iconNode);\n\nexport default Paperclip;\n","// Emoji data organized by categories\r\nexport const emojiCategories = {\r\n  'Frequently Used': ['', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],\r\n  'Smileys': ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],\r\n  'Gestures': ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],\r\n  'Objects': ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']\r\n};","import React, { useRef, useEffect } from 'react';\r\nimport { emojiCategories } from '../../data/emojiData';\r\n\r\nconst EmojiPicker = ({ isDark, onEmojiSelect, onClose }) => {\r\n  const emojiPickerRef = useRef(null);\r\n\r\n  // Close emoji picker when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (emojiPickerRef.current && !emojiPickerRef.current.contains(event.target)) {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, [onClose]);\r\n\r\n  return (\r\n    <div \r\n      ref={emojiPickerRef}\r\n      className={`absolute bottom-12 left-0 w-72 sm:w-80 h-72 sm:h-80 max-w-[calc(100vw-2rem)] ${isDark ? 'bg-gray-700' : 'bg-white'} rounded-lg shadow-xl border z-50`}\r\n    >\r\n      <div className=\"p-4 h-full flex flex-col\">\r\n        <h3 className=\"font-semibold mb-3\">Emojis</h3>\r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          {Object.entries(emojiCategories).map(([category, emojis]) => (\r\n            <div key={category} className=\"mb-4\">\r\n              <h4 className=\"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2\">{category}</h4>\r\n              <div className=\"grid grid-cols-8 gap-2\">\r\n                {emojis.map(emoji => (\r\n                  <button\r\n                    key={emoji}\r\n                    onClick={() => onEmojiSelect(emoji)}\r\n                    className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded text-lg\"\r\n                  >\r\n                    {emoji}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmojiPicker;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z',\n      key: '1xq2db',\n    },\n  ],\n];\n\n/**\n * @component @name Zap\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxNGExIDEgMCAwIDEtLjc4LTEuNjNsOS45LTEwLjJhLjUuNSAwIDAgMSAuODYuNDZsLTEuOTIgNi4wMkExIDEgMCAwIDAgMTMgMTBoN2ExIDEgMCAwIDEgLjc4IDEuNjNsLTkuOSAxMC4yYS41LjUgMCAwIDEtLjg2LS40NmwxLjkyLTYuMDJBMSAxIDAgMCAwIDExIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/zap\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Zap = createLucideIcon('zap', __iconNode);\n\nexport default Zap;\n","import React, { useState, useEffect } from 'react';\r\nimport { Search, X, Zap } from 'lucide-react';\r\n\r\nconst API_KEY = 'AIzaSyAuITNIxi7_fxssgpsmgOWGJ8RVigPZGFc'; // Replace with your actual Tenor API key\r\n\r\nconst GifPicker = ({ isDark, onGifSelect, onClose }) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [showTrending, setShowTrending] = useState(true);\r\n\r\n  const fetchTrendingGifs = async () => {\r\n    setIsSearching(true);\r\n    setShowTrending(true);\r\n    try {\r\n      const response = await fetch(\r\n        `https://tenor.googleapis.com/v2/featured?key=${API_KEY}&limit=20`\r\n      );\r\n      const data = await response.json();\r\n      setSearchResults(data.results.map(gif => ({ \r\n        id: gif.id, \r\n        url: gif.media_formats.gif.url,\r\n        previewUrl: gif.media_formats.tinygif?.url || gif.media_formats.gif.url,\r\n        title: gif.content_description || 'GIF'\r\n      })));\r\n    } catch (error) {\r\n      console.error('Error fetching trending GIFs:', error);\r\n    } finally {\r\n      setIsSearching(false);\r\n    }\r\n  };\r\n\r\n  const searchGifs = async (query) => {\r\n    if (!query.trim()) {\r\n      fetchTrendingGifs();\r\n      return;\r\n    }\r\n\r\n    setIsSearching(true);\r\n    setShowTrending(false);\r\n    try {\r\n      const response = await fetch(\r\n        `https://tenor.googleapis.com/v2/search?q=${encodeURIComponent(query)}&key=${API_KEY}&limit=20`\r\n      );\r\n      const data = await response.json();\r\n      setSearchResults(data.results.map(gif => ({ \r\n        id: gif.id, \r\n        url: gif.media_formats.gif.url,\r\n        previewUrl: gif.media_formats.tinygif?.url || gif.media_formats.gif.url,\r\n        title: gif.content_description || 'GIF'\r\n      })));\r\n    } catch (error) {\r\n      console.error('Error searching GIFs:', error);\r\n    } finally {\r\n      setIsSearching(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const timeoutId = setTimeout(() => {\r\n      searchGifs(searchTerm);\r\n    }, 300);\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [searchTerm]);\r\n\r\n  useEffect(() => {\r\n    fetchTrendingGifs();\r\n  }, []);\r\n\r\n  const handleGifClick = (gif) => {\r\n    // Send the GIF URL directly as content - this will be treated as a text message with GIF content\r\n    onGifSelect({\r\n      url: gif.url,\r\n      title: gif.title || 'animated-gif', // Better default title\r\n      content: gif.url // This will be the message content\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={`fixed bottom-24 left-1/2 transform -translate-x-1/2 w-72 sm:w-80 h-80 sm:h-96 max-w-[calc(100vw-2rem)] rounded-lg shadow-lg border z-20 ${\r\n      isDark ? 'bg-gray-800 border-gray-600' : 'bg-white border-gray-200'\r\n    }`}>\r\n      {/* Header */}\r\n      <div className=\"p-3 border-b border-gray-200 dark:border-gray-700\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <h3 className=\"font-semibold text-sm\">GIFs</h3>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n          >\r\n            <X className=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Search Bar */}\r\n        <div className=\"relative\">\r\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search GIFs...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className={`w-full pl-10 pr-4 py-2 rounded-lg border text-sm ${\r\n              isDark \r\n                ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                : 'bg-gray-50 border-gray-300 placeholder-gray-500'\r\n            } focus:ring-2 focus:ring-blue-500 focus:border-transparent`}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"p-2 h-64 sm:h-80 overflow-y-auto\">\r\n        {/* Trending/Search Header */}\r\n        <div className=\"flex items-center space-x-2 mb-2 px-1\">\r\n          <Zap className=\"w-4 h-4 text-yellow-500\" />\r\n          <span className=\"text-sm font-medium\">\r\n            {showTrending ? 'Trending' : `Results for \"${searchTerm}\"`}\r\n          </span>\r\n        </div>\r\n\r\n        {/* Loading State */}\r\n        {isSearching && (\r\n          <div className=\"flex items-center justify-center h-32\">\r\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\r\n          </div>\r\n        )}\r\n\r\n        {/* No Results */}\r\n        {!isSearching && !showTrending && searchResults.length === 0 && searchTerm && (\r\n          <div className=\"flex flex-col items-center justify-center h-32 text-gray-500\">\r\n            <Search className=\"w-8 h-8 mb-2\" />\r\n            <p className=\"text-sm\">No GIFs found</p>\r\n            <p className=\"text-xs\">Try a different search term</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* GIF Grid */}\r\n        {!isSearching && searchResults.length > 0 && (\r\n          <div className=\"grid grid-cols-2 gap-2\">\r\n            {searchResults.map((gif) => (\r\n              <div\r\n                key={gif.id}\r\n                onClick={() => handleGifClick(gif)}\r\n                className=\"relative cursor-pointer rounded-lg overflow-hidden hover:opacity-80 transition-opacity group\"\r\n              >\r\n                <img\r\n                  src={gif.previewUrl}\r\n                  alt={gif.title}\r\n                  className=\"w-full h-24 object-cover\"\r\n                  loading=\"lazy\"\r\n                  onError={(e) => {\r\n                    // Fallback to main GIF URL if preview fails\r\n                    e.target.src = gif.url;\r\n                  }}\r\n                />\r\n                <div className=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all\"></div>\r\n                <div className=\"absolute bottom-1 left-1 right-1\">\r\n                  <p className=\"text-xs text-white bg-black bg-opacity-50 rounded px-1 py-0.5 truncate opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                    {gif.title}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <div className=\"p-2 border-t border-gray-200 dark:border-gray-700\">\r\n        <p className=\"text-xs text-gray-500 text-center\">\r\n          Powered by Tenor\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GifPicker;","import React, { useState, useRef, useEffect, useMemo } from \"react\";\nimport {\n  Send,\n  Paperclip,\n  Smile,\n  Reply,\n  X,\n  Image as ImageIcon,\n  Lock,\n  Shield,\n} from \"lucide-react\";\nimport { isFileMessage, getReplyPreviewText } from \"../utils/fileHelpers\";\nimport EmojiPicker from \"./Pickers/EmojiPicker\";\nimport GifPicker from \"./Pickers/GifPicker\";\n\nconst MessageInput = ({\n  isDark,\n  currentUser,\n  activeChat,\n  onSendMessage,\n  replyingTo,\n  setReplyingTo,\n  onTypingStart,\n  onTypingStop,\n  onBlockUser,\n}) => {\n  const [message, setMessage] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n  const [showGifPicker, setShowGifPicker] = useState(false);\n  const [sending, setSending] = useState(false);\n\n  const fileInputRef = useRef(null);\n  const typingTimeoutRef = useRef(null);\n  const lastTypingTime = useRef(0);\n\n  // Check if user can send messages in this conversation\n  const canSendMessage = () => {\n    if (!activeChat || !currentUser) return false;\n\n    // Check if user has left this conversation\n    if (activeChat.userLeft) return false;\n\n    // For direct messages and groups, all participants can send\n    if (activeChat.type === \"direct\" || activeChat.type === \"group\") {\n      return true;\n    }\n\n    // For broadcast channels, only admins can send\n    if (activeChat.type === \"broadcast\") {\n      // Check main admin - handle both string and object formats\n      const mainAdminId = typeof activeChat.admin === 'string' \n        ? activeChat.admin \n        : activeChat.admin?._id;\n        \n      if (mainAdminId === currentUser._id) return true;\n\n      // Check admins array - handle mixed formats\n      if (activeChat.admins && Array.isArray(activeChat.admins)) {\n        return activeChat.admins.some((admin) => {\n          const adminUserId = typeof admin === 'string' ? admin : admin?._id;\n          return adminUserId === currentUser._id;\n        });\n      }\n      return false;\n    }\n\n    return true;\n  };\n\n  // Send message\n  const sendMessage = async () => {\n    if (!message.trim() || !activeChat || sending || !canSendMessage()) return;\n\n    setSending(true);\n    try {\n      let replyId = null;\n      if (replyingTo) {\n        replyId = replyingTo._id;\n      }\n      await onSendMessage(message.trim(), null, replyId);\n\n      setMessage(\"\");\n      setReplyingTo(null);\n\n      // Stop typing indicator when message is sent\n      if (isTyping) {\n        setIsTyping(false);\n        onTypingStop?.(activeChat._id);\n      }\n    } catch (error) {\n      console.error(\"Failed to send message:\", error);\n    } finally {\n      setSending(false);\n    }\n  };\n\n  // Send GIF message - treat as file upload\n  const sendGifMessage = async (gif) => {\n    if (!activeChat || sending || !canSendMessage()) return;\n\n    setSending(true);\n    try {\n      // Fetch the GIF as a blob and create a file object\n      const response = await fetch(gif.url);\n      const blob = await response.blob();\n\n      // Create a File object from the blob with proper .gif extension\n      const fileName = gif.title\n        ? `${gif.title.replace(/[^a-zA-Z0-9]/g, \"_\")}.gif`\n        : \"animated-gif.gif\";\n      const file = new File([blob], fileName, {\n        type: \"image/gif\",\n      });\n\n      // Use the existing file upload mechanism\n      await onSendMessage(null, file);\n      setReplyingTo(null);\n      setShowGifPicker(false);\n\n      // Stop typing indicator when GIF is sent\n      if (isTyping) {\n        setIsTyping(false);\n        onTypingStop?.(activeChat._id);\n      }\n    } catch (error) {\n      console.error(\"Failed to send GIF message:\", error);\n    } finally {\n      setSending(false);\n    }\n  };\n\n  // Handle typing with Socket.IO integration\n  const handleTyping = (value) => {\n    setMessage(value);\n\n    // Don't show typing in broadcast if user can't send\n    if (!canSendMessage()) return;\n\n    const now = Date.now();\n    const timeSinceLastTyping = now - lastTypingTime.current;\n\n    // Only emit typing start if enough time has passed and we're not already typing\n    if (value.trim() && !isTyping && timeSinceLastTyping > 1000) {\n      setIsTyping(true);\n      onTypingStart?.(activeChat._id);\n      lastTypingTime.current = now;\n    }\n\n    // Clear existing timeout\n    clearTimeout(typingTimeoutRef.current);\n\n    // Set new timeout to stop typing\n    typingTimeoutRef.current = setTimeout(() => {\n      if (isTyping) {\n        setIsTyping(false);\n        onTypingStop?.(activeChat._id);\n      }\n    }, 2000); // Stop typing after 2 seconds of inactivity\n\n    // If message is empty, immediately stop typing\n    if (!value.trim() && isTyping) {\n      setIsTyping(false);\n      onTypingStop?.(activeChat._id);\n      clearTimeout(typingTimeoutRef.current);\n    }\n  };\n\n  // Handle emoji selection\n  const handleEmojiSelect = (emoji) => {\n    if (!canSendMessage()) return;\n\n    const newMessage = message + emoji;\n    setMessage(newMessage);\n    setShowEmojiPicker(false);\n\n    // Trigger typing if not already typing\n    handleTyping(newMessage);\n  };\n\n  // Handle GIF selection - updated\n  const handleGifSelect = (gif) => {\n    if (!canSendMessage()) return;\n\n    sendGifMessage(gif);\n    setShowGifPicker(false);\n  };\n\n  // File upload\n  const handleFileUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file || !activeChat || sending || !canSendMessage()) return;\n\n    setSending(true);\n    try {\n      await onSendMessage(null, file);\n      setReplyingTo(null);\n\n      // Stop typing indicator when file is sent\n      if (isTyping) {\n        setIsTyping(false);\n        onTypingStop?.(activeChat._id);\n      }\n    } catch (error) {\n      console.error(\"Failed to send file:\", error);\n    } finally {\n      setSending(false);\n    }\n\n    // Reset file input\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  // Close other pickers when one opens\n  const handleEmojiToggle = () => {\n    if (!canSendMessage()) return;\n    setShowEmojiPicker(!showEmojiPicker);\n    setShowGifPicker(false);\n  };\n\n  const handleGifToggle = () => {\n    if (!canSendMessage()) return;\n    setShowGifPicker(!showGifPicker);\n    setShowEmojiPicker(false);\n  };\n\n  // Auto-resize textarea\n  const autoResizeTextarea = (textarea) => {\n    textarea.style.height = \"auto\";\n    textarea.style.height = Math.min(textarea.scrollHeight, 120) + \"px\";\n  };\n\n  // Handle focus events for typing indicators\n  const handleFocus = () => {\n    if (message.trim() && canSendMessage()) {\n      handleTyping(message);\n    }\n  };\n\n  const handleBlur = () => {\n    // Stop typing when input loses focus\n    if (isTyping) {\n      setIsTyping(false);\n      onTypingStop?.(activeChat._id);\n      clearTimeout(typingTimeoutRef.current);\n    }\n  };\n\n  // Cleanup on unmount or activeChat change\n  useEffect(() => {\n    return () => {\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current);\n      }\n      if (isTyping) {\n        onTypingStop?.(activeChat?._id);\n      }\n    };\n  }, [activeChat]);\n\n  // Stop typing when component unmounts\n  useEffect(() => {\n    return () => {\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current);\n      }\n    };\n  }, []);\n\nconst blockingStatus = useMemo(() => {\n\n  if (!activeChat || !currentUser) return { isBlocked: false, reason: null };\n\n  // For direct conversations, check if either user has blocked the other\n  if (activeChat.type === \"direct\") {\n    const otherParticipant = activeChat.participants.find(\n      (p) => p.user._id !== currentUser._id\n    );\n\n    if (otherParticipant) {\n      // Check if current user has blocked the other user\n      const currentUserBlockedOther = currentUser.blockedUsers?.includes(otherParticipant.user._id) ||\n                                     otherParticipant.user.isBlockedByCurrentUser === true;\n\n      // Check if the other user has blocked current user\n      const otherUserBlockedCurrent = otherParticipant.user.hasBlockedCurrentUser === true;\n\n      console.log(\"Blocking check:\", {\n        currentUserBlockedOther,\n        otherUserBlockedCurrent,\n        otherUserId: otherParticipant.user._id,\n        blockedUsersList: currentUser.blockedUsers\n      });\n\n      if (currentUserBlockedOther) {\n        return {\n          isBlocked: true,\n          reason: `You have blocked ${otherParticipant.user.name}`,\n          type: \"you_blocked_them\",\n          otherUserId: otherParticipant.user._id,\n          otherUserName: otherParticipant.user.name,\n        };\n      }\n\n      if (otherUserBlockedCurrent) {\n        return {\n          isBlocked: true,\n          reason: `${otherParticipant.user.name} has blocked you`,\n          type: \"they_blocked_you\",\n          otherUserId: otherParticipant.user._id,\n          otherUserName: otherParticipant.user.name,\n        };\n      }\n    }\n  }\n\n  // For broadcast channels, check if user has admin permissions\n  if (activeChat.type === \"broadcast\") {\n    console.log(\"ChatInfo\", activeChat.admin, currentUser._id);\n    \n    // Check main admin - handle both string and object formats\n    const mainAdminId = typeof activeChat.admin === 'string' \n      ? activeChat.admin \n      : activeChat.admin?._id;\n    \n    const isMainAdmin = mainAdminId === currentUser._id;\n    \n    // Check admins array - handle mixed formats\n    const isAdditionalAdmin = activeChat.admins && Array.isArray(activeChat.admins) &&\n      activeChat.admins.some((admin) => {\n        const adminUserId = typeof admin === 'string' ? admin : admin?._id;\n        return adminUserId === currentUser._id;\n      });\n    \n    const isAdmin = isMainAdmin || isAdditionalAdmin;\n\n    if (!isAdmin) {\n      return {\n        isBlocked: true,\n        reason: \"Only administrators can send messages in broadcast channels\",\n        type: \"no_broadcast_permission\",\n      };\n    }\n  }\n\n  return { isBlocked: false, reason: null };\n}, [\n  activeChat?._id,\n  activeChat?.type,\n  activeChat?.participants,\n  activeChat?.admin?._id,\n  activeChat?.admins,\n  currentUser?._id,\n  currentUser?.blockedUsers,\n  // Add this to force recalculation when participants change\n  activeChat?.participants?.map(p => `${p.user._id}-${p.user.isBlockedByCurrentUser}-${p.user.hasBlockedCurrentUser}`).join(',')\n]);\n\n  const handleUnblockUser = async (userId) => {\n    try {\n      console.log(\" Attempting to unblock user:\", userId);\n\n      if (onBlockUser) {\n        await onBlockUser(userId);\n\n        // Force a small delay to ensure state updates have propagated\n        setTimeout(() => {\n          console.log(\n            \" Unblock completed, current user blocked list:\",\n            currentUser?.blockedUsers\n          );\n        }, 100);\n      }\n    } catch (error) {\n      console.error(\" Failed to unblock user:\", error);\n    }\n  };\n\n  // // Add debugging useEffect to track blocking status changes\n  // useEffect(() => {\n  //   console.log(\" Blocking status changed:\", blockingStatus);\n  // }, [blockingStatus]);\n\n  // If user cannot send messages (broadcast channel non-admin)\n  if (!canSendMessage()) {\n    return (\n      <div\n        className={`p-4 border-t ${\n          isDark ? \"bg-gray-800 border-gray-800\" : \"bg-white border-gray-200\"\n        }`}\n      >\n        <div\n          className={`flex items-center justify-center space-x-3 p-4 rounded-lg ${\n            isDark ? \"bg-gray-700\" : \"bg-gray-100\"\n          }`}\n        >\n          <Lock className=\"w-5 h-5 text-gray-500\" />\n          <span className=\"text-gray-500 text-sm\">\n            {activeChat?.userLeft \n              ? \"You have left this conversation\"\n              : `Only administrators can send messages in this ${\n                  activeChat?.type === \"broadcast\" ? \"channel\" : \"conversation\"\n                }`\n            }\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      {replyingTo && (\n        <div\n          className={`px-4 py-2 border-t ${\n            isDark\n              ? \"bg-gray-800 border-gray-800\"\n              : \"bg-gray-50 border-gray-200\"\n          }`}\n        >\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-2\">\n              <Reply className=\"w-4 h-4 text-blue-500\" />\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-xs text-gray-500\">\n                  Replying to {replyingTo.sender?.name || \"message\"}\n                </p>\n                <p className=\"text-sm truncate\">\n                  {/* Use helper function for proper file display */}\n                  {isFileMessage(replyingTo)\n                    ? getReplyPreviewText(replyingTo, 30)\n                    : replyingTo.content || \"Message\"}\n                </p>\n              </div>\n            </div>\n            <button\n              onClick={() => setReplyingTo(null)}\n              className=\"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\"\n              title=\"Cancel reply\"\n            >\n              <X className=\"w-4 h-4\" />\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Message Input - key prop forces re-render when blocking status changes */}\n      <div\n        key={`input-${blockingStatus.isBlocked}-${\n          blockingStatus.type || \"none\"\n        }`}\n        className={`p-3 md:p-4 border-t relative ${\n          isDark ? \"bg-gray-800 border-gray-800\" : \"bg-white border-gray-200\"\n        }`}\n      >\n        <div className=\"flex items-end space-x-2 md:space-x-3\">\n          {/* Action buttons - smaller on mobile */}\n          <div className=\"flex space-x-1 md:space-x-2 flex-shrink-0\">\n            {/* File upload */}\n            <input\n              type=\"file\"\n              ref={fileInputRef}\n              onChange={handleFileUpload}\n              className=\"hidden\"\n              accept=\"image/*,.gif,.pdf,.doc,.docx,.txt,.zip,.rar\"\n              disabled={sending || blockingStatus.isBlocked}\n            />\n            <button\n              onClick={() =>\n                !blockingStatus.isBlocked && fileInputRef.current?.click()\n              }\n              disabled={sending || blockingStatus.isBlocked}\n              className={`p-1.5 md:p-2 rounded-lg transition-colors ${\n                sending || blockingStatus.isBlocked\n                  ? \"opacity-50 cursor-not-allowed text-gray-400\"\n                  : \"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400\"\n              }`}\n              title={\n                blockingStatus.isBlocked ? blockingStatus.reason : \"Attach file\"\n              }\n            >\n              <Paperclip className=\"w-4 h-4 md:w-5 md:h-5\" />\n            </button>\n\n            {/* Emoji Picker */}\n            <div className=\"relative\">\n              <button\n                onClick={() => !blockingStatus.isBlocked && handleEmojiToggle()}\n                disabled={sending || blockingStatus.isBlocked}\n                className={`p-1.5 md:p-2 rounded-lg transition-colors ${\n                  sending || blockingStatus.isBlocked\n                    ? \"opacity-50 cursor-not-allowed text-gray-400\"\n                    : `hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 ${\n                        showEmojiPicker ? \"bg-gray-100 dark:bg-gray-700\" : \"\"\n                      }`\n                }`}\n                title={\n                  blockingStatus.isBlocked ? blockingStatus.reason : \"Add emoji\"\n                }\n              >\n                <Smile className=\"w-4 h-4 md:w-5 md:h-5\" />\n              </button>\n\n              {showEmojiPicker && !blockingStatus.isBlocked && (\n                <EmojiPicker\n                  isDark={isDark}\n                  onEmojiSelect={handleEmojiSelect}\n                  onClose={() => setShowEmojiPicker(false)}\n                />\n              )}\n            </div>\n\n            {/* GIF Picker */}\n            <div className=\"relative\">\n              <button\n                onClick={() => !blockingStatus.isBlocked && handleGifToggle()}\n                disabled={sending || blockingStatus.isBlocked}\n                className={`p-1.5 md:p-2 rounded-lg transition-colors ${\n                  sending || blockingStatus.isBlocked\n                    ? \"opacity-50 cursor-not-allowed text-gray-400\"\n                    : `hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 ${\n                        showGifPicker ? \"bg-gray-100 dark:bg-gray-700\" : \"\"\n                      }`\n                }`}\n                title={\n                  blockingStatus.isBlocked ? blockingStatus.reason : \"Send GIF\"\n                }\n              >\n                <ImageIcon className=\"w-4 h-4 md:w-5 md:h-5\" />\n              </button>\n\n              {showGifPicker && !blockingStatus.isBlocked && (\n                <GifPicker\n                  isDark={isDark}\n                  onGifSelect={handleGifSelect}\n                  onClose={() => setShowGifPicker(false)}\n                />\n              )}\n            </div>\n          </div>\n\n          {/* Text input */}\n          <div className=\"flex-1 relative min-w-0\">\n            <textarea\n              key={`textarea-${blockingStatus.isBlocked}`} // Force re-render\n              value={blockingStatus.isBlocked ? \"\" : message}\n              onChange={(e) => {\n                if (!blockingStatus.isBlocked) {\n                  handleTyping(e.target.value);\n                  autoResizeTextarea(e.target);\n                }\n              }}\n              onKeyPress={(e) => {\n                if (!blockingStatus.isBlocked) {\n                  handleKeyPress(e);\n                }\n              }}\n              onFocus={!blockingStatus.isBlocked ? handleFocus : undefined}\n              onBlur={!blockingStatus.isBlocked ? handleBlur : undefined}\n              placeholder={\n                blockingStatus.isBlocked\n                  ? blockingStatus.reason\n                  : sending\n                  ? \"Sending...\"\n                  : activeChat?.type === \"broadcast\"\n                  ? \"Broadcast a message...\"\n                  : \"Type a message...\"\n              }\n              disabled={sending || blockingStatus.isBlocked}\n              rows={1}\n              className={`w-full px-3 md:px-4 py-2 md:py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-all ${\n                sending || blockingStatus.isBlocked\n                  ? \"opacity-50 cursor-not-allowed\"\n                  : \"\"\n              } ${\n                isDark\n                  ? \"bg-gray-700 border-gray-800 text-white placeholder-gray-400\"\n                  : \"bg-gray-50 border-gray-300 placeholder-gray-500\"\n              }`}\n              style={{\n                minHeight: \"40px\",\n                maxHeight: \"120px\",\n              }}\n            />\n\n            {/* Typing indicator - only show if not blocked */}\n            {isTyping && !blockingStatus.isBlocked && (\n              <div className=\"absolute -top-6 left-0 text-xs text-blue-500 animate-pulse\">\n                You are typing...\n              </div>\n            )}\n          </div>\n\n          {/* Send button */}\n          <button\n            onClick={() => !blockingStatus.isBlocked && sendMessage()}\n            disabled={!message.trim() || sending || blockingStatus.isBlocked}\n            className={`p-2 md:p-3 rounded-lg font-semibold transition-all transform flex-shrink-0 ${\n              blockingStatus.isBlocked\n                ? \"bg-gray-400 text-gray-600 cursor-not-allowed\"\n                : activeChat?.type === \"broadcast\"\n                ? \"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white\"\n                : \"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white\"\n            } ${\n              !message.trim() || sending || blockingStatus.isBlocked\n                ? \"opacity-50 cursor-not-allowed\"\n                : \"hover:scale-105\"\n            }`}\n            title={\n              blockingStatus.isBlocked\n                ? blockingStatus.reason\n                : sending\n                ? \"Sending...\"\n                : \"Send message\"\n            }\n          >\n            <Send className={`w-4 h-4 md:w-5 md:h-5 ${sending ? \"animate-pulse\" : \"\"}`} />\n          </button>\n        </div>\n\n        {/* Character limit indicator (optional) - only show if not blocked */}\n        {message.length > 950 && !blockingStatus.isBlocked && (\n          <div className=\"mt-2 text-xs text-right\">\n            <span\n              className={\n                message.length > 1000 ? \"text-red-500\" : \"text-yellow-500\"\n              }\n            >\n              {message.length}/1000\n            </span>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default MessageInput;\n","// components/Modals/ConfirmationModal.js\r\nimport { X, AlertTriangle, Trash2, UserX, LogOut, MessageSquare } from 'lucide-react';\r\n\r\nconst ConfirmationModal = ({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  title,\r\n  message,\r\n  confirmText = \"Confirm\",\r\n  cancelText = \"Cancel\",\r\n  type = \"default\", \r\n  isDark = false,\r\n  icon = null,\r\n  details = null\r\n}) => {\r\n  if (!isOpen) return null;\r\n\r\n  const getTypeStyles = () => {\r\n    switch (type) {\r\n      case \"danger\":\r\n        return {\r\n          iconBg: \"bg-red-100 dark:bg-red-900\",\r\n          iconColor: \"text-red-600 dark:text-red-400\",\r\n          confirmButton: \"bg-red-600 hover:bg-red-700 text-white\",\r\n          defaultIcon: AlertTriangle\r\n        };\r\n      case \"warning\":\r\n        return {\r\n          iconBg: \"bg-yellow-100 dark:bg-yellow-900\",\r\n          iconColor: \"text-yellow-600 dark:text-yellow-400\",\r\n          confirmButton: \"bg-yellow-600 hover:bg-yellow-700 text-white\",\r\n          defaultIcon: AlertTriangle\r\n        };\r\n      case \"info\":\r\n        return {\r\n          iconBg: \"bg-blue-100 dark:bg-blue-900\",\r\n          iconColor: \"text-blue-600 dark:text-blue-400\",\r\n          confirmButton: \"bg-blue-600 hover:bg-blue-700 text-white\",\r\n          defaultIcon: MessageSquare\r\n        };\r\n      default:\r\n        return {\r\n          iconBg: \"bg-gray-100 dark:bg-gray-700\",\r\n          iconColor: \"text-gray-600 dark:text-gray-400\",\r\n          confirmButton: \"bg-blue-600 hover:bg-blue-700 text-white\",\r\n          defaultIcon: MessageSquare\r\n        };\r\n    }\r\n  };\r\n\r\n  const typeStyles = getTypeStyles();\r\n  const IconComponent = icon || typeStyles.defaultIcon;\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      {/* Backdrop */}\r\n      <div \r\n        className=\"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm transition-opacity\"\r\n        onClick={handleBackdropClick}\r\n      />\r\n      \r\n      {/* Modal */}\r\n      <div className=\"flex min-h-full items-center justify-center p-4\">\r\n        <div \r\n          className={`\r\n            relative w-full max-w-md transform overflow-hidden rounded-2xl shadow-2xl transition-all\r\n            ${isDark ? 'bg-gray-800 text-white' : 'bg-white text-gray-900'}\r\n          `}\r\n          onClick={(e) => e.stopPropagation()}\r\n        >\r\n          {/* Close button */}\r\n          <button\r\n            onClick={onClose}\r\n            className={`\r\n              absolute right-4 top-4 p-1 rounded-lg transition-colors\r\n              ${isDark ? 'hover:bg-gray-700 text-gray-400 hover:text-white' : 'hover:bg-gray-100 text-gray-500 hover:text-gray-700'}\r\n            `}\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n\r\n          <div className=\"p-6\">\r\n            {/* Icon */}\r\n            <div className=\"flex items-center justify-center mb-4\">\r\n              <div className={`w-16 h-16 rounded-full flex items-center justify-center ${typeStyles.iconBg}`}>\r\n                <IconComponent className={`w-8 h-8 ${typeStyles.iconColor}`} />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"text-center\">\r\n              <h3 className=\"text-lg font-semibold mb-2\">\r\n                {title}\r\n              </h3>\r\n              \r\n              <p className={`text-sm mb-4 ${isDark ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                {message}\r\n              </p>\r\n\r\n              {/* Additional details */}\r\n              {details && (\r\n                <div className={`\r\n                  text-xs p-3 rounded-lg mb-4 \r\n                  ${isDark ? 'bg-gray-700 text-gray-300' : 'bg-gray-100 text-gray-600'}\r\n                `}>\r\n                  {details}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Buttons */}\r\n            <div className=\"flex space-x-3 mt-6\">\r\n              <button\r\n                onClick={onClose}\r\n                className={`\r\n                  flex-1 px-4 py-2 rounded-lg border transition-colors font-medium\r\n                  ${isDark \r\n                    ? 'border-gray-600 text-gray-300 hover:bg-gray-700' \r\n                    : 'border-gray-300 text-gray-700 hover:bg-gray-50'\r\n                  }\r\n                `}\r\n              >\r\n                {cancelText}\r\n              </button>\r\n              \r\n              <button\r\n                onClick={onConfirm}\r\n                className={`\r\n                  flex-1 px-4 py-2 rounded-lg transition-colors font-medium transform hover:scale-105\r\n                  ${typeStyles.confirmButton}\r\n                `}\r\n              >\r\n                {confirmText}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmationModal;","// ===== ChatArea.js =====\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useUser } from '../contexts/UserContext';\r\nimport ChatHeader from './ChatHeader';\r\nimport MessageList from './MessageList';\r\nimport MessageInput from './MessageInput';\r\nimport ConfirmationModal from './Modals/ConfirmationModal';\r\nimport { Trash2, UserX, LogOut, Eraser } from 'lucide-react';\r\n\r\nconst ChatArea = ({\r\n  messages,\r\n  typingUsers,\r\n  onProfileClick,\r\n  onImageClick,\r\n  onForward,\r\n  onSendMessage,\r\n  onEditMessage,\r\n  onDeleteMessage,\r\n  onReactToMessage,\r\n  onLoadMoreMessages,\r\n  onTypingStart,\r\n  onTypingStop,\r\n  onUpdateConversation,\r\n  onDeleteConversation,\r\n  onAddParticipant,\r\n  onRemoveParticipant,\r\n  onAddAdmin,\r\n  onRemoveAdmin,\r\n  onConversationViewed,\r\n  onClearChat,\r\n  onBlockUser, // This is the actual block function from ChatApp\r\n  onLeaveConversation\r\n}) => {\r\n  const {\r\n    currentUser,\r\n    activeChat,\r\n    onlineUsers,\r\n    isDark,\r\n    conversations\r\n  } = useUser();\r\n\r\n  const [replyingTo, setReplyingTo] = useState(null);\r\n  \r\n  // Confirmation modal state\r\n  const [confirmationModal, setConfirmationModal] = useState({\r\n    isOpen: false,\r\n    type: 'default',\r\n    title: '',\r\n    message: '',\r\n    confirmText: 'Confirm',\r\n    cancelText: 'Cancel',\r\n    onConfirm: () => {},\r\n    icon: null,\r\n    details: null\r\n  });\r\n\r\n  // Modal helper functions\r\n  const showConfirmationModal = (config) => {\r\n    setConfirmationModal({\r\n      isOpen: true,\r\n      type: config.type || 'default',\r\n      title: config.title,\r\n      message: config.message,\r\n      confirmText: config.confirmText || 'Confirm',\r\n      cancelText: config.cancelText || 'Cancel',\r\n      onConfirm: config.onConfirm,\r\n      icon: config.icon || null,\r\n      details: config.details || null\r\n    });\r\n  };\r\n\r\n  const hideConfirmationModal = () => {\r\n    setConfirmationModal(prev => ({ ...prev, isOpen: false }));\r\n  };\r\n\r\n  // Get block status helper function\r\n  const getBlockedStatus = (userId) => {\r\n    const conversation = conversations.find(conv => \r\n      conv.type === 'direct' && conv.participants.some(p => p.user._id === userId)\r\n    );\r\n    \r\n    const otherUser = conversation?.participants?.find(p => p.user._id === userId)?.user;\r\n    const isCurrentlyBlocked = currentUser?.blockedUsers?.includes(userId);\r\n    \r\n    return {\r\n      otherUser,\r\n      isCurrentlyBlocked,\r\n      conversation\r\n    };\r\n  };\r\n\r\n  // Enhanced confirmation handlers\r\n  const handleClearChat = async (conversationId) => {\r\n    const conversation = conversations.find(conv => conv._id === conversationId);\r\n    const conversationName = conversation?.name || \r\n      conversation?.participants?.find(p => p.user._id !== currentUser._id)?.user?.name || \r\n      'this chat';\r\n    \r\n    showConfirmationModal({\r\n      type: 'warning',\r\n      title: 'Clear Chat',\r\n      message: `Clear all messages in \"${conversationName}\"?`,\r\n      details: 'This action cannot be undone. All messages, files, and media will be permanently deleted from this chat.',\r\n      confirmText: 'Clear Chat',\r\n      cancelText: 'Keep Messages',\r\n      icon: Eraser,\r\n      onConfirm: async () => {\r\n        try {\r\n          await onClearChat(conversationId);\r\n          hideConfirmationModal();\r\n        } catch (error) {\r\n          console.error('Failed to clear chat:', error);\r\n          hideConfirmationModal();\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // This function shows confirmation and calls the actual block function\r\n  const handleBlockUser = async (userId) => {\r\n    console.log('ChatArea: Block user confirmation requested for:', userId);\r\n    \r\n    const { otherUser, isCurrentlyBlocked } = getBlockedStatus(userId);\r\n    \r\n    if (!otherUser) {\r\n      console.error('User not found');\r\n      return;\r\n    }\r\n\r\n    console.log('Block status check:', {\r\n      userId,\r\n      otherUserName: otherUser.name,\r\n      isCurrentlyBlocked,\r\n      currentUserBlockedUsers: currentUser?.blockedUsers\r\n    });\r\n\r\n    showConfirmationModal({\r\n      type: isCurrentlyBlocked ? 'info' : 'danger',\r\n      title: isCurrentlyBlocked ? 'Unblock User' : 'Block User',\r\n      message: isCurrentlyBlocked \r\n        ? `Unblock ${otherUser.name}?`\r\n        : `Block ${otherUser.name}?`,\r\n      details: isCurrentlyBlocked\r\n        ? 'They will be able to send you messages and see when you\\'re online.'\r\n        : 'They won\\'t be able to send you messages or see when you\\'re online. You can unblock them anytime.',\r\n      confirmText: isCurrentlyBlocked ? 'Unblock' : 'Block User',\r\n      cancelText: 'Cancel',\r\n      icon: UserX,\r\n      onConfirm: async () => {\r\n        try {\r\n          console.log('Confirmation accepted, calling onBlockUser with:', userId);\r\n          await onBlockUser(userId); // Call the actual block function from ChatApp\r\n          hideConfirmationModal();\r\n        } catch (error) {\r\n          console.error('Failed to block/unblock user:', error);\r\n          hideConfirmationModal();\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleLeaveConversation = async (conversationId) => {\r\n    const conversation = conversations.find(conv => conv._id === conversationId);\r\n    const conversationName = conversation?.name || 'this conversation';\r\n    const conversationType = conversation?.type === 'broadcast' ? 'channel' : 'group';\r\n    \r\n    // Check if user is the only admin\r\n    const isOnlyAdmin = conversation?.admins?.length === 1 && \r\n                        conversation.admins[0]._id === currentUser._id &&\r\n                        conversation.participants?.length > 1;\r\n\r\n    let warningMessage = `You won't be able to see new messages unless someone adds you back.`;\r\n    \r\n    if (isOnlyAdmin) {\r\n      warningMessage = `You are the only administrator. Leaving will make this ${conversationType} without any admin. Consider promoting someone else first.`;\r\n    }\r\n\r\n    showConfirmationModal({\r\n      type: 'warning',\r\n      title: `Leave ${conversationType === 'channel' ? 'Channel' : 'Group'}`,\r\n      message: `Leave \"${conversationName}\"?`,\r\n      details: warningMessage,\r\n      confirmText: `Leave ${conversationType === 'channel' ? 'Channel' : 'Group'}`,\r\n      cancelText: 'Stay',\r\n      icon: LogOut,\r\n      onConfirm: async () => {\r\n        try {\r\n          await onLeaveConversation(conversationId);\r\n          hideConfirmationModal();\r\n        } catch (error) {\r\n          console.error(`Failed to leave ${conversationType}:`, error);\r\n          hideConfirmationModal();\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleShowDeleteConfirmation = () => {\r\n    // Handle different conversation types\r\n    if (activeChat?.type === 'direct') {\r\n      const otherUser = activeChat.participants?.find(p => p.user._id !== currentUser._id)?.user;\r\n      const userName = otherUser?.name || 'Unknown User';\r\n      \r\n      showConfirmationModal({\r\n        type: 'danger',\r\n        title: 'Delete Chat',\r\n        message: `Delete chat with ${userName}?`,\r\n        details: 'This will permanently delete this conversation and all its messages. The other person will also lose access to this chat history.',\r\n        confirmText: 'Delete Chat',\r\n        cancelText: 'Keep Chat',\r\n        icon: Trash2,\r\n        onConfirm: async () => {\r\n          try {\r\n            await onDeleteConversation(activeChat._id);\r\n            hideConfirmationModal();\r\n          }\r\n          catch{\r\n            console.error(`Failed to delete conversation`);\r\n            hideConfirmationModal();\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      // Group/Broadcast logic\r\n      const conversationType = activeChat?.type === 'broadcast' ? 'channel' : 'group';\r\n      const conversationName = activeChat?.name || `this ${conversationType}`;\r\n      \r\n      showConfirmationModal({\r\n        type: 'danger',\r\n        title: `Delete ${conversationType === 'channel' ? 'Channel' : 'Group'}`,\r\n        message: `Delete \"${conversationName}\"?`,\r\n        details: `This will permanently delete the ${conversationType} and all its messages for everyone. This action cannot be undone.`,\r\n        confirmText: `Delete ${conversationType === 'channel' ? 'Channel' : 'Group'}`,\r\n        cancelText: 'Keep',\r\n        icon: Trash2,\r\n        onConfirm: async () => {\r\n          try {\r\n            await onDeleteConversation(activeChat._id);\r\n            hideConfirmationModal();\r\n          } catch (error) {\r\n            console.error('Failed to delete conversation:', error);\r\n            hideConfirmationModal();\r\n          }\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  // Handle reply\r\n  const handleReply = (message) => {\r\n    setReplyingTo(message);\r\n  };\r\n\r\n  // Handle send message\r\n  const handleSendMessage = async (content, file = null, replyTo = null) => {\r\n    try {\r\n      if (!activeChat) {\r\n        console.error('No active chat selected');\r\n        return;\r\n      }\r\n\r\n      await onSendMessage(activeChat._id, content, file, replyTo);\r\n      \r\n      if (replyTo) {\r\n        setReplyingTo(null);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to send message:', error);\r\n    }\r\n  };\r\n\r\n  // Effect to handle conversation viewing with debounce\r\n  useEffect(() => {\r\n    if (activeChat && onConversationViewed) {\r\n      // Add a longer delay to debounce rapid conversation switches\r\n      const timer = setTimeout(() => {\r\n        onConversationViewed(activeChat._id);\r\n      }, 500); // Increased from 100ms to 500ms\r\n      \r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [activeChat?._id, onConversationViewed]);\r\n\r\n  if (!activeChat) {\r\n    return (\r\n      <div className=\"flex-1 flex items-center justify-center\">\r\n        <div className=\"text-center text-gray-500\">\r\n          <p>No chat selected</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      <ChatHeader\r\n        isDark={isDark}\r\n        currentUser={currentUser}\r\n        activeChat={activeChat}\r\n        onlineUsers={onlineUsers}\r\n        onProfileClick={onProfileClick}\r\n        onUpdateConversation={onUpdateConversation}\r\n        onDeleteConversation={onDeleteConversation}\r\n        onAddParticipant={onAddParticipant}\r\n        onRemoveParticipant={onRemoveParticipant}\r\n        onAddAdmin={onAddAdmin}\r\n        onRemoveAdmin={onRemoveAdmin}\r\n        onClearChat={handleClearChat}\r\n        onBlockUser={handleBlockUser} // This shows confirmation and calls actual block\r\n        onLeaveConversation={handleLeaveConversation}\r\n        onShowDeleteConfirmation={handleShowDeleteConfirmation}\r\n      />\r\n\r\n      <div className=\"flex-1 flex flex-col min-h-0\">\r\n        <MessageList\r\n          isDark={isDark}\r\n          currentUser={currentUser}\r\n          activeChat={activeChat}\r\n          messages={messages || []}\r\n          typingUsers={typingUsers}\r\n          onImageClick={onImageClick}\r\n          onForward={onForward}\r\n          onReply={handleReply}\r\n          onEditMessage={onEditMessage}\r\n          onDeleteMessage={onDeleteMessage}\r\n          onReactToMessage={onReactToMessage}\r\n          onLoadMoreMessages={onLoadMoreMessages}\r\n        />\r\n      </div>\r\n\r\n      <MessageInput\r\n        isDark={isDark}\r\n        currentUser={currentUser}\r\n        activeChat={activeChat}\r\n        onSendMessage={handleSendMessage}\r\n        replyingTo={replyingTo}\r\n        setReplyingTo={setReplyingTo}\r\n        onTypingStart={() => onTypingStart(activeChat._id)}\r\n        onTypingStop={() => onTypingStop(activeChat._id)}\r\n        onBlockUser={handleBlockUser}\r\n      />\r\n\r\n      {/* Confirmation Modal */}\r\n      {confirmationModal.isOpen && (\r\n        <ConfirmationModal\r\n          isOpen={confirmationModal.isOpen}\r\n          onClose={hideConfirmationModal}\r\n          onConfirm={confirmationModal.onConfirm}\r\n          title={confirmationModal.title}\r\n          message={confirmationModal.message}\r\n          confirmText={confirmationModal.confirmText}\r\n          cancelText={confirmationModal.cancelText}\r\n          type={confirmationModal.type}\r\n          icon={confirmationModal.icon}\r\n          details={confirmationModal.details}\r\n          isDark={isDark}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatArea;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }]];\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('loader-circle', __iconNode);\n\nexport default LoaderCircle;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z',\n      key: '1c8476',\n    },\n  ],\n  ['path', { d: 'M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7', key: '1ydtos' }],\n  ['path', { d: 'M7 3v4a1 1 0 0 0 1 1h7', key: 't51u73' }],\n];\n\n/**\n * @component @name Save\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUuMiAzYTIgMiAwIDAgMSAxLjQuNmwzLjggMy44YTIgMiAwIDAgMSAuNiAxLjRWMTlhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTcgMjF2LTdhMSAxIDAgMCAwLTEtMUg4YTEgMSAwIDAgMC0xIDF2NyIgLz4KICA8cGF0aCBkPSJNNyAzdjRhMSAxIDAgMCAwIDEgMWg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/save\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Save = createLucideIcon('save', __iconNode);\n\nexport default Save;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',\n      key: '1a8usu',\n    },\n  ],\n];\n\n/**\n * @component @name Pen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuMTc0IDYuODEyYTEgMSAwIDAgMC0zLjk4Ni0zLjk4N0wzLjg0MiAxNi4xNzRhMiAyIDAgMCAwLS41LjgzbC0xLjMyMSA0LjM1MmEuNS41IDAgMCAwIC42MjMuNjIybDQuMzUzLTEuMzJhMiAyIDAgMCAwIC44My0uNDk3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pen = createLucideIcon('pen', __iconNode);\n\nexport default Pen;\n","import React, { useState, useEffect } from 'react';\nimport { ArrowLeft, Phone, MessageSquare, Edit2, Save, X, Loader2, Check } from 'lucide-react';\nimport { useUser } from '../../contexts/UserContext';\nimport { usersService } from '../../api/users';\n\n// Default avatar options\nconst DEFAULT_AVATARS = [\n  '', '', '', '', '', '', '', '',\n  '', '', '', '', '', '', '', '',\n  '', '', '', '', '', '', '', '',\n  '', '', '', '', '', '', '', '',\n  '', '', '', '', '', '', '', '',\n  '', '', '', '', '', '', '', '',\n  '', '', '', '', '', '', '', ''\n];\n\nconst ProfileModal = ({ user, onClose }) => {\n  const { currentUser, updateUserProfile, isDark } = useUser();\n  const [isEditing, setIsEditing] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [showAvatarPicker, setShowAvatarPicker] = useState(false);\n  const [currentUserData, setCurrentUserData] = useState(user);\n  const [editedUser, setEditedUser] = useState({\n    name: user.name || '',\n    email: user.email || '',\n    bio: user.bio || '',\n    phone: user.phone || '',\n    status: user.status || 'online',\n    avatar: user.avatar || ''\n  });\n\n  // Update currentUserData when user prop changes\n  useEffect(() => {\n    setCurrentUserData(user);\n    setEditedUser({\n      name: user.name || '',\n      email: user.email || '',\n      bio: user.bio || '',\n      phone: user.phone || '',\n      status: user.status || 'online',\n      avatar: user.avatar || ''\n    });\n  }, [user]);\n\n  const handleSave = async () => {\n    setIsLoading(true);\n    setError('');\n\n    try {\n      // Prepare data to send (only changed fields)\n      const updateData = {};\n      if (editedUser.name !== currentUserData.name) updateData.name = editedUser.name;\n      if (editedUser.email !== currentUserData.email) updateData.email = editedUser.email;\n      if (editedUser.bio !== currentUserData.bio) updateData.bio = editedUser.bio;\n      if (editedUser.phone !== currentUserData.phone) updateData.phone = editedUser.phone;\n      if (editedUser.status !== currentUserData.status) updateData.status = editedUser.status;\n      if (editedUser.avatar !== currentUserData.avatar) updateData.avatar = editedUser.avatar;\n\n      // Only make API call if there are changes\n      if (Object.keys(updateData).length > 0) {\n        const response = await usersService.updateProfile(updateData);\n        \n        if (response.success) {\n          // Update local state\n          setCurrentUserData(response.user);\n          \n          // Update global user state using context (this will update sidebar automatically)\n          updateUserProfile(response.user);\n          \n          setIsEditing(false);\n        }\n      } else {\n        // No changes made\n        setIsEditing(false);\n      }\n    } catch (error) {\n      console.error('Failed to update profile:', error);\n      setError(error.message || 'Failed to update profile. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleCancel = () => {\n    // Reset to current values\n    setEditedUser({\n      name: currentUserData.name || '',\n      email: currentUserData.email || '',\n      bio: currentUserData.bio || '',\n      phone: currentUserData.phone || '',\n      status: currentUserData.status || 'online',\n      avatar: currentUserData.avatar || ''\n    });\n    setError('');\n    setIsEditing(false);\n    setShowAvatarPicker(false);\n  };\n\n  const handleInputChange = (field, value) => {\n    setEditedUser(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    \n    // Clear error when user starts typing\n    if (error) {\n      setError('');\n    }\n  };\n\n  const handleAvatarSelect = (avatar) => {\n    setEditedUser(prev => ({\n      ...prev,\n      avatar: avatar\n    }));\n    setShowAvatarPicker(false);\n    \n    // Clear error when user selects avatar\n    if (error) {\n      setError('');\n    }\n  };\n\n  const isOwnProfile = (currentUserData._id === currentUser?._id) || \n                      (currentUserData.id === currentUser?.id);\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\n      <div className={`w-full max-w-md mx-4 ${isDark ? 'bg-gray-800' : 'bg-white'} rounded-lg shadow-xl max-h-96 overflow-y-auto`}>\n        {/* Profile Header */}\n        <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n          <div className=\"flex items-center justify-between\">\n            <button \n              onClick={onClose} \n              className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\"\n              disabled={isLoading}\n            >\n              <ArrowLeft className=\"w-5 h-5\" />\n            </button>\n            <h2 className=\"text-lg font-semibold\">Profile</h2>\n            {isOwnProfile && (\n              <div className=\"flex space-x-2\">\n                {isEditing ? (\n                  <>\n                    <button \n                      onClick={handleCancel}\n                      className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500\"\n                      disabled={isLoading}\n                    >\n                      <X className=\"w-5 h-5\" />\n                    </button>\n                    <button \n                      onClick={handleSave}\n                      className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-green-600\"\n                      disabled={isLoading}\n                    >\n                      {isLoading ? (\n                        <Loader2 className=\"w-5 h-5 animate-spin\" />\n                      ) : (\n                        <Save className=\"w-5 h-5\" />\n                      )}\n                    </button>\n                  </>\n                ) : (\n                  <button \n                    onClick={() => setIsEditing(true)}\n                    className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\"\n                  >\n                    <Edit2 className=\"w-5 h-5\" />\n                  </button>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"mx-4 mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg\">\n            {error}\n          </div>\n        )}\n\n        {/* Profile Content */}\n        <div className=\"p-6\">\n          {/* Avatar and basic info */}\n          <div className=\"text-center mb-6\">\n            <div className=\"relative inline-block\">\n              <div className=\"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-3xl\">\n                {(isEditing ? editedUser.avatar : currentUserData.avatar) || currentUserData.name?.charAt(0).toUpperCase() || ''}\n              </div>\n              {isOwnProfile && isEditing && (\n                <button \n                  onClick={() => setShowAvatarPicker(!showAvatarPicker)}\n                  className=\"absolute -bottom-2 -right-2 p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors\"\n                >\n                  <Edit2 className=\"w-4 h-4\" />\n                </button>\n              )}\n            </div>\n            \n            {/* Name */}\n            <div className=\"mt-4\">\n              {isEditing ? (\n                <input\n                  type=\"text\"\n                  value={editedUser.name}\n                  onChange={(e) => handleInputChange('name', e.target.value)}\n                  className={`text-xl font-semibold text-center w-full px-3 py-2 rounded-lg border ${\n                    isDark \n                      ? 'bg-gray-700 border-gray-600 text-white' \n                      : 'bg-white border-gray-300 text-gray-900'\n                  } focus:ring-2 focus:ring-blue-500 focus:border-transparent`}\n                  disabled={isLoading}\n                  maxLength={50}\n                  placeholder=\"Enter your name\"\n                />\n              ) : (\n                <h3 className=\"text-xl font-semibold\">{currentUserData.name || 'No name set'}</h3>\n              )}\n            </div>\n\n            {/* Email */}\n            <div className=\"mt-2\">\n              {isEditing ? (\n                <input\n                  type=\"email\"\n                  value={editedUser.email}\n                  onChange={(e) => handleInputChange('email', e.target.value)}\n                  className={`text-center w-full px-3 py-1 rounded-lg border ${\n                    isDark \n                      ? 'bg-gray-700 border-gray-600 text-gray-400' \n                      : 'bg-white border-gray-300 text-gray-500'\n                  } focus:ring-2 focus:ring-blue-500 focus:border-transparent`}\n                  disabled={isLoading}\n                  placeholder=\"Enter your email\"\n                />\n              ) : (\n                <p className=\"text-gray-500\">{currentUserData.email || 'No email set'}</p>\n              )}\n            </div>\n\n            {/* Status - Read Only */}\n            <div className=\"mt-2\">\n              <div className={`inline-flex items-center px-3 py-1 rounded-full text-sm ${\n                currentUserData.status === 'online' ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300' :\n                currentUserData.status === 'away' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300' :\n                'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300'\n              }`}>\n                {currentUserData.status || 'online'}\n              </div>\n            </div>\n          </div>\n\n          {/* Bio */}\n          <div className=\"mb-6\">\n            <h4 className=\"font-semibold mb-2\">About</h4>\n            {isEditing ? (\n              <textarea\n                value={editedUser.bio}\n                onChange={(e) => handleInputChange('bio', e.target.value)}\n                rows={3}\n                className={`w-full px-3 py-2 rounded-lg border ${\n                  isDark \n                    ? 'bg-gray-700 border-gray-600 text-gray-300' \n                    : 'bg-white border-gray-300 text-gray-600'\n                } focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none`}\n                placeholder=\"Tell us about yourself...\"\n                disabled={isLoading}\n                maxLength={500}\n              />\n            ) : (\n              <p className=\"text-gray-600 dark:text-gray-400\">\n                {currentUserData.bio || 'No bio added yet.'}\n              </p>\n            )}\n          </div>\n\n          {/* Contact info */}\n          <div className=\"space-y-4\">\n            <div>\n              <h4 className=\"font-semibold mb-2\">Contact Info</h4>\n              <div className=\"space-y-3\">\n                {/* Phone */}\n                <div className=\"flex items-center space-x-3\">\n                  <Phone className=\"w-5 h-5 text-gray-400 flex-shrink-0\" />\n                  {isEditing ? (\n                    <input\n                      type=\"tel\"\n                      value={editedUser.phone}\n                      onChange={(e) => handleInputChange('phone', e.target.value)}\n                      className={`flex-1 px-3 py-1 rounded-lg border ${\n                        isDark \n                          ? 'bg-gray-700 border-gray-600 text-white' \n                          : 'bg-white border-gray-300 text-gray-900'\n                      } focus:ring-2 focus:ring-blue-500 focus:border-transparent`}\n                      disabled={isLoading}\n                      placeholder=\"Enter phone number\"\n                    />\n                  ) : (\n                    <span>{currentUserData.phone || 'No phone number'}</span>\n                  )}\n                </div>\n                \n                {/* Email (read-only in contact section) */}\n                <div className=\"flex items-center space-x-3\">\n                  <MessageSquare className=\"w-5 h-5 text-gray-400 flex-shrink-0\" />\n                  <span>{isEditing ? editedUser.email : currentUserData.email || 'No email set'}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Action buttons */}\n          {!isOwnProfile && (\n            <div className=\"mt-6 space-y-3\">\n              <button \n                onClick={onClose}\n                className=\"w-full py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\"\n              >\n                Send Message\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* Avatar Picker Modal */}\n        {showAvatarPicker && (\n          <div className=\"fixed inset-0 z-60 flex items-center justify-center bg-black bg-opacity-50\">\n            <div className={`w-full max-w-md mx-4 ${isDark ? 'bg-gray-800' : 'bg-white'} rounded-lg shadow-xl`}>\n              <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-lg font-semibold\">Choose Avatar</h3>\n                  <button \n                    onClick={() => setShowAvatarPicker(false)}\n                    className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\"\n                  >\n                    <X className=\"w-5 h-5\" />\n                  </button>\n                </div>\n              </div>\n              \n              <div className=\"p-6\">\n                <div className=\"grid grid-cols-8 gap-3 max-h-64 overflow-y-auto\">\n                  {DEFAULT_AVATARS.map((avatar, index) => (\n                    <button\n                      key={index}\n                      onClick={() => handleAvatarSelect(avatar)}\n                      className={`w-12 h-12 rounded-full flex items-center justify-center text-2xl hover:scale-110 transition-all ${\n                        editedUser.avatar === avatar\n                          ? 'ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900'\n                          : 'hover:bg-gray-100 dark:hover:bg-gray-700'\n                      }`}\n                    >\n                      {avatar}\n                      {editedUser.avatar === avatar && (\n                        <div className=\"absolute inset-0 flex items-center justify-center\">\n                          <Check className=\"w-4 h-4 text-blue-500\" />\n                        </div>\n                      )}\n                    </button>\n                  ))}\n                </div>\n                \n                <div className=\"mt-4 text-center\">\n                  <button\n                    onClick={() => handleAvatarSelect('')}\n                    className={`px-4 py-2 rounded-lg text-sm ${\n                      editedUser.avatar === ''\n                        ? 'bg-blue-500 text-white'\n                        : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600'\n                    }`}\n                  >\n                    Use Initial Letter\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileModal;","import React, { useState } from \"react\";\r\nimport { X, Send, Search, Check } from \"lucide-react\";\r\nimport { getFileDisplayName, isFileMessage } from \"../../utils/fileHelpers\";\r\n\r\nconst ForwardModal = ({\r\n  message,\r\n  conversations,\r\n  activeChat,\r\n  isDark,\r\n  currentUser,\r\n  onForward,\r\n  onClose,\r\n}) => {\r\n  const [selectedConversations, setSelectedConversations] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Get other user in direct conversation\r\n  const getOtherUser = (conversation) => {\r\n    // Only for direct conversations (not groups or broadcasts)\r\n    if (conversation.type === \"group\" || conversation.type === \"broadcast\") return null;\r\n    const otherParticipant = conversation.participants.find(\r\n      (participant) => participant.user._id !== currentUser?._id\r\n    );\r\n    return otherParticipant ? otherParticipant.user : null;\r\n  };\r\n\r\n  // Get conversation display name\r\n  const getConversationName = (conversation) => {\r\n    if (conversation.type === \"group\" || conversation.type === \"broadcast\") {\r\n      return conversation.name || (conversation.type === \"broadcast\" ? \"Broadcast\" : \"Group Chat\");\r\n    } else {\r\n      const otherUser = getOtherUser(conversation);\r\n      return otherUser?.name || \"Unknown User\";\r\n    }\r\n  };\r\n\r\n  // Filter conversations (exclude current chat)\r\n  const availableConversations = conversations.filter(\r\n    (conv) =>\r\n      conv._id !== activeChat?._id &&\r\n      (searchQuery === \"\" ||\r\n        getConversationName(conv)\r\n          .toLowerCase()\r\n          .includes(searchQuery.toLowerCase()))\r\n  );\r\n\r\n  // Toggle conversation selection\r\n  const toggleConversation = (conversation) => {\r\n    setSelectedConversations((prev) => {\r\n      const isSelected = prev.some((c) => c._id === conversation._id);\r\n      if (isSelected) {\r\n        return prev.filter((c) => c._id !== conversation._id);\r\n      } else {\r\n        return [...prev, conversation];\r\n      }\r\n    });\r\n  };\r\n\r\n  // Handle forward - Updated to support multiple conversations properly\r\n  const handleForward = async () => {\r\n    if (selectedConversations.length === 0) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      // Forward to all selected conversations at once\r\n      await onForward(selectedConversations, message);\r\n      onClose();\r\n    } catch (error) {\r\n      console.error(\"Forward failed:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Get message preview for display - Fixed to show proper file names\r\n  const getMessagePreview = () => {\r\n    if (isFileMessage(message)) {\r\n      const displayName = getFileDisplayName(message);\r\n      return message.displayText || displayName;\r\n    }\r\n    return message.content || message.displayText || \"Message\";\r\n  };\r\n\r\n  // Get file type indicator for the preview\r\n  const getFileTypeIndicator = () => {\r\n    if (!isFileMessage(message)) return null;\r\n\r\n    const messageType = message.messageType || message.originalMessage?.messageType;\r\n    const fileInfo = message.fileInfo || message.originalMessage?.fileInfo;\r\n    const fileName = getFileDisplayName(message.originalMessage || message);\r\n    \r\n    // Determine if it's a GIF\r\n    const isGif = fileName.toLowerCase().endsWith('.gif') || \r\n                  fileInfo?.type === 'image/gif' ||\r\n                  fileInfo?.originalName?.toLowerCase().endsWith('.gif');\r\n\r\n    switch (messageType) {\r\n      case 'image':\r\n        return isGif ? ' GIF' : ' Image';\r\n      case 'video':\r\n        return ' Video';\r\n      case 'audio':\r\n        return ' Audio';\r\n      case 'pdf':\r\n        return ' PDF';\r\n      case 'document':\r\n        return ' Document';\r\n      case 'xlsx':\r\n        return ' Spreadsheet';\r\n      default:\r\n        return ' File';\r\n    }\r\n  };\r\n\r\n  // Get conversation avatar/icon\r\n  const getConversationAvatar = (conversation) => {\r\n    if (conversation.type === \"group\") {\r\n      return conversation.avatar || \"\";\r\n    } else if (conversation.type === \"broadcast\") {\r\n      return conversation.avatar || \"\";\r\n    } else {\r\n      const otherUser = getOtherUser(conversation);\r\n      return otherUser?.avatar || otherUser?.name?.charAt(0).toUpperCase() || \"\";\r\n    }\r\n  };\r\n\r\n  // Get conversation gradient\r\n  const getConversationGradient = (conversation) => {\r\n    if (conversation.type === \"group\") {\r\n      return \"bg-gradient-to-r from-green-500 to-teal-600\";\r\n    } else if (conversation.type === \"broadcast\") {\r\n      return \"bg-gradient-to-r from-purple-500 to-pink-600\";\r\n    } else {\r\n      return \"bg-gradient-to-r from-blue-500 to-purple-600\";\r\n    }\r\n  };\r\n\r\n  // Get conversation subtitle\r\n  const getConversationSubtitle = (conversation) => {\r\n    if (conversation.type === \"group\") {\r\n      return `${conversation.participants.length} members`;\r\n    } else if (conversation.type === \"broadcast\") {\r\n      return `${conversation.participants.length} subscribers`;\r\n    } else {\r\n      const otherUser = getOtherUser(conversation);\r\n      return otherUser?.email || \"Direct message\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div\r\n        className={`w-full max-w-md rounded-2xl shadow-2xl ${\r\n          isDark ? \"bg-gray-800 text-white\" : \"bg-white\"\r\n        }`}\r\n      >\r\n        {/* Header */}\r\n        <div className=\"p-6 border-b border-gray-200 dark:border-gray-700\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <h2 className=\"text-xl font-bold\">Forward Message</h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\r\n              disabled={loading}\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Message Preview - Enhanced to show proper file names */}\r\n        <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\r\n          <div className=\"text-sm text-gray-500 mb-2\">Message to forward:</div>\r\n          <div\r\n            className={`p-3 rounded-lg ${\r\n              isDark ? \"bg-gray-700\" : \"bg-gray-100\"\r\n            }`}\r\n          >\r\n            <div className=\"text-sm\">\r\n              {isFileMessage(message) ? (\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className=\"text-lg\">{getFileTypeIndicator()?.split(' ')[0]}</span>\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"font-medium truncate\" title={getFileDisplayName(message.originalMessage || message)}>\r\n                          {getFileDisplayName(message.originalMessage || message)}\r\n                        </div>\r\n                        <div className=\"text-xs text-gray-500\">\r\n                          {getFileTypeIndicator()?.split(' ').slice(1).join(' ')}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"break-words\">\r\n                  <span className=\"truncate max-w-[200px] inline-block\" title={getMessagePreview()}>\r\n                    {getMessagePreview()}\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Search */}\r\n        <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search conversations...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className={`w-full pl-10 pr-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\r\n                isDark\r\n                  ? \"bg-gray-700 border-gray-600 text-white placeholder-gray-400\"\r\n                  : \"bg-gray-50 border-gray-300\"\r\n              }`}\r\n              disabled={loading}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Conversation List */}\r\n        <div className=\"max-h-64 overflow-y-auto\">\r\n          {availableConversations.length === 0 ? (\r\n            <div className=\"p-4 text-center text-gray-500\">\r\n              {searchQuery\r\n                ? \"No conversations found\"\r\n                : \"No other conversations available\"}\r\n            </div>\r\n          ) : (\r\n            availableConversations.map((conversation) => {\r\n              const isSelected = selectedConversations.some(\r\n                (c) => c._id === conversation._id\r\n              );\r\n              const conversationName = getConversationName(conversation);\r\n\r\n              return (\r\n                <div\r\n                  key={conversation._id}\r\n                  onClick={() => !loading && toggleConversation(conversation)}\r\n                  className={`p-4 cursor-pointer transition-colors border-b border-gray-100 dark:border-gray-700 ${\r\n                    isSelected\r\n                      ? isDark\r\n                        ? \"bg-blue-600 hover:bg-blue-700\"\r\n                        : \"bg-blue-50 hover:bg-blue-100\"\r\n                      : isDark\r\n                      ? \"hover:bg-gray-700\"\r\n                      : \"hover:bg-gray-50\"\r\n                  } ${loading ? \"opacity-50 cursor-not-allowed\" : \"\"}`}\r\n                >\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"relative\">\r\n                      <div\r\n                        className={`w-10 h-10 ${getConversationGradient(conversation)} rounded-full flex items-center justify-center`}\r\n                      >\r\n                        <span className=\"text-white font-semibold\">\r\n                          {getConversationAvatar(conversation)}\r\n                        </span>\r\n                      </div>\r\n                      {isSelected && (\r\n                        <div className=\"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center\">\r\n                          <Check className=\"w-3 h-3 text-white\" />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <h3\r\n                        className={`font-medium truncate ${\r\n                          isSelected\r\n                            ? isDark\r\n                              ? \"text-white\"\r\n                              : \"text-blue-900\"\r\n                            : \"\"\r\n                        }`}\r\n                      >\r\n                        {conversationName}\r\n                      </h3>\r\n                      <p\r\n                        className={`text-sm truncate ${\r\n                          isSelected\r\n                            ? isDark\r\n                              ? \"text-blue-100\"\r\n                              : \"text-blue-600\"\r\n                            : \"text-gray-500\"\r\n                        }`}\r\n                      >\r\n                        {getConversationSubtitle(conversation)}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"p-4 border-t border-gray-200 dark:border-gray-700\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"text-sm text-gray-500\">\r\n              {selectedConversations.length > 0 &&\r\n                `${selectedConversations.length} conversation${\r\n                  selectedConversations.length > 1 ? \"s\" : \"\"\r\n                } selected`}\r\n            </div>\r\n            <div className=\"flex space-x-2\">\r\n              <button\r\n                onClick={onClose}\r\n                disabled={loading}\r\n                className={`px-4 py-2 rounded-lg border transition-colors ${\r\n                  isDark\r\n                    ? \"border-gray-600 hover:bg-gray-700 disabled:opacity-50\"\r\n                    : \"border-gray-300 hover:bg-gray-50 disabled:opacity-50\"\r\n                } disabled:cursor-not-allowed`}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleForward}\r\n                disabled={selectedConversations.length === 0 || loading}\r\n                className=\"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center space-x-2\"\r\n              >\r\n                {loading ? (\r\n                  <>\r\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                    <span>Forwarding...</span>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Send className=\"w-4 h-4\" />\r\n                    <span>Forward</span>\r\n                  </>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForwardModal;","import React, { useState, useEffect } from 'react';\r\nimport { X, Users, Search, Plus, Crown, Check, UserPlus, MessageSquare, Radio, Shield } from 'lucide-react';\r\nimport { usersService } from '../../api/users';\r\nimport { useUser } from '../../contexts/UserContext';\r\n\r\nconst CreateConversationModal = ({ \r\n  isOpen, \r\n  onClose, \r\n  onCreateConversation,\r\n  onCreateDirectConversation,\r\n  isDark,\r\n  mode = 'select' // 'select', 'direct', 'group', 'broadcast'\r\n}) => {\r\n  const { currentUser, conversations } = useUser();\r\n  \r\n  // Modal state\r\n  const [currentMode, setCurrentMode] = useState(mode);\r\n  const [step, setStep] = useState(1); // 1: Type selection or details, 2: Add participants, 3: Admin settings\r\n  \r\n  // Common form data\r\n  const [conversationName, setConversationName] = useState('');\r\n  const [conversationDescription, setConversationDescription] = useState('');\r\n  const [conversationAvatar, setConversationAvatar] = useState('');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [selectedParticipants, setSelectedParticipants] = useState([]);\r\n  const [searching, setSearching] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  \r\n  // Admin management\r\n  const [selectedAdmins, setSelectedAdmins] = useState([]);\r\n  const [isBroadcast, setIsBroadcast] = useState(false);\r\n  \r\n  // Avatar options for different conversation types\r\n  const groupAvatars = ['', '', '', '', '', '', '', '', '', ''];\r\n  const broadcastAvatars = ['', '', '', '', '', '', '', '', '', ''];\r\n\r\n  // Reset form when modal opens/closes or mode changes\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setCurrentMode(mode);\r\n      setStep(mode === 'select' ? 1 : (mode === 'direct' ? 2 : 1));\r\n      setConversationName('');\r\n      setConversationDescription('');\r\n      setConversationAvatar(mode === 'broadcast' ? '' : '');\r\n      setSearchQuery('');\r\n      setSearchResults([]);\r\n      setSelectedParticipants([]);\r\n      setSelectedAdmins([]);\r\n      setIsBroadcast(mode === 'broadcast');\r\n      setError('');\r\n    }\r\n  }, [isOpen, mode]);\r\n\r\n  // Search for users with debouncing\r\n  const handleSearchUsers = async (query) => {\r\n    if (!query.trim() || query.length < 2) {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    setSearching(true);\r\n    setError('');\r\n\r\n    try {\r\n      const result = await usersService.searchByEmail(query);\r\n      if (result.success && result.users) {\r\n        // Filter out current user and already selected participants\r\n        const filteredUsers = result.users.filter(user => \r\n          user._id !== currentUser._id && \r\n          !selectedParticipants.some(p => p._id === user._id)\r\n        );\r\n        setSearchResults(filteredUsers);\r\n      } else {\r\n        setSearchResults([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Search error:', error);\r\n      setError('Failed to search users');\r\n      setSearchResults([]);\r\n    } finally {\r\n      setSearching(false);\r\n    }\r\n  };\r\n\r\n  // Debounced search\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      handleSearchUsers(searchQuery);\r\n    }, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [searchQuery]);\r\n\r\n  // Add participant\r\n  const handleAddParticipant = (user) => {\r\n    if (!selectedParticipants.some(p => p._id === user._id)) {\r\n      setSelectedParticipants([...selectedParticipants, user]);\r\n      setSearchQuery('');\r\n      setSearchResults([]);\r\n    }\r\n  };\r\n\r\n  // Remove participant\r\n  const handleRemoveParticipant = (userId) => {\r\n    setSelectedParticipants(selectedParticipants.filter(p => p._id !== userId));\r\n    // Also remove from admins if they were an admin\r\n    setSelectedAdmins(selectedAdmins.filter(adminId => adminId !== userId));\r\n  };\r\n\r\n  // Toggle admin status\r\n  const handleToggleAdmin = (userId) => {\r\n    if (selectedAdmins.includes(userId)) {\r\n      setSelectedAdmins(selectedAdmins.filter(id => id !== userId));\r\n    } else {\r\n      setSelectedAdmins([...selectedAdmins, userId]);\r\n    }\r\n  };\r\n\r\n  // Handle direct message creation\r\n  const handleCreateDirectMessage = async () => {\r\n    if (selectedParticipants.length !== 1) {\r\n      setError('Please select exactly one person for direct message');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      // Check if conversation already exists\r\n      const foundUser = selectedParticipants[0];\r\n      const existingConv = conversations.find(conv => \r\n        conv.type === 'direct' && \r\n        conv.participants.some(participant => \r\n          participant.user._id === foundUser._id\r\n        )\r\n      );\r\n\r\n      if (existingConv) {\r\n        onClose();\r\n        // The parent component should handle setting active chat\r\n        return;\r\n      }\r\n\r\n      await onCreateDirectConversation(foundUser._id);\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Failed to create direct conversation:', error);\r\n      setError('Failed to create conversation. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Navigation functions\r\n  const handleNext = () => {\r\n    if (step === 1 && currentMode !== 'direct') {\r\n      if (!conversationName.trim()) {\r\n        setError(`${currentMode === 'broadcast' ? 'Channel' : 'Group'} name is required`);\r\n        return;\r\n      }\r\n      setError('');\r\n      setStep(2);\r\n    } else if (step === 2) {\r\n      if (currentMode === 'direct') {\r\n        handleCreateDirectMessage();\r\n      } else if (selectedParticipants.length === 0) {\r\n        setError('Please add at least one participant');\r\n        return;\r\n      } else {\r\n        setError('');\r\n        setStep(3);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    if (step === 3) {\r\n      setStep(2);\r\n    } else if (step === 2) {\r\n      if (currentMode === 'direct') {\r\n        setCurrentMode('select');\r\n        setStep(1);\r\n      } else {\r\n        setStep(1);\r\n      }\r\n    } else if (step === 1 && currentMode !== 'select') {\r\n      setCurrentMode('select');\r\n    }\r\n    setError('');\r\n  };\r\n\r\n  // Create conversation\r\n  const handleCreate = async () => {\r\n    if (selectedParticipants.length === 0) {\r\n      setError('Please add at least one participant');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const participantIds = selectedParticipants.map(p => p._id);\r\n      const conversationType = currentMode === 'broadcast' ? 'broadcast' : 'group';\r\n      \r\n      // For broadcast channels, only creator is admin unless specified\r\n      const adminIds = currentMode === 'broadcast' \r\n        ? [currentUser._id, ...selectedAdmins]\r\n        : [currentUser._id, ...selectedAdmins];\r\n      \r\n      await onCreateConversation(\r\n        participantIds,\r\n        conversationName.trim(),\r\n        conversationType,\r\n        {\r\n          description: conversationDescription.trim(),\r\n          avatar: conversationAvatar,\r\n          admins: adminIds,\r\n          isBroadcast: currentMode === 'broadcast'\r\n        }\r\n      );\r\n\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('Failed to create conversation:', error);\r\n      setError(`Failed to create ${currentMode === 'broadcast' ? 'channel' : 'group'}. Please try again.`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Get current avatar options\r\n  const getAvatarOptions = () => {\r\n    return currentMode === 'broadcast' ? broadcastAvatars : groupAvatars;\r\n  };\r\n\r\n  // Get step title\r\n  const getStepTitle = () => {\r\n    if (currentMode === 'select') return 'New Conversation';\r\n    if (currentMode === 'direct') return 'Direct Message';\r\n    if (currentMode === 'broadcast') {\r\n      if (step === 1) return 'Create Broadcast Channel';\r\n      if (step === 2) return 'Add Subscribers';\r\n      if (step === 3) return 'Admin Settings';\r\n    } else {\r\n      if (step === 1) return 'Create Group';\r\n      if (step === 2) return 'Add Participants';\r\n      if (step === 3) return 'Admin Settings';\r\n    }\r\n    return 'New Conversation';\r\n  };\r\n\r\n  // Get step description\r\n  const getStepDescription = () => {\r\n    if (currentMode === 'select') return 'Choose conversation type';\r\n    if (currentMode === 'direct') return 'Find someone to chat with';\r\n    if (currentMode === 'broadcast') {\r\n      if (step === 1) return 'Set up your broadcast channel';\r\n      if (step === 2) return `${selectedParticipants.length} subscribers selected`;\r\n      if (step === 3) return 'Manage channel administrators';\r\n    } else {\r\n      if (step === 1) return 'Set up your group details';\r\n      if (step === 2) return `${selectedParticipants.length} participants selected`;\r\n      if (step === 3) return 'Choose group administrators';\r\n    }\r\n    return '';\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\nreturn (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className={`w-full max-w-lg max-h-[90vh] flex flex-col rounded-2xl shadow-2xl ${\r\n        isDark ? 'bg-gray-800 text-white' : 'bg-white'\r\n      }`}>\r\n        {/* Header - Fixed */}\r\n        <div className=\"flex-shrink-0 p-6 border-b border-gray-200 dark:border-gray-700\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className={`w-10 h-10 rounded-full flex items-center justify-center ${\r\n                currentMode === 'broadcast' \r\n                  ? 'bg-gradient-to-r from-purple-500 to-pink-600'\r\n                  : currentMode === 'group'\r\n                  ? 'bg-gradient-to-r from-green-500 to-teal-600'\r\n                  : 'bg-gradient-to-r from-blue-500 to-purple-600'\r\n              }`}>\r\n                {currentMode === 'broadcast' ? (\r\n                  <Radio className=\"w-5 h-5 text-white\" />\r\n                ) : currentMode === 'group' ? (\r\n                  <Users className=\"w-5 h-5 text-white\" />\r\n                ) : (\r\n                  <MessageSquare className=\"w-5 h-5 text-white\" />\r\n                )}\r\n              </div>\r\n              <div>\r\n                <h2 className=\"text-xl font-bold\">{getStepTitle()}</h2>\r\n                <p className=\"text-sm text-gray-500\">{getStepDescription()}</p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Body - Scrollable */}\r\n        <div className=\"flex-1 overflow-y-auto min-h-0\">\r\n          <div className=\"p-6\">\r\n            {/* Step 1: Type Selection or Details */}\r\n            {step === 1 && currentMode === 'select' && (\r\n              <div className=\"space-y-4\">\r\n                <p className=\"text-gray-600 dark:text-gray-300 mb-4\">\r\n                  What type of conversation would you like to create?\r\n                </p>\r\n                \r\n                {/* Direct Message Option */}\r\n                <button\r\n                  onClick={() => setCurrentMode('direct')}\r\n                  className={`w-full p-4 rounded-lg border-2 border-dashed transition-all hover:shadow-md ${\r\n                    isDark \r\n                      ? 'border-gray-600 hover:border-blue-500 hover:bg-gray-700' \r\n                      : 'border-gray-300 hover:border-blue-500 hover:bg-blue-50'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\r\n                      <UserPlus className=\"w-6 h-6 text-white\" />\r\n                    </div>\r\n                    <div className=\"text-left\">\r\n                      <h3 className=\"font-semibold\">Direct Message</h3>\r\n                      <p className=\"text-sm text-gray-500\">Private conversation with one person</p>\r\n                    </div>\r\n                  </div>\r\n                </button>\r\n\r\n                {/* Group Option */}\r\n                <button\r\n                  onClick={() => setCurrentMode('group')}\r\n                  className={`w-full p-4 rounded-lg border-2 border-dashed transition-all hover:shadow-md ${\r\n                    isDark \r\n                      ? 'border-gray-600 hover:border-green-500 hover:bg-gray-700' \r\n                      : 'border-gray-300 hover:border-green-500 hover:bg-green-50'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"w-12 h-12 bg-gradient-to-r from-green-500 to-teal-600 rounded-full flex items-center justify-center\">\r\n                      <Users className=\"w-6 h-6 text-white\" />\r\n                    </div>\r\n                    <div className=\"text-left\">\r\n                      <h3 className=\"font-semibold\">Group Chat</h3>\r\n                      <p className=\"text-sm text-gray-500\">Group conversation with multiple people</p>\r\n                    </div>\r\n                  </div>\r\n                </button>\r\n\r\n                {/* Broadcast Channel Option */}\r\n                <button\r\n                  onClick={() => setCurrentMode('broadcast')}\r\n                  className={`w-full p-4 rounded-lg border-2 border-dashed transition-all hover:shadow-md ${\r\n                    isDark \r\n                      ? 'border-gray-600 hover:border-purple-500 hover:bg-gray-700' \r\n                      : 'border-gray-300 hover:border-purple-500 hover:bg-purple-50'\r\n                  }`}\r\n                >\r\n                  <div className=\"flex items-center space-x-4\">\r\n                    <div className=\"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center\">\r\n                      <Radio className=\"w-6 h-6 text-white\" />\r\n                    </div>\r\n                    <div className=\"text-left\">\r\n                      <h3 className=\"font-semibold\">Broadcast Channel</h3>\r\n                      <p className=\"text-sm text-gray-500\">One-way communication channel (read-only for subscribers)</p>\r\n                    </div>\r\n                  </div>\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {/* Step 1: Group/Broadcast Details */}\r\n            {step === 1 && (currentMode === 'group' || currentMode === 'broadcast') && (\r\n              <div className=\"space-y-6\">\r\n                {/* Avatar Selection */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-3\">\r\n                    {currentMode === 'broadcast' ? 'Channel' : 'Group'} Avatar\r\n                  </label>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {getAvatarOptions().map((emoji) => (\r\n                      <button\r\n                        key={emoji}\r\n                        onClick={() => setConversationAvatar(emoji)}\r\n                        className={`w-12 h-12 rounded-full flex items-center justify-center text-xl transition-all ${\r\n                          conversationAvatar === emoji\r\n                            ? currentMode === 'broadcast'\r\n                              ? 'bg-gradient-to-r from-purple-500 to-pink-600 text-white scale-110'\r\n                              : 'bg-gradient-to-r from-green-500 to-teal-600 text-white scale-110'\r\n                            : isDark\r\n                            ? 'bg-gray-700 hover:bg-gray-600'\r\n                            : 'bg-gray-100 hover:bg-gray-200'\r\n                        }`}\r\n                      >\r\n                        {emoji}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Name */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">\r\n                    {currentMode === 'broadcast' ? 'Channel' : 'Group'} Name *\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder={`Enter ${currentMode === 'broadcast' ? 'channel' : 'group'} name`}\r\n                    value={conversationName}\r\n                    onChange={(e) => setConversationName(e.target.value)}\r\n                    className={`w-full px-4 py-3 rounded-lg border focus:ring-2 ${\r\n                      currentMode === 'broadcast' \r\n                        ? 'focus:ring-purple-500' \r\n                        : 'focus:ring-green-500'\r\n                    } focus:border-transparent transition-all ${\r\n                      isDark \r\n                        ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                        : 'bg-gray-50 border-gray-300'\r\n                    }`}\r\n                    maxLength={50}\r\n                  />\r\n                  <div className=\"flex justify-between mt-1\">\r\n                    <span></span>\r\n                    <span className=\"text-xs text-gray-500\">\r\n                      {conversationName.length}/50\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Description */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">\r\n                    Description (Optional)\r\n                  </label>\r\n                  <textarea\r\n                    placeholder={`What's this ${currentMode === 'broadcast' ? 'channel' : 'group'} about?`}\r\n                    value={conversationDescription}\r\n                    onChange={(e) => setConversationDescription(e.target.value)}\r\n                    rows={3}\r\n                    className={`w-full px-4 py-3 rounded-lg border focus:ring-2 ${\r\n                      currentMode === 'broadcast' \r\n                        ? 'focus:ring-purple-500' \r\n                        : 'focus:ring-green-500'\r\n                    } focus:border-transparent transition-all resize-none ${\r\n                      isDark \r\n                        ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                        : 'bg-gray-50 border-gray-300'\r\n                    }`}\r\n                    maxLength={200}\r\n                  />\r\n                  <div className=\"flex justify-between mt-1\">\r\n                    <span></span>\r\n                    <span className=\"text-xs text-gray-500\">\r\n                      {conversationDescription.length}/200\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {currentMode === 'broadcast' && (\r\n                  <div className={`p-4 rounded-lg border ${\r\n                    isDark ? 'bg-purple-900/20 border-purple-700' : 'bg-purple-50 border-purple-200'\r\n                  }`}>\r\n                    <div className=\"flex items-start space-x-3\">\r\n                      <Radio className=\"w-5 h-5 text-purple-500 mt-0.5\" />\r\n                      <div>\r\n                        <h4 className=\"font-medium text-purple-700 dark:text-purple-300\">Broadcast Channel</h4>\r\n                        <p className=\"text-sm text-purple-600 dark:text-purple-400 mt-1\">\r\n                          Only admins can send messages. Subscribers can only read messages.\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Step 2: Add Participants */}\r\n            {step === 2 && (\r\n              <div className=\"space-y-4\">\r\n                {/* Search Users */}\r\n                <div>\r\n                  <label className=\"block text-sm font-medium mb-2\">\r\n                    {currentMode === 'direct' \r\n                      ? 'Search by email' \r\n                      : currentMode === 'broadcast'\r\n                      ? 'Search subscribers by email'\r\n                      : 'Search participants by email'}\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n                    <input\r\n                      type=\"email\"\r\n                      placeholder=\"Enter email address\"\r\n                      value={searchQuery}\r\n                      onChange={(e) => setSearchQuery(e.target.value)}\r\n                      className={`w-full pl-10 pr-4 py-3 rounded-lg border focus:ring-2 ${\r\n                        currentMode === 'broadcast' \r\n                          ? 'focus:ring-purple-500' \r\n                          : currentMode === 'group'\r\n                          ? 'focus:ring-green-500'\r\n                          : 'focus:ring-blue-500'\r\n                      } focus:border-transparent transition-all ${\r\n                        isDark \r\n                          ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' \r\n                          : 'bg-gray-50 border-gray-300'\r\n                      }`}\r\n                    />\r\n                    {searching && (\r\n                      <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\r\n                        <div className={`animate-spin rounded-full h-5 w-5 border-b-2 ${\r\n                          currentMode === 'broadcast' \r\n                            ? 'border-purple-500' \r\n                            : currentMode === 'group'\r\n                            ? 'border-green-500'\r\n                            : 'border-blue-500'\r\n                        }`}></div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Search Results */}\r\n                {searchResults.length > 0 && (\r\n                  <div className=\"space-y-2\">\r\n                    <h3 className=\"text-sm font-medium text-gray-500\">Search Results</h3>\r\n                    <div className=\"max-h-32 overflow-y-auto space-y-2 border rounded-lg p-2\">\r\n                      {searchResults.map((user) => (\r\n                        <div\r\n                          key={user._id}\r\n                          onClick={() => handleAddParticipant(user)}\r\n                          className={`p-3 rounded-lg cursor-pointer transition-all hover:shadow-sm ${\r\n                            isDark \r\n                              ? 'bg-gray-700 hover:bg-gray-600' \r\n                              : 'bg-gray-50 hover:bg-gray-100'\r\n                          }`}\r\n                        >\r\n                          <div className=\"flex items-center space-x-3\">\r\n                            <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\r\n                              <span className=\"text-white text-sm font-semibold\">\r\n                                {user.avatar || user.name?.charAt(0).toUpperCase() || '?'}\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <p className=\"font-medium text-sm truncate\">{user.name}</p>\r\n                              <p className=\"text-xs text-gray-500 truncate\">{user.email}</p>\r\n                            </div>\r\n                            <Plus className={`w-4 h-4 ${\r\n                              currentMode === 'broadcast' \r\n                                ? 'text-purple-500' \r\n                                : currentMode === 'group'\r\n                                ? 'text-green-500'\r\n                                : 'text-blue-500'\r\n                            }`} />\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Selected Participants */}\r\n                {selectedParticipants.length > 0 && (\r\n                  <div className=\"space-y-2\">\r\n                    <h3 className=\"text-sm font-medium text-gray-500\">\r\n                      Selected {currentMode === 'broadcast' ? 'Subscribers' : 'Participants'} ({selectedParticipants.length})\r\n                    </h3>\r\n                    <div className=\"max-h-40 overflow-y-auto space-y-2 border rounded-lg p-2\">\r\n                      {selectedParticipants.map((user) => (\r\n                        <div\r\n                          key={user._id}\r\n                          className={`p-3 rounded-lg ${\r\n                            isDark ? 'bg-gray-700' : \r\n                            currentMode === 'broadcast' ? 'bg-purple-50' :\r\n                            currentMode === 'group' ? 'bg-green-50' :\r\n                            'bg-blue-50'\r\n                          }`}\r\n                        >\r\n                          <div className=\"flex items-center space-x-3\">\r\n                            <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\r\n                              <span className=\"text-white text-sm font-semibold\">\r\n                                {user.avatar || user.name?.charAt(0).toUpperCase() || '?'}\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <p className=\"font-medium text-sm truncate\">{user.name}</p>\r\n                              <p className=\"text-xs text-gray-500 truncate\">{user.email}</p>\r\n                            </div>\r\n                            <button\r\n                              onClick={() => handleRemoveParticipant(user._id)}\r\n                              className=\"p-1 rounded-full hover:bg-red-100 dark:hover:bg-red-900 text-red-500 transition-colors\"\r\n                            >\r\n                              <X className=\"w-4 h-4\" />\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Step 3: Admin Settings */}\r\n            {step === 3 && (\r\n              <div className=\"space-y-4\">\r\n                <div className={`p-4 rounded-lg border ${\r\n                  isDark ? 'bg-gray-700 border-gray-600' : \r\n                  currentMode === 'broadcast' ? 'bg-purple-50 border-purple-200' : 'bg-green-50 border-green-200'\r\n                }`}>\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className={`w-12 h-12 rounded-full flex items-center justify-center ${\r\n                      currentMode === 'broadcast' \r\n                        ? 'bg-gradient-to-r from-purple-500 to-pink-600'\r\n                        : 'bg-gradient-to-r from-green-500 to-teal-600'\r\n                    }`}>\r\n                      <span className=\"text-white text-xl\">{conversationAvatar}</span>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"font-semibold\">{conversationName}</p>\r\n                      <p className=\"text-sm text-gray-500\">\r\n                        {selectedParticipants.length + 1} {currentMode === 'broadcast' ? 'subscribers' : 'members'} (including you)\r\n                      </p>\r\n                    </div>\r\n                    <Crown className=\"w-5 h-5 text-yellow-500 ml-auto\" title=\"You'll be the admin\" />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <h3 className=\"text-sm font-medium text-gray-500 mb-3\">\r\n                    Choose Additional Administrators\r\n                    {currentMode === 'broadcast' && (\r\n                      <span className=\"block text-xs text-purple-600 dark:text-purple-400 mt-1\">\r\n                        Only admins can send messages in broadcast channels\r\n                      </span>\r\n                    )}\r\n                  </h3>\r\n                  <div className=\"max-h-48 overflow-y-auto space-y-2 border rounded-lg p-2\">\r\n                    {selectedParticipants.map((user) => (\r\n                      <div\r\n                        key={user._id}\r\n                        className={`p-3 rounded-lg transition-all cursor-pointer ${\r\n                          selectedAdmins.includes(user._id)\r\n                            ? isDark \r\n                              ? 'bg-yellow-900/20 border border-yellow-700' \r\n                              : 'bg-yellow-50 border border-yellow-200'\r\n                            : isDark \r\n                            ? 'bg-gray-700 hover:bg-gray-600' \r\n                            : 'bg-gray-50 hover:bg-gray-100'\r\n                        }`}\r\n                        onClick={() => handleToggleAdmin(user._id)}\r\n                      >\r\n                        <div className=\"flex items-center space-x-3\">\r\n                          <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\r\n                            <span className=\"text-white text-sm font-semibold\">\r\n                              {user.avatar || user.name?.charAt(0).toUpperCase() || '?'}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"font-medium text-sm truncate\">{user.name}</p>\r\n                            <p className=\"text-xs text-gray-500 truncate\">{user.email}</p>\r\n                          </div>\r\n                          <div className=\"flex items-center space-x-2\">\r\n                            {selectedAdmins.includes(user._id) && (\r\n                              <Crown className=\"w-4 h-4 text-yellow-500\" />\r\n                            )}\r\n                            <div className={`w-4 h-4 rounded border-2 flex items-center justify-center ${\r\n                              selectedAdmins.includes(user._id)\r\n                                ? 'bg-yellow-500 border-yellow-500'\r\n                                : 'border-gray-300 dark:border-gray-600'\r\n                            }`}>\r\n                              {selectedAdmins.includes(user._id) && (\r\n                                <Check className=\"w-3 h-3 text-white\" />\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {selectedAdmins.length > 0 && (\r\n                  <div className={`p-3 rounded-lg border ${\r\n                    isDark ? 'bg-yellow-900/20 border-yellow-700' : 'bg-yellow-50 border-yellow-200'\r\n                  }`}>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <Shield className=\"w-4 h-4 text-yellow-600\" />\r\n                      <span className=\"text-sm text-yellow-700 dark:text-yellow-300\">\r\n                        {selectedAdmins.length + 1} administrator{selectedAdmins.length > 0 ? 's' : ''} selected (including you)\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Error Message */}\r\n            {error && (\r\n              <div className=\"mt-4 p-3 rounded-lg bg-red-100 border border-red-300 text-red-700 text-sm\">\r\n                {error}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer - Fixed */}\r\n        <div className=\"flex-shrink-0 p-6 border-t border-gray-200 dark:border-gray-700\">\r\n          <div className=\"flex justify-between space-x-3\">\r\n            {(step > 1 || (step === 1 && currentMode !== 'select')) && (\r\n              <button\r\n                onClick={handleBack}\r\n                className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                  isDark \r\n                    ? 'bg-gray-700 hover:bg-gray-600 text-white' \r\n                    : 'bg-gray-200 hover:bg-gray-300 text-gray-700'\r\n                }`}\r\n              >\r\n                Back\r\n              </button>\r\n            )}\r\n            \r\n            <div className=\"flex space-x-3 ml-auto\">\r\n              <button\r\n                onClick={onClose}\r\n                className={`px-4 py-2 rounded-lg font-medium transition-colors ${\r\n                  isDark \r\n                    ? 'text-gray-400 hover:text-white' \r\n                    : 'text-gray-600 hover:text-gray-800'\r\n                }`}\r\n              >\r\n                Cancel\r\n              </button>\r\n              \r\n              {currentMode === 'select' ? null : step < (currentMode === 'direct' ? 2 : 3) ? (\r\n                <button\r\n                  onClick={handleNext}\r\n                  disabled={\r\n                    (step === 1 && !conversationName.trim() && currentMode !== 'direct') ||\r\n                    (step === 2 && currentMode === 'direct' && selectedParticipants.length !== 1) ||\r\n                    (step === 2 && currentMode !== 'direct' && selectedParticipants.length === 0)\r\n                  }\r\n                  className={`px-6 py-2 text-white rounded-lg font-semibold transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none ${\r\n                    currentMode === 'broadcast' \r\n                      ? 'bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700'\r\n                      : currentMode === 'group'\r\n                      ? 'bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700'\r\n                      : 'bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700'\r\n                  }`}\r\n                >\r\n                  {step === 2 && currentMode === 'direct' ? 'Create Chat' : 'Next'}\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  onClick={currentMode === 'direct' ? handleCreateDirectMessage : handleCreate}\r\n                  disabled={\r\n                    loading || \r\n                    (currentMode !== 'direct' && selectedParticipants.length === 0)\r\n                  }\r\n                  className={`px-6 py-2 text-white rounded-lg font-semibold transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center space-x-2 ${\r\n                    currentMode === 'broadcast' \r\n                      ? 'bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700'\r\n                      : currentMode === 'group'\r\n                      ? 'bg-gradient-to-r from-green-500 to-teal-600 hover:from-green-600 hover:to-teal-700'\r\n                      : 'bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700'\r\n                  }`}\r\n                >\r\n                  {loading ? (\r\n                    <>\r\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n                      <span>Creating...</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Check className=\"w-4 h-4\" />\r\n                      <span>\r\n                        Create {currentMode === 'broadcast' ? 'Channel' : currentMode === 'group' ? 'Group' : 'Chat'}\r\n                      </span>\r\n                    </>\r\n                  )}\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateConversationModal;","import React, { useState, useEffect } from 'react';\r\nimport { MessageSquare, Plus, X, Radio, Menu } from 'lucide-react';\r\nimport { useUser } from '../contexts/UserContext';\r\nimport Sidebar from './Sidebar';\r\nimport ChatArea from './ChatArea';\r\nimport ProfileModal from './Modals/ProfileModal';\r\nimport ForwardModal from './Modals/ForwardModal';\r\nimport CreateConversationModal from './Modals/CreateConversationModal';\r\nimport { formatMessageForForwarding, isFileMessage } from '../utils/fileHelpers';\r\n\r\nconst ChatLayout = ({\r\n  messages,\r\n  setMessages,\r\n  typingUsers,\r\n  onCreateDirectConversation,\r\n  onCreateConversation,\r\n  onSendMessage,\r\n  onEditMessage,\r\n  onDeleteMessage,\r\n  onReactToMessage,\r\n  onSendFile,\r\n  onLoadMoreMessages,\r\n  onTypingStart,\r\n  onTypingStop,\r\n  onDeleteConversation,\r\n  onAddAdmin,\r\n  onRemoveAdmin,\r\n  onAddParticipant,\r\n  onRemoveParticipant,\r\n  onUpdateConversation,\r\n  onClearChat,\r\n  onBlockUser,\r\n  onLeaveConversation,\r\n  onConversationViewed\r\n}) => {\r\n  // Get state from context\r\n  const {\r\n    currentUser,\r\n    conversations,\r\n    updateConversations,\r\n    activeChat,\r\n    setActiveChat,\r\n    onlineUsers,\r\n    isDark,\r\n  } = useUser();\r\n\r\n  const [showProfile, setShowProfile] = useState(false);\r\n  const [profileUser, setProfileUser] = useState(null);\r\n  const [showForwardModal, setShowForwardModal] = useState(false);\r\n  const [messageToForward, setMessageToForward] = useState(null);\r\n  const [showImageModal, setShowImageModal] = useState(false);\r\n  const [selectedImage, setSelectedImage] = useState(null);\r\n  \r\n  // Unified conversation modal state\r\n  const [showConversationModal, setShowConversationModal] = useState(false);\r\n  const [conversationMode, setConversationMode] = useState('select'); // 'select', 'direct', 'group', 'broadcast'\r\n  const [notification, setNotification] = useState(null);\r\n  \r\n  // Mobile responsive state\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [showSidebar, setShowSidebar] = useState(true);\r\n  const [showChat, setShowChat] = useState(false);\r\n\r\n  // Check if screen is mobile size\r\n  useEffect(() => {\r\n    const checkIsMobile = () => {\r\n      const mobile = window.innerWidth < 768; // md breakpoint\r\n      setIsMobile(mobile);\r\n      \r\n      if (mobile) {\r\n        // On mobile, show sidebar by default, hide chat\r\n        setShowSidebar(true);\r\n        setShowChat(false);\r\n      } else {\r\n        // On desktop, show both\r\n        setShowSidebar(true);\r\n        setShowChat(true);\r\n      }\r\n    };\r\n\r\n    checkIsMobile();\r\n    window.addEventListener('resize', checkIsMobile);\r\n    return () => window.removeEventListener('resize', checkIsMobile);\r\n  }, []);\r\n\r\n  // Handle conversation selection on mobile\r\n  const handleMobileConversationSelect = (conversation) => {\r\n    if (isMobile) {\r\n      setShowSidebar(false);\r\n      setShowChat(true);\r\n    }\r\n  };\r\n\r\n  // Handle back to sidebar on mobile\r\n  const handleBackToSidebar = () => {\r\n    if (isMobile) {\r\n      setShowSidebar(true);\r\n      setShowChat(false);\r\n    }\r\n  };\r\n\r\n  const handleImageClick = (imageUrl) => {\r\n    setSelectedImage(imageUrl);\r\n    setShowImageModal(true);\r\n  };\r\n\r\n  const handleForward = (message) => {\r\n    const formattedMessage = formatMessageForForwarding(message);\r\n    setMessageToForward(formattedMessage);\r\n    setShowForwardModal(true);\r\n  };\r\n\r\n  const showNotification = (message, type = 'success') => {\r\n    setNotification({ message, type });\r\n    setTimeout(() => setNotification(null), 3000);\r\n  };\r\n\r\n  // Enhanced forwarding function\r\n  const onForward = async (selectedConversations, messageToForward) => {\r\n    try {\r\n      let successCount = 0;\r\n      let totalCount = selectedConversations.length;\r\n      const conversationUpdates = new Map();\r\n\r\n      for (const conversation of selectedConversations) {\r\n        try {\r\n          let forwardedContent = '';\r\n          let forwardedMessageType = 'text';\r\n          \r\n          if (messageToForward.isFile && messageToForward.originalMessage) {\r\n            const originalMessage = messageToForward.originalMessage;\r\n            \r\n            if (isFileMessage(originalMessage)) {\r\n              const fileUrl = originalMessage.content || originalMessage.fileInfo?.url;\r\n              \r\n              if (!fileUrl) {\r\n                throw new Error('File URL not found');\r\n              }\r\n\r\n              try {\r\n                const response = await fetch(fileUrl);\r\n                \r\n                if (!response.ok) {\r\n                  throw new Error(`Failed to fetch file: ${response.status}`);\r\n                }\r\n                \r\n                const blob = await response.blob();\r\n                const fileInfo = originalMessage.fileInfo || originalMessage.file || {};\r\n                const fileName = fileInfo.displayName || fileInfo.originalName || 'forwarded_file';\r\n                const fileType = fileInfo.type || blob.type || 'application/octet-stream';\r\n                \r\n                const file = new File([blob], fileName, {\r\n                  type: fileType\r\n                });\r\n                \r\n                await onSendFile(conversation._id, file);\r\n                forwardedContent = messageToForward.displayText || ` ${fileName}`;\r\n                forwardedMessageType = originalMessage.messageType;\r\n                successCount++;\r\n                \r\n              } catch (fetchError) {\r\n                console.error('Failed to fetch/forward file:', fetchError);\r\n                const fallbackContent = ` ${messageToForward.fileName || 'File'} (Original file could not be forwarded)`;\r\n                await onSendMessage(conversation._id, fallbackContent);\r\n                forwardedContent = fallbackContent;\r\n                successCount++;\r\n              }\r\n            } else {\r\n              forwardedContent = messageToForward.content || messageToForward.displayText || 'Message';\r\n              await onSendMessage(conversation._id, forwardedContent);\r\n              successCount++;\r\n            }\r\n          } else {\r\n            forwardedContent = messageToForward.content || messageToForward.displayText || 'Message';\r\n            await onSendMessage(conversation._id, forwardedContent);\r\n            successCount++;\r\n          }\r\n          \r\n          conversationUpdates.set(conversation._id, {\r\n            content: forwardedContent,\r\n            sender: currentUser,\r\n            timestamp: new Date().toISOString(),\r\n            messageType: forwardedMessageType,\r\n          });\r\n          \r\n          await new Promise(resolve => setTimeout(resolve, 100));\r\n          \r\n        } catch (error) {\r\n          console.error(`Failed to forward to conversation ${conversation._id}:`, error);\r\n        }\r\n      }\r\n      \r\n      if (conversationUpdates.size > 0) {\r\n        updateConversations(\r\n          conversations.map(conv => {\r\n            const update = conversationUpdates.get(conv._id);\r\n            if (update) {\r\n              return {\r\n                ...conv,\r\n                lastMessage: update,\r\n                updatedAt: new Date().toISOString()\r\n              };\r\n            }\r\n            return conv;\r\n          })\r\n        );\r\n      }\r\n      \r\n      if (successCount === 0) {\r\n        showNotification('Failed to forward message to any conversations', 'error');\r\n      } else if (successCount < totalCount) {\r\n        showNotification(\r\n          `Message forwarded to ${successCount}/${totalCount} conversations`,\r\n          'success'\r\n        );\r\n      } else {\r\n        showNotification(\r\n          `Message forwarded to ${successCount} conversation${successCount > 1 ? 's' : ''}`,\r\n          'success'\r\n        );\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Forward operation failed:', error);\r\n      showNotification('Failed to forward message. Please try again.', 'error');\r\n    }\r\n  };\r\n\r\n  const handleProfileClick = (user) => {\r\n    setProfileUser(user);\r\n    setShowProfile(true);\r\n  };\r\n\r\n  // Unified conversation handlers\r\n  const handleStartConversation = (mode = 'select') => {\r\n    setConversationMode(mode);\r\n    setShowConversationModal(true);\r\n  };\r\n\r\n  const handleCreateConversation = async (participantIds, conversationName, conversationType, options = {}) => {\r\n    try {\r\n      await onCreateConversation(participantIds, conversationName, conversationType, options);\r\n      \r\n      const typeLabel = conversationType === 'broadcast' ? 'Channel' : \r\n                       conversationType === 'group' ? 'Group' : 'Conversation';\r\n      \r\n      showNotification(`${typeLabel} \"${conversationName}\" created successfully!`, 'success');\r\n    } catch (error) {\r\n      console.error('Failed to create conversation:', error);\r\n      const typeLabel = conversationType === 'broadcast' ? 'channel' : \r\n                       conversationType === 'group' ? 'group' : 'conversation';\r\n      showNotification(`Failed to create ${typeLabel}. Please try again.`, 'error');\r\n    }\r\n  };\r\n\r\n  const handleCreateDirectConversation = async (userId) => {\r\n    try {\r\n      // Check if conversation already exists\r\n      const existingConv = conversations.find(conv => \r\n        conv.type === 'direct' && \r\n        conv.participants.some(participant => \r\n          participant.user._id === userId\r\n        )\r\n      );\r\n\r\n      if (existingConv) {\r\n        setActiveChat(existingConv);\r\n        return;\r\n      }\r\n\r\n      await onCreateDirectConversation(userId);\r\n      showNotification('Direct conversation created successfully!', 'success');\r\n    } catch (error) {\r\n      console.error('Failed to create direct conversation:', error);\r\n      showNotification('Failed to create conversation. Please try again.', 'error');\r\n    }\r\n  };\r\n\r\n  const handleCloseConversationModal = () => {\r\n    setShowConversationModal(false);\r\n    setConversationMode('select');\r\n  };\r\n\r\n  return (\r\n    <div className={`h-screen ${isMobile ? 'flex flex-col' : 'flex'} ${isDark ? 'bg-gray-900 text-white' : 'bg-gray-50'}`}>\r\n      {notification && (\r\n        <div className={`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 px-4 py-2 rounded-lg shadow-lg transition-all ${\r\n          notification.type === 'success' \r\n            ? 'bg-green-100 border border-green-300 text-green-700' \r\n            : 'bg-red-100 border border-red-300 text-red-700'\r\n        }`}>\r\n          <div className=\"flex items-center space-x-2\">\r\n            <span>{notification.message}</span>\r\n            <button \r\n              onClick={() => setNotification(null)}\r\n              className=\"ml-2 text-current hover:opacity-70\"\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Mobile Header with Back Button */}\r\n      {isMobile && showChat && (\r\n        <div className={`fixed top-0 left-0 right-0 z-40 h-12 flex items-center px-4 border-b ${\r\n          isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'\r\n        }`}>\r\n          <button\r\n            onClick={handleBackToSidebar}\r\n            className={`p-2 rounded-lg transition-colors ${\r\n              isDark ? 'text-gray-300 hover:bg-gray-700' : 'text-gray-600 hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            <Menu className=\"w-5 h-5\" />\r\n          </button>\r\n          <span className=\"ml-3 font-semibold\">\r\n            {activeChat?.name || 'Chat'}\r\n          </span>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Sidebar */}\r\n      <div className={`${isMobile ? (showSidebar ? 'block' : 'hidden') : 'block'} ${isMobile ? 'w-full h-full flex-1' : ''}`}>\r\n        <Sidebar\r\n          onStartConversation={handleStartConversation}\r\n          onProfileClick={handleProfileClick}\r\n          messages={messages}\r\n          onDeleteConversation={onDeleteConversation}\r\n          onConversationSelect={handleMobileConversationSelect}\r\n        />\r\n      </div>\r\n\r\n      {/* Chat Area */}\r\n      <div className={`${isMobile ? (showChat ? 'block' : 'hidden') : 'block'} ${isMobile ? 'w-full h-full' : 'flex-1'} flex flex-col ${isMobile ? 'pt-12' : ''}`}>\r\n        {activeChat ? (\r\n          <ChatArea\r\n            isDark={isDark}\r\n            currentUser={currentUser}\r\n            activeChat={activeChat}\r\n            messages={messages[activeChat._id] || []}\r\n            setMessages={setMessages}\r\n            onlineUsers={onlineUsers}\r\n            typingUsers={typingUsers}\r\n            onProfileClick={handleProfileClick}\r\n            onImageClick={handleImageClick}\r\n            onForward={handleForward}\r\n            onSendMessage={onSendMessage}\r\n            onEditMessage={onEditMessage}\r\n            onDeleteMessage={onDeleteMessage}\r\n            onReactToMessage={onReactToMessage}\r\n            onSendFile={onSendFile}\r\n            onLoadMoreMessages={onLoadMoreMessages}\r\n            onTypingStart={onTypingStart}\r\n            onTypingStop={onTypingStop}\r\n            onDeleteConversation = {onDeleteConversation}\r\n            onAddAdmin={onAddAdmin}\r\n            onRemoveAdmin={onRemoveAdmin}\r\n            onAddParticipant={onAddParticipant}\r\n            onRemoveParticipant={onRemoveParticipant}\r\n            onUpdateConversation = {onUpdateConversation}\r\n            onClearChat={onClearChat}\r\n            onBlockUser={onBlockUser}\r\n            onLeaveConversation={onLeaveConversation}\r\n            onConversationViewed={onConversationViewed}\r\n          />\r\n        ) : (\r\n          <div className=\"flex-1 flex items-center justify-center\">\r\n            <div className=\"text-center\">\r\n              <div className=\"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                <MessageSquare className=\"w-12 h-12 text-white\" />\r\n              </div>\r\n              <h2 className=\"text-2xl font-bold mb-2\">Welcome to ChatApp</h2>\r\n              <p className=\"text-gray-500 mb-6\">Select a conversation to start messaging</p>\r\n              \r\n              {/* Conversation Type Cards */}\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-3xl mx-auto\">\r\n                {/* Direct Message */}\r\n                <div \r\n                  onClick={() => handleStartConversation('direct')}\r\n                  className={`p-6 rounded-xl border-2 border-dashed cursor-pointer transition-all hover:shadow-lg hover:scale-105 ${\r\n                    isDark \r\n                      ? 'border-gray-600 hover:border-blue-500 hover:bg-gray-800' \r\n                      : 'border-gray-300 hover:border-blue-500 hover:bg-blue-50'\r\n                  }`}\r\n                >\r\n                  <div className=\"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                    <MessageSquare className=\"w-6 h-6 text-white\" />\r\n                  </div>\r\n                  <h3 className=\"font-semibold mb-2\">Direct Message</h3>\r\n                  <p className=\"text-sm text-gray-500\">Private one-on-one conversation</p>\r\n                </div>\r\n\r\n                {/* Group Chat */}\r\n                <div \r\n                  onClick={() => handleStartConversation('group')}\r\n                  className={`p-6 rounded-xl border-2 border-dashed cursor-pointer transition-all hover:shadow-lg hover:scale-105 ${\r\n                    isDark \r\n                      ? 'border-gray-600 hover:border-green-500 hover:bg-gray-800' \r\n                      : 'border-gray-300 hover:border-green-500 hover:bg-green-50'\r\n                  }`}\r\n                >\r\n                  <div className=\"w-12 h-12 bg-gradient-to-r from-green-500 to-teal-600 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                    <Plus className=\"w-6 h-6 text-white\" />\r\n                  </div>\r\n                  <h3 className=\"font-semibold mb-2\">Group Chat</h3>\r\n                  <p className=\"text-sm text-gray-500\">Collaborate with multiple people</p>\r\n                </div>\r\n\r\n                {/* Broadcast Channel */}\r\n                <div \r\n                  onClick={() => handleStartConversation('broadcast')}\r\n                  className={`p-6 rounded-xl border-2 border-dashed cursor-pointer transition-all hover:shadow-lg hover:scale-105 ${\r\n                    isDark \r\n                      ? 'border-gray-600 hover:border-purple-500 hover:bg-gray-800' \r\n                      : 'border-gray-300 hover:border-purple-500 hover:bg-purple-50'\r\n                  }`}\r\n                >\r\n                  <div className=\"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                    <Radio className=\"w-6 h-6 text-white\" />\r\n                  </div>\r\n                  <h3 className=\"font-semibold mb-2\">Broadcast Channel</h3>\r\n                  <p className=\"text-sm text-gray-500\">One-way announcements to subscribers</p>\r\n                </div>\r\n              </div>\r\n\r\n              <button\r\n                onClick={() => handleStartConversation('select')}\r\n                className=\"mt-6 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-600 hover:to-purple-700 transition-all transform hover:scale-105\"\r\n              >\r\n                Start New Conversation\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Unified Conversation Modal */}\r\n      <CreateConversationModal\r\n        isOpen={showConversationModal}\r\n        mode={conversationMode}\r\n        onClose={handleCloseConversationModal}\r\n        onCreateConversation={handleCreateConversation}\r\n        onCreateDirectConversation={handleCreateDirectConversation}\r\n        isDark={isDark}\r\n      />\r\n\r\n      {/* Image Modal */}\r\n      {showImageModal && selectedImage && (\r\n        <div \r\n          className=\"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4\"\r\n          onClick={() => setShowImageModal(false)}\r\n        >\r\n          <div className=\"relative max-w-4xl max-h-full\">\r\n            <img\r\n              src={selectedImage}\r\n              alt=\"Full size view\"\r\n              className=\"max-w-full max-h-full object-contain rounded-lg\"\r\n              onClick={(e) => e.stopPropagation()}\r\n            />\r\n            <button\r\n              onClick={() => setShowImageModal(false)}\r\n              className=\"absolute top-4 right-4 p-2 bg-black bg-opacity-50 rounded-full text-white hover:bg-opacity-70 transition-colors\"\r\n            >\r\n              <X className=\"w-6 h-6\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Other Modals */}\r\n      {showProfile && profileUser && (\r\n        <ProfileModal\r\n          user={profileUser}\r\n          onClose={() => setShowProfile(false)}\r\n        />\r\n      )}\r\n\r\n      {showForwardModal && messageToForward && (\r\n        <ForwardModal\r\n          message={messageToForward}\r\n          conversations={conversations}\r\n          activeChat={activeChat}\r\n          isDark={isDark}\r\n          currentUser={currentUser}\r\n          onForward={onForward}\r\n          onClose={() => setShowForwardModal(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatLayout;","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach((key) => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data.arrayBuffer().then(toArray).then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, (encoded) => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE, } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType),\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType),\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1),\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type],\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET, } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, (encodedPacket) => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, (encodedPacket) => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        },\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* State.READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* State.READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* State.READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* State.READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* State.READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* State.READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else if (state === 2 /* State.READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* State.READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        },\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload, };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\nexport const defaultBinaryType = \"arraybuffer\";\nexport function createCookieJar() { }\n","import { globalThisShim as globalThis } from \"./globals.node.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n/**\n * Generates a random 8-characters string.\n */\nexport function randomString() {\n    return (Date.now().toString(36).substring(3) +\n        Math.random().toString(36).substring(2, 5));\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","import { Transport } from \"../transport.js\";\nimport { randomString } from \"../util.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nexport class Polling extends Transport {\n    constructor() {\n        super(...arguments);\n        this._polling = false;\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this._poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this._polling || !this.writable) {\n            let total = 0;\n            if (this._polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    _poll() {\n        this._polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this._polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this._poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","import { Polling } from \"./polling.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globals.node.js\";\nimport { hasCORS } from \"../contrib/has-cors.js\";\nfunction empty() { }\nexport class BaseXHR extends Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(createRequest, uri, opts) {\n        super();\n        this.createRequest = createRequest;\n        installTimerFunctions(this, opts);\n        this._opts = opts;\n        this._method = opts.method || \"GET\";\n        this._uri = uri;\n        this._data = undefined !== opts.data ? opts.data : null;\n        this._create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    _create() {\n        var _a;\n        const opts = pick(this._opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this._opts.xd;\n        const xhr = (this._xhr = this.createRequest(opts));\n        try {\n            xhr.open(this._method, this._uri, true);\n            try {\n                if (this._opts.extraHeaders) {\n                    // @ts-ignore\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this._opts.extraHeaders) {\n                        if (this._opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this._opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this._method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this._opts.withCredentials;\n            }\n            if (this._opts.requestTimeout) {\n                xhr.timeout = this._opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(\n                    // @ts-ignore\n                    xhr.getResponseHeader(\"set-cookie\"));\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this._onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this._onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this._data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this._onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this._index = Request.requestsCount++;\n            Request.requests[this._index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    _onError(err) {\n        this.emitReserved(\"error\", err, this._xhr);\n        this._cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    _cleanup(fromError) {\n        if (\"undefined\" === typeof this._xhr || null === this._xhr) {\n            return;\n        }\n        this._xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this._xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this._index];\n        }\n        this._xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    _onLoad() {\n        const data = this._xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this._cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this._cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\nconst hasXHR2 = (function () {\n    const xhr = newRequest({\n        xdomain: false,\n    });\n    return xhr && xhr.responseType !== null;\n})();\n/**\n * HTTP long-polling based on the built-in `XMLHttpRequest` object.\n *\n * Usage: browser\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n */\nexport class XHR extends BaseXHR {\n    constructor(opts) {\n        super(opts);\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd }, this.opts);\n        return new Request(newRequest, this.uri(), opts);\n    }\n}\nfunction newRequest(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { pick, randomString } from \"../util.js\";\nimport { encodePacket } from \"engine.io-parser\";\nimport { globalThisShim as globalThis, nextTick } from \"../globals.node.js\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class BaseWS extends Transport {\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws = this.createSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    this.doWrite(packet, data);\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.onerror = () => { };\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\nconst WebSocketCtor = globalThis.WebSocket || globalThis.MozWebSocket;\n/**\n * WebSocket transport based on the built-in `WebSocket` object.\n *\n * Usage: browser, Node.js (since v21), Deno, Bun\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\n * @see https://caniuse.com/mdn-api_websocket\n * @see https://nodejs.org/api/globals.html#websocket\n */\nexport class WS extends BaseWS {\n    createSocket(uri, protocols, opts) {\n        return !isReactNative\n            ? protocols\n                ? new WebSocketCtor(uri, protocols)\n                : new WebSocketCtor(uri)\n            : new WebSocketCtor(uri, protocols, opts);\n    }\n    doWrite(_packet, data) {\n        this.ws.send(data);\n    }\n}\n","import { XHR } from \"./polling-xhr.node.js\";\nimport { WS } from \"./websocket.node.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: XHR,\n};\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"../globals.node.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\n/**\n * WebTransport transport based on the built-in `WebTransport` object.\n *\n * Usage: browser, Node.js (with the `@fails-components/webtransport` package)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebTransport\n * @see https://caniuse.com/webtransport\n */\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        try {\n            // @ts-ignore\n            this._transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this._transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this._transport.ready.then(() => {\n            this._transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this._writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this._writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this._writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this._transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 8000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports as DEFAULT_TRANSPORTS } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { createCookieJar, defaultBinaryType, nextTick, } from \"./globals.node.js\";\nconst withEventListeners = typeof addEventListener === \"function\" &&\n    typeof removeEventListener === \"function\";\nconst OFFLINE_EVENT_LISTENERS = [];\nif (withEventListeners) {\n    // within a ServiceWorker, any event handler for the 'offline' event must be added on the initial evaluation of the\n    // script, so we create one single event listener here which will forward the event to the socket instances\n    addEventListener(\"offline\", () => {\n        OFFLINE_EVENT_LISTENERS.forEach((listener) => listener());\n    }, false);\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes without upgrade mechanism, which means that it will keep the first low-level transport that\n * successfully establishes the connection.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithoutUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithoutUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithUpgrade\n * @see Socket\n */\nexport class SocketWithoutUpgrade extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        this._prevBufferLen = 0;\n        this._pingInterval = -1;\n        this._pingTimeout = -1;\n        this._maxPayload = -1;\n        /**\n         * The expiration timestamp of the {@link _pingTimeoutTimer} object is tracked, in case the timer is throttled and the\n         * callback is not fired on time. This can happen for example when a laptop is suspended or when a phone is locked.\n         */\n        this._pingTimeoutTime = Infinity;\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            const parsedUri = parse(uri);\n            opts.hostname = parsedUri.host;\n            opts.secure =\n                parsedUri.protocol === \"https\" || parsedUri.protocol === \"wss\";\n            opts.port = parsedUri.port;\n            if (parsedUri.query)\n                opts.query = parsedUri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = [];\n        this._transportsByName = {};\n        opts.transports.forEach((t) => {\n            const transportName = t.prototype.name;\n            this.transports.push(transportName);\n            this._transportsByName[transportName] = t;\n        });\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        if (withEventListeners) {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this._beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this._offlineEventListener = () => {\n                    this._onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener);\n            }\n        }\n        if (this.opts.withCredentials) {\n            this._cookieJar = createCookieJar();\n        }\n        this._open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new this._transportsByName[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    _open() {\n        if (this.transports.length === 0) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        const transportName = this.opts.rememberUpgrade &&\n            SocketWithoutUpgrade.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1\n            ? \"websocket\"\n            : this.transports[0];\n        this.readyState = \"opening\";\n        const transport = this.createTransport(transportName);\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this._onDrain.bind(this))\n            .on(\"packet\", this._onPacket.bind(this))\n            .on(\"error\", this._onError.bind(this))\n            .on(\"close\", (reason) => this._onClose(\"transport close\", reason));\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        SocketWithoutUpgrade.priorWebsocketSuccess =\n            \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    _onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this._sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    this._resetPingTimeout();\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this._onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this._pingInterval = data.pingInterval;\n        this._pingTimeout = data.pingTimeout;\n        this._maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this._resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    _resetPingTimeout() {\n        this.clearTimeoutFn(this._pingTimeoutTimer);\n        const delay = this._pingInterval + this._pingTimeout;\n        this._pingTimeoutTime = Date.now() + delay;\n        this._pingTimeoutTimer = this.setTimeoutFn(() => {\n            this._onClose(\"ping timeout\");\n        }, delay);\n        if (this.opts.autoUnref) {\n            this._pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    _onDrain() {\n        this.writeBuffer.splice(0, this._prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this._prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this._getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this._prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    _getWritablePackets() {\n        const shouldCheckPayloadSize = this._maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this._maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Checks whether the heartbeat timer has expired but the socket has not yet been notified.\n     *\n     * Note: this method is private for now because it does not really fit the WebSocket API, but if we put it in the\n     * `write()` method then the message would not be buffered by the Socket.IO client.\n     *\n     * @return {boolean}\n     * @private\n     */\n    /* private */ _hasPingExpired() {\n        if (!this._pingTimeoutTime)\n            return true;\n        const hasExpired = Date.now() > this._pingTimeoutTime;\n        if (hasExpired) {\n            this._pingTimeoutTime = 0;\n            nextTick(() => {\n                this._onClose(\"ping timeout\");\n            }, this.setTimeoutFn);\n        }\n        return hasExpired;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a message. Alias of {@link Socket#write}.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    send(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    _sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this._onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    _onError(err) {\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        if (this.opts.tryAllTransports &&\n            this.transports.length > 1 &&\n            this.readyState === \"opening\") {\n            this.transports.shift();\n            return this._open();\n        }\n        this.emitReserved(\"error\", err);\n        this._onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    _onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this._pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (withEventListeners) {\n                if (this._beforeunloadEventListener) {\n                    removeEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n                }\n                if (this._offlineEventListener) {\n                    const i = OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);\n                    if (i !== -1) {\n                        OFFLINE_EVENT_LISTENERS.splice(i, 1);\n                    }\n                }\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this._prevBufferLen = 0;\n        }\n    }\n}\nSocketWithoutUpgrade.protocol = protocol;\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see Socket\n */\nexport class SocketWithUpgrade extends SocketWithoutUpgrade {\n    constructor() {\n        super(...arguments);\n        this._upgrades = [];\n    }\n    onOpen() {\n        super.onOpen();\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            for (let i = 0; i < this._upgrades.length; i++) {\n                this._probe(this._upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    _probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    SocketWithoutUpgrade.priorWebsocketSuccess =\n                        \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this._upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    onHandshake(data) {\n        this._upgrades = this._filterUpgrades(data.upgrades);\n        super.onHandshake(data);\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    _filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        for (let i = 0; i < upgrades.length; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * @example\n * import { Socket } from \"engine.io-client\";\n *\n * const socket = new Socket();\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see SocketWithUpgrade\n */\nexport class Socket extends SocketWithUpgrade {\n    constructor(uri, opts = {}) {\n        const o = typeof uri === \"object\" ? uri : opts;\n        if (!o.transports ||\n            (o.transports && typeof o.transports[0] === \"string\")) {\n            o.transports = (o.transports || [\"polling\", \"websocket\", \"webtransport\"])\n                .map((transportName) => DEFAULT_TRANSPORTS[transportName])\n                .filter((t) => !!t);\n        }\n        super(uri, o);\n    }\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        /**\n         * A map containing acknowledgement handlers.\n         *\n         * The `withError` attribute is used to differentiate handlers that accept an error as first argument:\n         *\n         * - `socket.emit(\"test\", (err, value) => { ... })` with `ackTimeout` option\n         * - `socket.timeout(5000).emit(\"test\", (err, value) => { ... })`\n         * - `const value = await socket.emitWithAck(\"test\")`\n         *\n         * From those that don't:\n         *\n         * - `socket.emit(\"test\", (value) => { ... });`\n         *\n         * In the first case, the handlers will be called with an error when:\n         *\n         * - the timeout is reached\n         * - the socket gets disconnected\n         *\n         * In the second case, the handlers will be simply discarded upon disconnection, since the client will never receive\n         * an acknowledgement from the server.\n         *\n         * @private\n         */\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        var _a, _b, _c;\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = (_b = (_a = this.io.engine) === null || _a === void 0 ? void 0 : _a.transport) === null || _b === void 0 ? void 0 : _b.writable;\n        const isConnected = this.connected && !((_c = this.io.engine) === null || _c === void 0 ? void 0 : _c._hasPingExpired());\n        const discardPacket = this.flags.volatile && !isTransportWritable;\n        if (discardPacket) {\n        }\n        else if (isConnected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        const fn = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, args);\n        };\n        fn.withError = true;\n        this.acks[id] = fn;\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        return new Promise((resolve, reject) => {\n            const fn = (arg1, arg2) => {\n                return arg1 ? reject(arg1) : resolve(arg2);\n            };\n            fn.withError = true;\n            args.push(fn);\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n        this._clearAcks();\n    }\n    /**\n     * Clears the acknowledgement handlers upon disconnection, since the client will never receive an acknowledgement from\n     * the server.\n     *\n     * @private\n     */\n    _clearAcks() {\n        Object.keys(this.acks).forEach((id) => {\n            const isBuffered = this.sendBuffer.some((packet) => String(packet.id) === id);\n            if (!isBuffered) {\n                // note: handlers that do not accept an error as first argument are ignored here\n                const ack = this.acks[id];\n                delete this.acks[id];\n                if (ack.withError) {\n                    ack.call(this, new Error(\"socket has been disconnected\"));\n                }\n            }\n        });\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowledgement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (typeof ack !== \"function\") {\n            return;\n        }\n        delete this.acks[packet.id];\n        // @ts-ignore FIXME ack is incorrectly inferred as 'never'\n        if (ack.withError) {\n            packet.data.unshift(null);\n        }\n        // @ts-ignore\n        ack.apply(this, packet.data);\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        if (!v) {\n            this.skipReconnect = true;\n        }\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), \n        // @ts-ignore\n        on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called when:\n     *\n     * - the low-level engine is closed\n     * - the parser encountered a badly formatted packet\n     * - all sockets are disconnected\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        var _a;\n        this.cleanup();\n        (_a = this.engine) === null || _a === void 0 ? void 0 : _a.close();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\nexport { Fetch, NodeXHR, XHR, NodeWebSocket, WebSocket, WebTransport, } from \"engine.io-client\";\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","// services/socketService.js - Frontend with explicit conversation viewing and block/unblock events\nimport { io } from 'socket.io-client';\n\nclass SocketService {\n  constructor() {\n    this.socket = null;\n    this.isConnected = false;\n    this.reconnectAttempts = 0;\n    this.maxReconnectAttempts = 5;\n  }\n\n  connect(token) {\n    if (this.socket?.connected) {\n      return this.socket;\n    }\n\n    const serverUrl = process.env.REACT_APP_SERVER_URL || 'http://localhost:5000';\n    \n    this.socket = io(serverUrl, {\n      auth: {\n        token: token\n      },\n      transports: ['websocket', 'polling'],\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionAttempts: this.maxReconnectAttempts,\n      timeout: 20000,\n    });\n\n    this.setupEventListeners();\n    return this.socket;\n  }\n\n  setupEventListeners() {\n    if (!this.socket) return;\n\n    this.socket.on('connect', () => {\n      console.log('Socket connected:', this.socket.id);\n      this.isConnected = true;\n      this.reconnectAttempts = 0;\n    });\n\n    this.socket.on('disconnect', (reason) => {\n      console.log('Socket disconnected:', reason);\n      this.isConnected = false;\n    });\n\n    this.socket.on('connect_error', (error) => {\n      console.error('Socket connection error:', error);\n      this.reconnectAttempts++;\n      \n      if (this.reconnectAttempts >= this.maxReconnectAttempts) {\n        console.error('Max reconnection attempts reached');\n      }\n    });\n\n    this.socket.on('error', (error) => {\n      console.error('Socket error:', error);\n    });\n  }\n\n  disconnect() {\n    if (this.socket) {\n      this.socket.disconnect();\n      this.socket = null;\n      this.isConnected = false;\n      this.reconnectAttempts = 0;\n      console.log(\"Disconnecting socket\");\n    }\n  }\n\n  // Join user to their personal room for notifications\n  joinUserRoom(userId) {\n    if (this.socket && userId) {\n      this.socket.emit('join_user_room', userId);\n    }\n  }\n\n  // Join a conversation room (no auto-read)\n  joinConversation(conversationId) {\n    if (this.socket && conversationId) {\n      this.socket.emit('join_conversation', conversationId);\n      console.log(\"Joining convo\", conversationId);\n    }\n  }\n\n  // Leave a conversation room\n  leaveConversation(conversationId) {\n    if (this.socket && conversationId) {\n      this.socket.emit('leave_conversation', conversationId);\n      console.log(\"Leaving room\", conversationId);\n    }\n  }\n\n  // NEW: Explicitly notify when user views/focuses on a conversation\n  viewConversation(conversationId) {\n    if (this.socket && conversationId) {\n      this.socket.emit('conversation_viewed', { conversationId });\n    }\n  }\n\n  // Send a new message\n  sendMessage(conversationId, messageData) {\n    if (this.socket && conversationId && messageData) {\n      console.log(\" Sending message:\", { conversationId, content: messageData.content, messageType: messageData.messageType });\n      this.socket.emit('send_message', {\n        conversationId,\n        ...messageData\n      });\n      console.log(\"Sending message\", messageData);\n    }\n  }\n\n  // Mark message as delivered\n  markMessageDelivered(messageId) {\n    if (this.socket && messageId) {\n      this.socket.emit('message_delivered', { messageId });\n      console.log(\"Message delivered\", messageId);\n    }\n  }\n\n  // Mark message as seen\n  markMessageSeen(messageId) {\n    if (this.socket && messageId) {\n      this.socket.emit('message_seen', { messageId });\n      console.log(\"Message seen\", messageId);\n    }\n  }\n\n  // Mark all messages in conversation as read (explicit action)\n  markConversationRead(conversationId) {\n    if (this.socket && conversationId) {\n      this.socket.emit('mark_conversation_read', { conversationId });\n    }\n  }\n\n  // Edit a message\n  editMessage(messageId, newContent) {\n    if (this.socket && messageId && newContent) {\n      this.socket.emit('edit_message', {\n        messageId,\n        content: newContent\n      });\n      console.log(\"edit message\", newContent);\n    }\n  }\n\n  // Delete a message\n  deleteMessage(messageId) {\n    if (this.socket && messageId) {\n      this.socket.emit('delete_message', { messageId });\n      console.log(\"delete message\", messageId);\n    }\n  }\n\n  // React to a message\n  reactToMessage(messageId, emoji) {\n    if (this.socket && messageId && emoji) {\n      this.socket.emit('react_to_message', {\n        messageId,\n        emoji\n      });\n      console.log(\"react\", emoji)\n    }\n  }\n\n  // Typing indicators\n  startTyping(conversationId) {\n    if (this.socket && conversationId) {\n      this.socket.emit('typing_start', { conversationId });\n    }\n  }\n\n  stopTyping(conversationId) {\n    if (this.socket && conversationId) {\n      this.socket.emit('typing_stop', { conversationId });\n    }\n  }\n\n  // Update user status\n  updateUserStatus(status) {\n    if (this.socket && status) {\n      this.socket.emit('update_status', { status });\n      console.log(\"update status\", status)\n    }\n  }\n\n  //  NEW METHODS FOR NOTIFICATIONS TO USERS/CONVERSATIONS\n  sendNotificationToUser(userId, eventName, data) {\n    if (this.socket && userId && eventName) {\n      this.socket.emit('send_notification_to_user', {\n        userId,\n        eventName,\n        data\n      });\n      console.log(`Sending notification to user ${userId}:`, eventName, data);\n    }\n  }\n\n  sendNotificationToConversation(conversationId, eventName, data) {\n    if (this.socket && conversationId && eventName) {\n      this.socket.emit('send_notification_to_conversation', {\n        conversationId,\n        eventName,\n        data\n      });\n      console.log(`Sending notification to conversation ${conversationId}:`, eventName, data);\n    }\n  }\n\n  // Event listeners setup\n  onNewMessage(callback) {\n    if (this.socket) {\n      this.socket.on('new_message', callback);\n    }\n  }\n\n  // Message status updates\n  onMessageStatusUpdate(callback) {\n    if (this.socket) {\n      this.socket.on('message_status_update', (data) => {\n        callback(data);\n      });\n    }\n  }\n\n  onMessagesSeenBulk(callback) {\n    if (this.socket) {\n      this.socket.on('messages_seen_bulk', (data) => {\n        callback(data);\n      });\n    }\n  }\n\n  onMessageEdited(callback) {\n    if (this.socket) {\n      this.socket.on('message_edited', callback);\n    }\n  }\n\n  onMessageDeleted(callback) {\n    if (this.socket) {\n      this.socket.on('message_deleted', callback);\n    }\n  }\n\n  onConversationCreated(callback) {\n    if (this.socket) {\n      this.socket.on('conversation_created', callback);\n    }\n  }\n\n  onConnect(callback) {\n    if (this.socket) {\n      this.socket.on('connect', callback);\n    }\n  }\n\n  onConversationDeleted(callback) {\n    if (this.socket) {\n      this.socket.on('conversation_deleted', callback);\n    }\n  }\n\n  onMessageReaction(callback) {\n    if (this.socket) {\n      this.socket.on('message_reaction', callback);\n    }\n  }\n\n  onTypingStart(callback) {\n    if (this.socket) {\n      this.socket.on('typing_start', callback);\n    }\n  }\n\n  onTypingStop(callback) {\n    if (this.socket) {\n      this.socket.on('typing_stop', callback);\n    }\n  }\n\n  onUserStatusUpdate(callback) {\n    if (this.socket) {\n      this.socket.on('user_status_update', callback);\n    }\n  }\n\n  onUserOnline(callback) {\n    if (this.socket) {\n      this.socket.on('user_online', callback);\n    }\n  }\n\n  onUserOffline(callback) {\n    if (this.socket) {\n      this.socket.on('user_offline', callback);\n    }\n  }\n\n  onUserProfileUpdate(callback) {\n    if (this.socket) {\n      this.socket.on('user_profile_updated', callback);\n    }\n  }\n\n  onConversationUpdate(callback) {\n    if (this.socket) {\n      this.socket.on('conversation_updated', callback);\n    }\n  }\n\n  onUserBlocked(callback) {\n    if (this.socket) {\n      this.socket.on('user_blocked', callback);\n    }\n  }\n\n  onUserUnblocked(callback) {\n    if (this.socket) {\n      this.socket.on('user_unblocked', callback);\n    }\n  }\n\n  onUserBlockedYou(callback) {\n    if (this.socket) {\n      this.socket.on('user_blocked_you', callback);\n    }\n  }\n\n  onUserUnblockedYou(callback) {\n    if (this.socket) {\n      this.socket.on('user_unblocked_you', callback);\n    }\n  }\n\n  onConversationLeft(callback) {\n    if (this.socket) {\n      this.socket.on('conversation_left', callback);\n    }\n  }\n\n  onAdminTransferred(callback) {\n    if (this.socket) {\n      this.socket.on('admin_transferred', callback);\n    }\n  }\n\n  onPromotedToAdmin(callback) {\n    if (this.socket) {\n      this.socket.on('promoted_to_admin', callback);\n    }\n  }\n\n  onConversationCleared(callback) {\n    if (this.socket) {\n      this.socket.on('conversation_cleared', callback);\n    }\n  }\n\n  onConversationHidden(callback) {\n    if (this.socket) {\n      this.socket.on('conversation_hidden', callback);\n    }\n  }\n\n  onConversationReappeared(callback) {\n    if (this.socket) {\n      this.socket.on('conversation_reappeared', (data) => {\n        console.log(' SOCKET: Received conversation_reappeared event:', data);\n        callback(data);\n      });\n    }\n  }\n\n  onConversationDeleted(callback) {\n    if (this.socket) {\n      this.socket.on('conversation_deleted', callback);\n    }\n  }\n\n  onAdminRemoved(callback) {\n    if (this.socket) {\n      this.socket.on('admin_removed', callback);\n    }\n  }\n\n  on(eventName, callback) {\n    if (this.socket && eventName && callback) {\n      this.socket.on(eventName, callback);\n    }\n  }\n\n  // Remove event listeners\n  off(event, callback) {\n    if (this.socket) {\n      if (callback) {\n        this.socket.off(event, callback);\n      } else {\n        // Remove all listeners for this event if no callback provided\n        this.socket.removeAllListeners(event);\n      }\n    }\n  }\n\n  // Get connection status\n  isSocketConnected() {\n    return this.socket?.connected || false;\n  }\n}\n\n// Export singleton instance\nexport const socketService = new SocketService();\nexport default socketService;","// Frontend: utils/fileUpload.js - Fixed version\r\nclass FileUploadService {\r\n  constructor() {\r\n    // Your Cloudinary configuration\r\n    const cloudName = process.env.REACT_APP_CLOUDINARY_CLOUD_NAME || 'dygmwu7qd';\r\n    const uploadPreset = process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET || 'ChatApp';\r\n    \r\n    this.cloudinaryUploadUrl = `https://api.cloudinary.com/v1_1/${cloudName}/upload`;\r\n    this.cloudinaryRawUploadUrl = `https://api.cloudinary.com/v1_1/${cloudName}/raw/upload`;\r\n    this.cloudinaryUploadPreset = uploadPreset;\r\n  }\r\n\r\n  // Determine the correct resource type for Cloudinary\r\n  getCloudinaryResourceType(file) {\r\n    const mimeType = file.type.toLowerCase();\r\n    \r\n    // Images and GIFs use 'image' resource type\r\n    if (mimeType.startsWith('image/')) {\r\n      return { resourceType: 'image', endpoint: this.cloudinaryUploadUrl };\r\n    }\r\n    \r\n    // Videos use 'video' resource type\r\n    if (mimeType.startsWith('video/')) {\r\n      return { resourceType: 'video', endpoint: this.cloudinaryUploadUrl };\r\n    }\r\n    \r\n    // Audio uses 'video' resource type in Cloudinary\r\n    if (mimeType.startsWith('audio/')) {\r\n      return { resourceType: 'video', endpoint: this.cloudinaryUploadUrl };\r\n    }\r\n    \r\n    // Everything else (PDFs, documents, etc.) uses 'raw' resource type\r\n    return { resourceType: 'raw', endpoint: this.cloudinaryRawUploadUrl };\r\n  }\r\n\r\n  // Upload to Cloudinary with proper resource type handling\r\n  async uploadToCloudinary(file) {\r\n    try {\r\n      const { resourceType, endpoint } = this.getCloudinaryResourceType(file);\r\n      \r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      formData.append('upload_preset', this.cloudinaryUploadPreset);\r\n      formData.append('resource_type', resourceType);\r\n      \r\n      // For raw files, only set a custom public_id (no use_filename for unsigned uploads)\r\n      if (resourceType === 'raw') {\r\n        // Create a clean filename for the public_id\r\n        const timestamp = Date.now();\r\n        const cleanFileName = file.name.replace(/[^a-zA-Z0-9.-]/g, '_');\r\n        const publicId = `${timestamp}_${cleanFileName}`;\r\n        formData.append('public_id', publicId);\r\n      }\r\n\r\n      const response = await fetch(endpoint, {\r\n        method: 'POST',\r\n        body: formData\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        console.error('Cloudinary response error:', errorText);\r\n        throw new Error(`Upload failed: ${response.statusText}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      \r\n      return {\r\n        success: true,\r\n        url: result.secure_url,\r\n        publicId: result.public_id,\r\n        originalName: file.name,\r\n        size: result.bytes,\r\n        format: result.format,\r\n        resourceType: result.resource_type,\r\n        width: result.width,\r\n        height: result.height,\r\n        // Additional metadata for documents\r\n        pages: result.pages, // For PDFs\r\n        duration: result.duration // For audio/video\r\n      };\r\n    } catch (error) {\r\n      console.error('Cloudinary upload error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Main upload method - tries multiple services\r\n  async uploadFile(file) {\r\n\r\n    // Validate file size (max 50MB)\r\n    if (file.size > 50 * 1024 * 1024) {\r\n      throw new Error('File too large. Maximum size is 50MB.');\r\n    }\r\n\r\n    try {\r\n      // Try Cloudinary first (best for production)\r\n      if (this.cloudinaryUploadPreset && this.cloudinaryUploadPreset !== 'YOUR_UPLOAD_PRESET') {\r\n        return await this.uploadToCloudinary(file);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('All upload methods failed:', error);\r\n      throw new Error('Failed to upload file. Please try again.');\r\n    }\r\n  }\r\n\r\n  // Enhanced file type detection\r\n  getFileType(file) {\r\n    const mimeType = file.type.toLowerCase();\r\n    const fileName = file.name.toLowerCase();\r\n    const extension = fileName.split('.').pop();\r\n    \r\n    // Images (including GIFs)\r\n    if (mimeType.startsWith('image/') || ['jpg', 'jpeg', 'png', 'gif', 'webp', 'svg'].includes(extension)) {\r\n      return 'image';\r\n    }\r\n    \r\n    // Videos\r\n    if (mimeType.startsWith('video/') || ['mp4', 'avi', 'mov', 'wmv', 'flv', 'webm', 'mkv'].includes(extension)) {\r\n      return 'video';\r\n    }\r\n    \r\n    // Audio\r\n    if (mimeType.startsWith('audio/') || ['mp3', 'wav', 'ogg', 'flac', 'aac', 'm4a'].includes(extension)) {\r\n      return 'audio';\r\n    }\r\n    \r\n    // PDFs\r\n    if (mimeType === 'application/pdf' || extension === 'pdf') {\r\n      return 'pdf';\r\n    }\r\n    \r\n    // Documents\r\n    if (mimeType.includes('document') || mimeType.includes('word') || \r\n        ['doc', 'docx', 'rtf', 'odt'].includes(extension)) {\r\n      return 'document';\r\n    }\r\n    \r\n    // Spreadsheets\r\n    if (mimeType.includes('spreadsheet') || mimeType.includes('excel') || \r\n        ['xlsx', 'xls', 'csv', 'ods'].includes(extension)) {\r\n      return 'xlsx';\r\n    }\r\n    \r\n    // Text files\r\n    if (mimeType === 'text/plain' || extension === 'txt') {\r\n      return 'document'; // Treat txt as document for consistency\r\n    }\r\n    \r\n    // Default to file\r\n    return 'file';\r\n  }\r\n\r\n  // Format file size for display\r\n  formatFileSize(bytes) {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  }\r\n\r\n  // Helper method to validate file before upload\r\n  validateFile(file) {\r\n    const allowedTypes = [\r\n      // Images\r\n      'image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp',\r\n      // Videos\r\n      'video/mp4', 'video/avi', 'video/mov', 'video/wmv', 'video/webm',\r\n      // Audio\r\n      'audio/mp3', 'audio/wav', 'audio/ogg', 'audio/flac', 'audio/aac',\r\n      // Documents\r\n      'application/pdf', 'application/msword', \r\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n      'application/vnd.ms-excel',\r\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n      'text/plain', 'text/csv'\r\n    ];\r\n\r\n    const fileExtension = file.name.split('.').pop().toLowerCase();\r\n    const allowedExtensions = [\r\n      'jpg', 'jpeg', 'png', 'gif', 'webp', 'svg',\r\n      'mp4', 'avi', 'mov', 'wmv', 'webm', 'mkv',\r\n      'mp3', 'wav', 'ogg', 'flac', 'aac', 'm4a',\r\n      'pdf', 'doc', 'docx', 'txt', 'rtf',\r\n      'xlsx', 'xls', 'csv'\r\n    ];\r\n\r\n    const isValidType = allowedTypes.includes(file.type) || allowedExtensions.includes(fileExtension);\r\n    \r\n    if (!isValidType) {\r\n      throw new Error(`File type ${file.type || fileExtension} is not supported`);\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst fileUploadService = new FileUploadService();\r\nexport default fileUploadService;","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21.801 10A10 10 0 1 1 17 3.335', key: 'yps3ct' }],\n  ['path', { d: 'm9 11 3 3L22 4', key: '1pflzl' }],\n];\n\n/**\n * @component @name CircleCheckBig\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuODAxIDEwQTEwIDEwIDAgMSAxIDE3IDMuMzM1IiAvPgogIDxwYXRoIGQ9Im05IDExIDMgM0wyMiA0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check-big\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheckBig = createLucideIcon('circle-check-big', __iconNode);\n\nexport default CircleCheckBig;\n","class ObjectId {\r\n  constructor() {\r\n    // ObjectId structure: 4-byte timestamp + 5-byte random + 3-byte counter\r\n    this.increment = Math.floor(Math.random() * 0xFFFFFF);\r\n  }\r\n\r\n  static generate() {\r\n    const timestamp = Math.floor(Date.now() / 1000);\r\n    const random = Math.floor(Math.random() * 0xFFFFFFFFFF);\r\n    \r\n    // Increment counter for uniqueness\r\n    ObjectId.prototype.increment = (ObjectId.prototype.increment + 1) % 0xFFFFFF;\r\n    \r\n    const objectId = \r\n      timestamp.toString(16).padStart(8, '0') +\r\n      random.toString(16).padStart(10, '0') +\r\n      ObjectId.prototype.increment.toString(16).padStart(6, '0');\r\n    \r\n    return objectId;\r\n  }\r\n\r\n  static isValid(id) {\r\n    return typeof id === 'string' && /^[0-9a-fA-F]{24}$/.test(id);\r\n  }\r\n}\r\n\r\nObjectId.prototype.increment = Math.floor(Math.random() * 0xFFFFFF);\r\n\r\nexport default ObjectId;","import React, { useState, useEffect } from 'react';\nimport { MessageSquare, X, Bell } from 'lucide-react';\n\nconst NotificationBubble = ({ \n  notifications, \n  onNotificationClick, \n  onDismiss, \n  isDark \n}) => {\n  const [visibleNotifications, setVisibleNotifications] = useState([]);\n\n  // Update visible notifications when notifications prop changes\n  useEffect(() => {\n    if (notifications && notifications.length > 0) {\n      setVisibleNotifications(notifications);\n    }\n  }, [notifications]);\n\n  const handleNotificationClick = (notification) => {\n    \n    if (onNotificationClick) {\n      onNotificationClick(notification);\n    }\n    handleDismiss(notification.id);\n  };\n\n  const handleDismiss = (notificationId) => {\n    setVisibleNotifications(prev => \n      prev.filter(notif => notif.id !== notificationId)\n    );\n    if (onDismiss) {\n      onDismiss(notificationId);\n    }\n  };\n\n  // Auto-dismiss notifications after 5 seconds\n  useEffect(() => {\n    visibleNotifications.forEach(notification => {\n      const timer = setTimeout(() => {\n        handleDismiss(notification.id);\n      }, 5000);\n\n      return () => clearTimeout(timer);\n    });\n  }, [visibleNotifications]);\n\n  if (visibleNotifications.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"fixed top-4 right-4 z-[9999] space-y-3\">\n      {visibleNotifications.map((notification) => (\n        <div\n          key={notification.id}\n          className={`w-96 bg-white/95 dark:bg-gray-800/95 backdrop-blur-md rounded-2xl shadow-2xl border border-gray-200/50 dark:border-gray-700/50 transform transition-all duration-500 ease-out hover:scale-[1.02] hover:shadow-3xl cursor-pointer animate-in slide-in-from-right-full relative z-[9999]`}\n          onClick={() => handleNotificationClick(notification)}\n          style={{\n            animation: 'slideInRight 0.5s ease-out',\n            zIndex: 9999\n          }}\n        >\n          <div className=\"p-3\">\n            <div className=\"flex items-center space-x-3\">\n              {/* Conversation avatar */}\n              <div className={`w-10 h-10 rounded-xl flex items-center justify-center shadow-md flex-shrink-0 ${\n                notification.conversation.type === 'broadcast'\n                  ? 'bg-gradient-to-br from-purple-500 to-pink-600'\n                  : notification.conversation.type === 'group'\n                  ? 'bg-gradient-to-br from-green-500 to-teal-600'\n                  : 'bg-gradient-to-br from-blue-500 to-purple-600'\n              }`}>\n                <span className=\"text-white text-sm font-bold\">\n                  {notification.conversation.avatar || \n                   notification.conversation.name?.charAt(0).toUpperCase() || \n                   notification.sender?.name?.charAt(0).toUpperCase() || \"\"}\n                </span>\n              </div>\n\n              {/* Notification content */}\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-center justify-between mb-1\">\n                  <p className=\"text-sm font-semibold text-gray-900 dark:text-white truncate\">\n                    {notification.conversation.name || notification.sender?.name || 'Unknown'}\n                  </p>\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleDismiss(notification.id);\n                    }}\n                    className=\"flex-shrink-0 p-1 rounded-full hover:bg-gray-100/80 dark:hover:bg-gray-700/80 transition-all duration-200 ml-2\"\n                  >\n                    <X className=\"w-4 h-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\" />\n                  </button>\n                </div>\n\n                {/* Message preview */}\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 line-clamp-1 leading-relaxed\">\n                  {notification.messagePreview}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default NotificationBubble;\n","// components/ChatApp.js - Complete updated version with fixed message status\r\n\r\nimport { useState, useEffect, useRef, useCallback, useMemo } from \"react\";\r\nimport LoginForm from \"./Login/LoginForm\";\r\nimport ChatLayout from \"./ChatLayout\";\r\nimport { useUser } from \"../contexts/UserContext\";\r\nimport { socketService } from \"../services/socketService\";\r\nimport sessionManager from \"../utils/sessionManager\";\r\nimport fileUploadService from \"../utils/fileUpload\";\r\nimport { CheckCircle } from \"lucide-react\";\r\nimport {\r\n  createFileInfo,\r\n  getFileTypeFromFile,\r\n  validateFile,\r\n} from \"../utils/fileHelpers\";\r\nimport ObjectId from \"../utils/ObjectId\";\r\nimport NotificationBubble from \"./NotificationBubble\";\r\n\r\nconst ChatApp = () => {\r\n  const {\r\n    // User state from context\r\n    currentUser,\r\n    setCurrentUser,\r\n    isDark,\r\n    setIsDark,\r\n    conversations,\r\n    updateConversations,\r\n    showVerificationAlert,\r\n    setShowVerificationAlert,\r\n    activeChat,\r\n    setActiveChat,\r\n    onlineUsers,\r\n    updateOnlineUsers,\r\n    updateUserProfile,\r\n    isLoading,\r\n    setIsLoading,\r\n    loginUser,\r\n    logoutUser,\r\n    refreshSessionInfo,\r\n    error,\r\n    clearError,\r\n    fetchCompleteUserProfile,\r\n    popupAlert,\r\n    setPopupAlert,\r\n  } = useUser();\r\n\r\n  // Local state for chat-specific data\r\n  const [messages, setMessages] = useState({});\r\n  const [typingUsers, setTypingUsers] = useState(new Set());\r\n  const [showLogin, setShowLogin] = useState(!currentUser);\r\n  const [messageStatuses, setMessageStatuses] = useState({});\r\n  const [notification, setNotification] = useState(null);\r\n  const [messageNotifications, setMessageNotifications] = useState([]);\r\n\r\n  // Update showLogin when currentUser changes\r\n  useEffect(() => {\r\n    setShowLogin(!currentUser);\r\n  }, [currentUser]);\r\n\r\n  // Initialize user data and socket connection when currentUser changes\r\n  useEffect(() => {\r\n    if (currentUser && currentUser.blockedUsers !== undefined) {\r\n      console.log(\r\n        \"Current user with blocked users ready, initializing data...\"\r\n      );\r\n      initializeUserData();\r\n      connectSocket();\r\n      \r\n      // Request notification permission\r\n      if ('Notification' in window && Notification.permission === 'default') {\r\n        Notification.requestPermission();\r\n      }\r\n    } else if (currentUser && currentUser.blockedUsers === undefined) {\r\n      console.log(\"Current user exists but missing blockedUsers, waiting...\");\r\n      // Don't initialize yet - wait for complete profile\r\n    } else {\r\n      console.log(\"No current user, disconnecting socket\");\r\n      disconnectSocket();\r\n    }\r\n  }, [currentUser?.blockedUsers]);\r\n\r\n  useEffect(() => {\r\n    if (currentUser?._id && currentUser.blockedUsers === undefined) {\r\n      console.log(\r\n        \"User exists but blockedUsers missing, fetching complete profile...\"\r\n      );\r\n      fetchCompleteUserProfile();\r\n    }\r\n  }, [currentUser?._id, currentUser?.blockedUsers]);\r\n\r\n  // Setup socket event listeners\r\n  useEffect(() => {\r\n    if (currentUser && socketService.isSocketConnected()) {\r\n      setupSocketListeners();\r\n    }\r\n\r\n    return () => {\r\n      cleanupSocketListeners();\r\n    };\r\n  }, [currentUser, conversations, activeChat]);\r\n\r\n  // Track user interactions to determine if they're actively using the app\r\n  useEffect(() => {\r\n    const trackUserInteraction = () => {\r\n      window.lastUserInteraction = Date.now();\r\n    };\r\n\r\n    // Track various user interactions\r\n    const events = [\"click\", \"keypress\", \"scroll\", \"touchstart\", \"mousemove\"];\r\n    events.forEach((event) => {\r\n      window.addEventListener(event, trackUserInteraction);\r\n    });\r\n\r\n    // Initial timestamp\r\n    window.lastUserInteraction = Date.now();\r\n\r\n    return () => {\r\n      events.forEach((event) => {\r\n        window.removeEventListener(event, trackUserInteraction);\r\n      });\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (currentUser?._id && !currentUser?.blockedUsers) {\r\n      console.log(\"Fetching user profile because blockedUsers is missing\");\r\n      fetchUserProfile();\r\n    }\r\n  }, [currentUser?._id]);\r\n\r\n  const showNotification = (message, type = \"success\") => {\r\n    setNotification({ message, type });\r\n    setTimeout(() => setNotification(null), 3000);\r\n  };\r\n\r\n  // Notification management functions\r\n  const addMessageNotification = (message, conversation, sender) => {\r\n    // Only show notification if the chat is not currently open\r\n    if (activeChat?._id === conversation._id) {\r\n      return;\r\n    }\r\n\r\n    // Don't show notifications for messages sent by current user\r\n    if (sender._id === currentUser._id) {\r\n      return;\r\n    }\r\n\r\n    // Don't show popup notifications for system messages\r\n    if (message.messageType === 'system') {\r\n      return;\r\n    }\r\n\r\n    const notificationId = `${message._id}-${Date.now()}`;\r\n    \r\n    // Create message preview\r\n    let messagePreview = message.content || '';\r\n    if (message.messageType !== 'text' && message.fileInfo) {\r\n      const fileName = message.fileInfo.displayName || message.fileInfo.originalName || 'File';\r\n      const fileIcon = message.messageType === 'image' ? '' :\r\n                      message.messageType === 'video' ? '' :\r\n                      message.messageType === 'audio' ? '' :\r\n                      message.messageType === 'pdf' ? '' : '';\r\n      messagePreview = `${fileIcon} ${fileName}`;\r\n    }\r\n\r\n    // For group/broadcast conversations, add sender name\r\n    if (conversation.type === 'group' || conversation.type === 'broadcast') {\r\n      const senderName = sender.name || 'Someone';\r\n      messagePreview = `${senderName}: ${messagePreview}`;\r\n    }\r\n\r\n    const newNotification = {\r\n      id: notificationId,\r\n      messageId: message._id,\r\n      conversationId: conversation._id,\r\n      conversation: conversation,\r\n      sender: sender,\r\n      messagePreview: messagePreview,\r\n      timestamp: message.createdAt || new Date().toISOString()\r\n    };\r\n\r\n    setMessageNotifications(prev => [...prev, newNotification]);\r\n\r\n    // Also show browser notification if permission is granted\r\n    if ('Notification' in window && Notification.permission === 'granted') {\r\n      const conversationName = conversation.name || sender.name || 'Unknown';\r\n      new Notification(`New message from ${conversationName}`, {\r\n        body: messagePreview,\r\n        icon: '/favicon.ico',\r\n        tag: conversation._id, // This will replace previous notifications for the same conversation\r\n        requireInteraction: false\r\n      });\r\n    }\r\n  };\r\n\r\n  const dismissNotification = (notificationId) => {\r\n    setMessageNotifications(prev => \r\n      prev.filter(notif => notif.id !== notificationId)\r\n    );\r\n  };\r\n\r\n  // Add conversation notification function\r\n  const addConversationNotification = (conversation, createdBy) => {\r\n    // Don't show notification if the conversation was created by current user\r\n    if (createdBy._id === currentUser._id) {\r\n      return;\r\n    }\r\n\r\n    const notificationId = `conv-${conversation._id}-${Date.now()}`;\r\n    \r\n    // Create conversation preview\r\n    let conversationPreview = '';\r\n    if (conversation.type === 'group') {\r\n      conversationPreview = `You were added to group \"${conversation.name}\"`;\r\n    } else if (conversation.type === 'broadcast') {\r\n      conversationPreview = `You were added to broadcast channel \"${conversation.name}\"`;\r\n    } else {\r\n      conversationPreview = `New conversation with ${createdBy.name}`;\r\n    }\r\n\r\n    const newNotification = {\r\n      id: notificationId,\r\n      conversationId: conversation._id,\r\n      conversation: conversation,\r\n      sender: createdBy,\r\n      messagePreview: conversationPreview,\r\n      timestamp: conversation.createdAt || new Date().toISOString(),\r\n      type: 'conversation' // Mark as conversation notification\r\n    };\r\n\r\n    setMessageNotifications(prev => [...prev, newNotification]);\r\n\r\n    // Also show browser notification if permission is granted\r\n    if ('Notification' in window && Notification.permission === 'granted') {\r\n      const conversationName = conversation.name || createdBy.name || 'Unknown';\r\n      new Notification(`New conversation: ${conversationName}`, {\r\n        body: conversationPreview,\r\n        icon: '/favicon.ico',\r\n        tag: `conv-${conversation._id}`, // This will replace previous notifications for the same conversation\r\n        requireInteraction: false\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleNotificationClick = (notification) => {\r\n    // Find and set the conversation as active\r\n    const conversation = conversations.find(conv => conv._id === notification.conversationId);\r\n    if (conversation) {\r\n      setActiveChat(conversation);\r\n      // Mark conversation as viewed\r\n      if (typeof handleConversationViewed === 'function') {\r\n        handleConversationViewed(conversation._id);\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  const fetchUserProfile = async () => {\r\n    try {\r\n      const userProfileResponse = await sessionManager.authenticatedRequest(\r\n        \"/users/me/profile\"\r\n      );\r\n\r\n      if (userProfileResponse.ok) {\r\n        const userProfileData = await userProfileResponse.json();\r\n        if (userProfileData.success) {\r\n          console.log(\"Fresh user profile loaded:\", userProfileData.user);\r\n          setCurrentUser((prev) => ({\r\n            ...prev,\r\n            ...userProfileData.user,\r\n            blockedUsers: userProfileData.user.blockedUsers || [],\r\n          }));\r\n          return userProfileData.user;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch user profile:\", error);\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const connectSocket = () => {\r\n    const session = sessionManager.getCurrentSession();\r\n    if (session?.accessToken) {\r\n      socketService.connect(session.accessToken);\r\n\r\n      // Join user's personal room for notifications\r\n      if (currentUser) {\r\n        socketService.joinUserRoom(currentUser._id);\r\n      }\r\n      \r\n      // Refresh unread counts when socket reconnects (in case user was offline)\r\n      socketService.onConnect(() => {\r\n        refreshUnreadCounts();\r\n      });\r\n    }\r\n  };\r\n\r\n  const disconnectSocket = () => {\r\n    socketService.disconnect();\r\n  };\r\n\r\n  const setupSocketListeners = () => {\r\n    // In ChatApp.js - Replace the entire setupSocketListeners function's onNewMessage handler\r\n\r\n    socketService.onNewMessage((data) => {\r\n      const { conversationId, message } = data;\r\n\r\n\r\n      // Find the conversation to get full conversation data\r\n      const conversation = conversations.find(conv => conv._id === conversationId);\r\n\r\n      // SIMPLIFIED: Just check for duplicates by ID and add if not exists\r\n      setMessages((prev) => {\r\n        const existingMessages = prev[conversationId] || [];\r\n\r\n        // Simple duplicate check\r\n        const messageExists = existingMessages.some(\r\n          (msg) => msg._id === message._id\r\n        );\r\n\r\n        if (messageExists) {\r\n          return prev;\r\n        }\r\n\r\n        // Add new message\r\n        return {\r\n          ...prev,\r\n          [conversationId]: [...existingMessages, message],\r\n        };\r\n      });\r\n\r\n      // Show notification bubble if chat is not open and message is not from current user\r\n      if (conversation && message.sender && message.sender._id !== currentUser._id) {\r\n        addMessageNotification(message, conversation, message.sender);\r\n      }\r\n\r\n        // ALTERNATIVE APPROACH: Also update conversation directly in new message handler\r\n        // This ensures the sidebar updates even if conversation_updated event fails\r\n        updateConversations((prevConversations) =>\r\n          prevConversations.map((conv) => {\r\n            if (conv._id === conversationId) {\r\n              // Create updated last message for sidebar\r\n              let lastMessageContent = message.content;\r\n              if (message.messageType !== 'text' && message.fileInfo) {\r\n                const fileName = message.fileInfo.displayName || message.fileInfo.originalName || 'File';\r\n                const fileIcon = message.messageType === 'image' ? '' :\r\n                                message.messageType === 'video' ? '' :\r\n                                message.messageType === 'audio' ? '' :\r\n                                message.messageType === 'pdf' ? '' : '';\r\n                lastMessageContent = `${fileIcon} ${fileName}`;\r\n              }\r\n\r\n              // Only increment unread count if message is not from current user AND conversation is not active\r\n              const isFromCurrentUser = message.sender._id === currentUser._id;\r\n              const isActiveConversation = activeChat?._id === conversationId;\r\n              const currentUnreadCount = conv.unreadCount || 0;\r\n\r\n              return {\r\n                ...conv,\r\n                lastMessage: {\r\n                  content: lastMessageContent,\r\n                  sender: message.sender._id,\r\n                  timestamp: message.createdAt,\r\n                  messageType: message.messageType,\r\n                  fileInfo: message.fileInfo\r\n                },\r\n                updatedAt: message.createdAt,\r\n                unreadCount: (isFromCurrentUser || isActiveConversation) ? currentUnreadCount : currentUnreadCount + 1\r\n              };\r\n            }\r\n            return conv;\r\n          })\r\n        );\r\n    });\r\n\r\n    // Handle message status updates\r\n    socketService.onMessageStatusUpdate((data) => {\r\n      const { messageId, status, timestamp, deliveredTo, readBy } = data;\r\n\r\n      // SIMPLIFIED: Just match by real message ID\r\n      setMessages((prev) => {\r\n        const updated = { ...prev };\r\n        \r\n        Object.keys(updated).forEach((conversationId) => {\r\n          updated[conversationId] = updated[conversationId].map((msg) => {\r\n            if (msg._id === messageId) {\r\n              return {\r\n                ...msg,\r\n                status: status,\r\n                statusTimestamp: timestamp,\r\n                deliveredTo: deliveredTo || msg.deliveredTo || [],\r\n                readBy: readBy || msg.readBy || [],\r\n              };\r\n            }\r\n            return msg;\r\n          });\r\n        });\r\n        \r\n        return updated;\r\n      });\r\n\r\n      // Update message statuses tracking\r\n      setMessageStatuses((prev) => ({\r\n        ...prev,\r\n        [messageId]: {\r\n          status,\r\n          timestamp,\r\n          deliveredTo: deliveredTo || [],\r\n          readBy: readBy || [],\r\n        },\r\n      }));\r\n    });\r\n\r\n    // Handle bulk messages seen\r\n    socketService.onMessagesSeenBulk((data) => {\r\n      const { messageIds, seenBy, conversationId, timestamp } = data;\r\n\r\n      setMessages((prev) => {\r\n        const updated = { ...prev };\r\n        if (updated[conversationId]) {\r\n          updated[conversationId] = updated[conversationId].map((msg) => {\r\n            if (messageIds.includes(msg._id)) {\r\n              return {\r\n                ...msg,\r\n                status: \"read\",\r\n                statusTimestamp: timestamp,\r\n                readBy: [\r\n                  ...(msg.readBy || []),\r\n                  { user: seenBy, readAt: timestamp },\r\n                ],\r\n              };\r\n            }\r\n            return msg;\r\n          });\r\n        }\r\n        return updated;\r\n      });\r\n\r\n      // Update conversation unread count to 0 when messages are marked as seen\r\n      updateConversations((prevConversations) => {\r\n        return prevConversations.map((conv) => {\r\n          if (conv._id === conversationId) {\r\n            console.log(` Updating unread count to 0 for conversation ${conversationId}`);\r\n            return {\r\n              ...conv,\r\n              unreadCount: 0,\r\n              participants: conv.participants.map((p) => {\r\n                if (p.user._id === currentUser._id) {\r\n                  return {\r\n                    ...p,\r\n                    lastRead: timestamp\r\n                  };\r\n                }\r\n                return p;\r\n              })\r\n            };\r\n          }\r\n          return conv;\r\n        });\r\n      });\r\n    });\r\n\r\n    // Message edited\r\n    socketService.onMessageEdited((data) => {\r\n      const { messageId, content, editedAt } = data;\r\n\r\n      setMessages((prev) => {\r\n        const updated = { ...prev };\r\n        Object.keys(updated).forEach((conversationId) => {\r\n          updated[conversationId] = updated[conversationId].map((msg) =>\r\n            msg._id === messageId\r\n              ? {\r\n                  ...msg,\r\n                  content,\r\n                  isEdited: true,\r\n                  editedAt,\r\n                }\r\n              : msg\r\n          );\r\n        });\r\n        return updated;\r\n      });\r\n    });\r\n\r\n    // Message deleted\r\n    // Message deleted\r\n    socketService.onMessageDeleted((data) => {\r\n      const { messageId, conversationId, newLastMessage } = data;\r\n\r\n      // Update conversation's last message in sidebar if provided\r\n      if (conversationId) {\r\n        updateConversations(\r\n          conversations.map((conv) => {\r\n            if (conv._id === conversationId) {\r\n              if (newLastMessage) {\r\n                // Create proper last message content for sidebar\r\n                let lastMessageContent = newLastMessage.content;\r\n                if (newLastMessage.messageType !== \"text\") {\r\n                  const fileName = newLastMessage.content;\r\n                  const fileIcon =\r\n                    newLastMessage.messageType === \"image\"\r\n                      ? \"\"\r\n                      : newLastMessage.messageType === \"video\"\r\n                      ? \"\"\r\n                      : newLastMessage.messageType === \"audio\"\r\n                      ? \"\"\r\n                      : newLastMessage.messageType === \"pdf\"\r\n                      ? \"\"\r\n                      : \"\";\r\n                  lastMessageContent = `${fileIcon} ${fileName}`;\r\n                }\r\n\r\n                return {\r\n                  ...conv,\r\n                  lastMessage: {\r\n                    content: lastMessageContent,\r\n                    sender: newLastMessage.sender,\r\n                    timestamp: newLastMessage.timestamp,\r\n                    messageType: newLastMessage.messageType,\r\n                    fileInfo: newLastMessage.fileInfo,\r\n                  },\r\n                  updatedAt: new Date().toISOString(),\r\n                };\r\n              } else {\r\n                // No messages left in conversation\r\n                return {\r\n                  ...conv,\r\n                  lastMessage: null,\r\n                  updatedAt: new Date().toISOString(),\r\n                };\r\n              }\r\n            }\r\n            return conv;\r\n          })\r\n        );\r\n      }\r\n\r\n      setMessages((prev) => {\r\n        const updated = { ...prev };\r\n        Object.keys(updated).forEach((convId) => {\r\n          updated[convId] = updated[convId].filter(\r\n            (msg) => msg._id !== messageId\r\n          );\r\n        });\r\n        return updated;\r\n      });\r\n    });\r\n    // Message reaction\r\n    socketService.onMessageReaction((data) => {\r\n      const { messageId, reactions } = data;\r\n\r\n      setMessages((prev) => {\r\n        const updated = { ...prev };\r\n        Object.keys(updated).forEach((conversationId) => {\r\n          updated[conversationId] = updated[conversationId].map((msg) =>\r\n            msg._id === messageId ? { ...msg, reactions } : msg\r\n          );\r\n        });\r\n        return updated;\r\n      });\r\n    });\r\n\r\n    // Add this to your setupSocketListeners function:\r\n\r\n    // New conversation created\r\n    socketService.onConversationCreated((data) => {\r\n      const { conversation, createdBy } = data;\r\n\r\n      console.log(\" New conversation created:\", {\r\n        conversationId: conversation._id,\r\n        conversationType: conversation.type,\r\n        createdBy: createdBy?.name,\r\n        conversationName: conversation.name\r\n      });\r\n\r\n      // Check if conversation already exists\r\n      const existingConv = conversations.find(\r\n        (conv) => conv._id === conversation._id\r\n      );\r\n\r\n      if (!existingConv) {\r\n        const newConversation = {\r\n          ...conversation,\r\n          unreadCount: 0,\r\n        };\r\n\r\n        // Add to conversations list (at the beginning for newest first)\r\n        updateConversations([newConversation, ...conversations]);\r\n\r\n        // Initialize empty messages\r\n        setMessages((prev) => ({\r\n          ...prev,\r\n          [conversation._id]: [],\r\n        }));\r\n\r\n        // Join the conversation room\r\n        socketService.joinConversation(conversation._id);\r\n\r\n        // Show notification bubble for new conversation\r\n        if (createdBy) {\r\n          addConversationNotification(conversation, createdBy);\r\n        }\r\n      }\r\n    });\r\n\r\n    // Conversation deleted\r\n    socketService.onConversationDeleted((data) => {\r\n      const { conversationId, deletedBy } = data;\r\n\r\n      // Remove from conversations list\r\n      updateConversations(\r\n        conversations.filter((conv) => conv._id !== conversationId)\r\n      );\r\n\r\n      // Clear messages for this conversation\r\n      setMessages((prev) => {\r\n        const updated = { ...prev };\r\n        delete updated[conversationId];\r\n        return updated;\r\n      });\r\n\r\n      // Clear active chat if it's the deleted conversation\r\n      if (activeChat?._id === conversationId) {\r\n        setActiveChat(null);\r\n      }\r\n\r\n      // Show notification (only if deleted by someone else)\r\n      if (deletedBy !== currentUser._id) {\r\n        const conversation = conversations.find(\r\n          (conv) => conv._id === conversationId\r\n        );\r\n        const conversationName =\r\n          conversation?.type === \"group\" ? conversation.name : \"Conversation\";\r\n        showNotification(`${conversationName} was deleted`, \"success\");\r\n      }\r\n    });\r\n\r\n    // Typing indicators\r\n    socketService.onTypingStart((data) => {\r\n      const { userId, userName, conversationId } = data;\r\n\r\n      if (conversationId === activeChat?._id && userId !== currentUser?._id) {\r\n        setTypingUsers((prev) => new Set(prev).add(userName));\r\n      }\r\n    });\r\n\r\n    socketService.onTypingStop((data) => {\r\n      const { userId, userName, conversationId } = data;\r\n\r\n      if (conversationId === activeChat?._id) {\r\n        setTypingUsers((prev) => {\r\n          const newSet = new Set(prev);\r\n          newSet.delete(userName);\r\n          return newSet;\r\n        });\r\n      }\r\n    });\r\n\r\n    // User status updates\r\n    socketService.onUserOnline((data) => {\r\n      const { userId } = data;\r\n      updateOnlineUsers([...onlineUsers, userId]);\r\n    });\r\n\r\n    socketService.onUserOffline((data) => {\r\n      const { userId } = data;\r\n      updateOnlineUsers([...onlineUsers]?.filter((id) => id !== userId));\r\n    });\r\n\r\n    socketService.onUserStatusUpdate((data) => {\r\n      const { userId, status } = data;\r\n\r\n      // Update user status in conversations\r\n      updateConversations(\r\n        conversations.map((conv) => ({\r\n          ...conv,\r\n          participants: conv.participants.map((participant) =>\r\n            participant.user._id === userId\r\n              ? { ...participant, user: { ...participant.user, status } }\r\n              : participant\r\n          ),\r\n        }))\r\n      );\r\n    });\r\n\r\n    // Handle user profile updates\r\n    socketService.onUserProfileUpdate((data) => {\r\n      const { userId, user } = data;\r\n      console.log(\" User profile updated:\", { userId, user });\r\n\r\n      // Update user info in conversations\r\n      updateConversations(\r\n        conversations.map((conv) => ({\r\n          ...conv,\r\n          participants: conv.participants.map((participant) =>\r\n            participant.user._id === userId\r\n              ? { ...participant, user: { ...participant.user, ...user } }\r\n              : participant\r\n          ),\r\n        }))\r\n      );\r\n\r\n      // Update current user if it's their own profile\r\n      if (userId === currentUser?._id) {\r\n        updateUserProfile(user);\r\n      }\r\n    });\r\n\r\n    // Conversation updates\r\n    // Replace the existing conversation update handler with this enhanced version:\r\n    socketService.onConversationUpdate((data) => {\r\n      const { conversation, updateType } = data;\r\n\r\n      console.log(\" Conversation update received:\", {\r\n        conversationId: conversation._id,\r\n        updateType,\r\n        lastMessage: conversation.lastMessage,\r\n        updatedAt: conversation.updatedAt\r\n      });\r\n\r\n      // Update conversation in state immediately\r\n      updateConversations((prevConversations) => {\r\n        const updatedConversations = prevConversations.map((conv) =>\r\n          conv._id === conversation._id ? conversation : conv\r\n        );\r\n        \r\n        const foundConv = prevConversations.find(conv => conv._id === conversation._id);\r\n        console.log(\" Updating conversations state:\", {\r\n          conversationId: conversation._id,\r\n          conversationIdType: typeof conversation._id,\r\n          foundConversation: foundConv ? 'YES' : 'NO',\r\n          foundConvId: foundConv?._id,\r\n          foundConvIdType: typeof foundConv?._id,\r\n          totalConversations: prevConversations.length,\r\n          updatedConversations: updatedConversations.length,\r\n          allConvIds: prevConversations.map(conv => ({ id: conv._id, type: typeof conv._id }))\r\n        });\r\n        \r\n        return updatedConversations;\r\n      });\r\n\r\n      // Update active chat if it matches\r\n      if (activeChat?._id === conversation._id) {\r\n        setActiveChat(conversation);\r\n      }\r\n\r\n      // Show notifications for specific update types\r\n      if (updateType === \"new_message\") {\r\n        // Don't show notification for new messages as they're handled by the message notification system\r\n        console.log(\"Conversation updated with new message:\", conversation._id);\r\n      } else if (updateType === \"admin_added\") {\r\n        // Find the newly added admin\r\n        const newAdmin = conversation.participants.find(\r\n          (p) =>\r\n            p.role === \"admin\" &&\r\n            conversation.admins?.some((admin) => admin._id === p.user._id)\r\n        );\r\n        // Removed admin promotion notifications\r\n      } else if (updateType === \"admin_removed\") {\r\n        // Removed admin removal notifications\r\n      } else if (updateType === \"participant_added\") {\r\n        // Removed member joined notifications\r\n      } else if (updateType === \"participant_removed\") {\r\n        // Removed member left notifications\r\n      } else if (updateType === \"settings_updated\") {\r\n        // Removed settings updated notifications\r\n      }\r\n    });\r\n\r\n    // In setupSocketListeners function, update these handlers:\r\n\r\n    socketService.onUserBlocked((data) => {\r\n      const { blockedUserId, blockedUser, timestamp } = data;\r\n\r\n      console.log(\"Socket: User blocked event received\", {\r\n        blockedUserId,\r\n        blockedUser,\r\n      });\r\n\r\n      // Update current user's blocked list in context\r\n      setCurrentUser((prev) => {\r\n        const currentBlockedUsers = prev.blockedUsers || [];\r\n        const updatedBlockedUsers = currentBlockedUsers.includes(blockedUserId)\r\n          ? currentBlockedUsers\r\n          : [...currentBlockedUsers, blockedUserId];\r\n\r\n        return {\r\n          ...prev,\r\n          blockedUsers: updatedBlockedUsers,\r\n        };\r\n      });\r\n\r\n      // Update conversations to reflect blocked status\r\n      updateConversations(\r\n        conversations.map((conv) => {\r\n          if (conv.type === \"direct\") {\r\n            const otherParticipant = conv.participants.find(\r\n              (p) => p.user._id === blockedUserId\r\n            );\r\n            if (otherParticipant) {\r\n              return {\r\n                ...conv,\r\n                participants: conv.participants.map((p) =>\r\n                  p.user._id === blockedUserId\r\n                    ? {\r\n                        ...p,\r\n                        user: {\r\n                          ...p.user,\r\n                          isBlockedByCurrentUser: true,\r\n                        },\r\n                      }\r\n                    : p\r\n                ),\r\n              };\r\n            }\r\n          }\r\n          return conv;\r\n        })\r\n      );\r\n\r\n      // Removed blocking notification\r\n    });\r\n\r\n    socketService.onUserUnblocked((data) => {\r\n      const { unblockedUserId, unblockedUser, timestamp } = data;\r\n\r\n      console.log(\"Socket: User unblocked event received\", {\r\n        unblockedUserId,\r\n        unblockedUser,\r\n      });\r\n\r\n      // Update current user's blocked list in context\r\n      setCurrentUser((prev) => {\r\n        const updatedBlockedUsers = (prev.blockedUsers || []).filter(\r\n          (id) => id !== unblockedUserId\r\n        );\r\n\r\n        return {\r\n          ...prev,\r\n          blockedUsers: updatedBlockedUsers,\r\n        };\r\n      });\r\n\r\n      // Update conversations to reflect unblocked status\r\n      updateConversations(\r\n        conversations.map((conv) => {\r\n          if (conv.type === \"direct\") {\r\n            const otherParticipant = conv.participants.find(\r\n              (p) => p.user._id === unblockedUserId\r\n            );\r\n            if (otherParticipant) {\r\n              return {\r\n                ...conv,\r\n                participants: conv.participants.map((p) =>\r\n                  p.user._id === unblockedUserId\r\n                    ? {\r\n                        ...p,\r\n                        user: {\r\n                          ...p.user,\r\n                          isBlockedByCurrentUser: false,\r\n                        },\r\n                      }\r\n                    : p\r\n                ),\r\n              };\r\n            }\r\n          }\r\n          return conv;\r\n        })\r\n      );\r\n\r\n      // Removed unblocking notification\r\n    });\r\n\r\n    socketService.onUserBlockedYou((data) => {\r\n      const { blockedByUserId, blockedByUser, timestamp } = data;\r\n\r\n      // Update conversations to show that current user is blocked\r\n      updateConversations(\r\n        conversations.map((conv) => {\r\n          if (conv.type === \"direct\") {\r\n            const otherParticipant = conv.participants.find(\r\n              (p) => p.user._id === blockedByUserId\r\n            );\r\n            if (otherParticipant) {\r\n              return {\r\n                ...conv,\r\n                participants: conv.participants.map((p) =>\r\n                  p.user._id === blockedByUserId\r\n                    ? {\r\n                        ...p,\r\n                        user: {\r\n                          ...p.user,\r\n                          hasBlockedCurrentUser: true,\r\n                        },\r\n                      }\r\n                    : p\r\n                ),\r\n              };\r\n            }\r\n          }\r\n          return conv;\r\n        })\r\n      );\r\n\r\n      // Update activeChat if it's the conversation with the user who blocked us\r\n      if (activeChat?.type === \"direct\") {\r\n        const otherParticipant = activeChat.participants.find(\r\n          (p) => p.user._id === blockedByUserId\r\n        );\r\n        if (otherParticipant) {\r\n          setActiveChat({\r\n            ...activeChat,\r\n            participants: activeChat.participants.map((p) =>\r\n              p.user._id === blockedByUserId\r\n                ? {\r\n                    ...p,\r\n                    user: {\r\n                      ...p.user,\r\n                      hasBlockedCurrentUser: true,\r\n                    },\r\n                  }\r\n                : p\r\n            ),\r\n          });\r\n        }\r\n      }\r\n\r\n      // Removed \"blocked you\" notification\r\n    });\r\n\r\n    socketService.onUserUnblockedYou((data) => {\r\n      const { unblockedByUserId, unblockedByUser, timestamp } = data;\r\n\r\n      // Update conversations to show that current user is unblocked\r\n      updateConversations(\r\n        conversations.map((conv) => {\r\n          if (conv.type === \"direct\") {\r\n            const otherParticipant = conv.participants.find(\r\n              (p) => p.user._id === unblockedByUserId\r\n            );\r\n            if (otherParticipant) {\r\n              return {\r\n                ...conv,\r\n                participants: conv.participants.map((p) =>\r\n                  p.user._id === unblockedByUserId\r\n                    ? {\r\n                        ...p,\r\n                        user: {\r\n                          ...p.user,\r\n                          hasBlockedCurrentUser: false,\r\n                        },\r\n                      }\r\n                    : p\r\n                ),\r\n              };\r\n            }\r\n          }\r\n          return conv;\r\n        })\r\n      );\r\n\r\n      // Update activeChat if it's the conversation with the user who unblocked us\r\n      if (activeChat?.type === \"direct\") {\r\n        const otherParticipant = activeChat.participants.find(\r\n          (p) => p.user._id === unblockedByUserId\r\n        );\r\n        if (otherParticipant) {\r\n          setActiveChat({\r\n            ...activeChat,\r\n            participants: activeChat.participants.map((p) =>\r\n              p.user._id === unblockedByUserId\r\n                ? {\r\n                    ...p,\r\n                    user: {\r\n                      ...p.user,\r\n                      hasBlockedCurrentUser: false,\r\n                    },\r\n                  }\r\n                : p\r\n            ),\r\n          });\r\n        }\r\n      }\r\n\r\n      // Removed \"unblocked you\" notification\r\n    });\r\n\r\n    //  CONVERSATION LEFT SOCKET EVENT\r\n    socketService.onConversationLeft((data) => {\r\n      const { conversationId, timestamp } = data;\r\n\r\n      // Remove conversation from current user's list\r\n      updateConversations(\r\n        conversations.filter((conv) => conv._id !== conversationId)\r\n      );\r\n\r\n      // Clear messages for this conversation\r\n      setMessages((prev) => {\r\n        const updated = { ...prev };\r\n        delete updated[conversationId];\r\n        return updated;\r\n      });\r\n\r\n      // Clear active chat if it's the conversation we left\r\n      if (activeChat?._id === conversationId) {\r\n        setActiveChat(null);\r\n      }\r\n\r\n      // Removed \"left conversation\" notification\r\n    });\r\n\r\n    socketService.onAdminTransferred((data) => {\r\n      const {\r\n        conversationId,\r\n        newAdminId,\r\n        newAdminName,\r\n        previousAdminName,\r\n        conversation,\r\n        timestamp,\r\n      } = data;\r\n\r\n      // Update conversation with new admin info\r\n      updateConversations(\r\n        conversations.map((conv) =>\r\n          conv._id === conversationId ? conversation : conv\r\n        )\r\n      );\r\n\r\n      // Update active chat if it matches\r\n      if (activeChat?._id === conversationId) {\r\n        setActiveChat(conversation);\r\n      }\r\n\r\n      // Removed admin transfer notifications\r\n    });\r\n\r\n    //  PROMOTED TO ADMIN SOCKET EVENT\r\n    socketService.onPromotedToAdmin((data) => {\r\n      const {\r\n        conversationId,\r\n        conversationName,\r\n        conversationType,\r\n        previousAdminName,\r\n        timestamp,\r\n      } = data;\r\n\r\n      // Removed admin promotion notification\r\n    });\r\n\r\n    //  CONVERSATION CLEARED SOCKET EVENT\r\n    socketService.onConversationCleared((data) => {\r\n      const { conversationId, timestamp } = data;\r\n\r\n      // Clear messages for this conversation locally\r\n      setMessages((prev) => ({\r\n        ...prev,\r\n        [conversationId]: [],\r\n      }));\r\n\r\n      // Update conversation's last message\r\n      updateConversations(\r\n        conversations.map((conv) =>\r\n          conv._id === conversationId\r\n            ? {\r\n                ...conv,\r\n                lastMessage: null,\r\n                updatedAt: new Date().toISOString(),\r\n              }\r\n            : conv\r\n        )\r\n      );\r\n\r\n      // Removed chat cleared notification\r\n    });\r\n\r\n    // Handle conversation hidden\r\n    socketService.onConversationHidden((data) => {\r\n      const { conversationId } = data;\r\n      \r\n      // Hide conversation from sidebar\r\n      updateConversations(prevConversations => \r\n        prevConversations.filter(conv => conv._id !== conversationId)\r\n      );\r\n      \r\n      // Clear active chat if it's the hidden conversation\r\n      if (activeChat?._id === conversationId) {\r\n        setActiveChat(null);\r\n      }\r\n    });\r\n\r\n    // Handle conversation reappeared\r\n    socketService.onConversationReappeared((data) => {\r\n      const { conversationId, senderId } = data;\r\n      \r\n      console.log(` FRONTEND: Conversation ${conversationId} reappeared due to message from ${senderId}`);\r\n      console.log(` FRONTEND: Current activeChat:`, activeChat?._id);\r\n      console.log(` FRONTEND: Current conversations count:`, conversations.length);\r\n      \r\n      // Refresh the entire conversations list to get the restored conversation\r\n      refreshConversationsList(conversationId);\r\n      \r\n      // Always fetch messages for the reappeared conversation\r\n      console.log(` FRONTEND: Fetching messages for reappeared conversation ${conversationId}`);\r\n      fetchMessages(conversationId);\r\n      \r\n      // Show notification that conversation reappeared\r\n      // Removed conversation reappeared notification\r\n    });\r\n\r\n    // Handle conversation deleted\r\n    socketService.onConversationDeleted((data) => {\r\n      const { conversationId } = data;\r\n      console.log(`FRONTEND: Received conversation_deleted event for conversation ${conversationId}`);\r\n      \r\n      // Clear messages for this conversation\r\n      setMessages(prev => ({\r\n        ...prev,\r\n        [conversationId]: []\r\n      }));\r\n      \r\n      // Hide conversation from sidebar\r\n      updateConversations(prevConversations => \r\n        prevConversations.filter(conv => conv._id !== conversationId)\r\n      );\r\n      \r\n      // Clear active chat if it's the deleted conversation\r\n      if (activeChat?._id === conversationId) {\r\n        setActiveChat(null);\r\n      }\r\n    });\r\n  };\r\n\r\n  const cleanupSocketListeners = () => {\r\n    // Remove all listeners by calling off without callback (removes all listeners for that event)\r\n    socketService.off(\"new_message\");\r\n    socketService.off(\"message_status_update\");\r\n    socketService.off(\"messages_seen_bulk\");\r\n    socketService.off(\"message_edited\");\r\n    socketService.off(\"message_deleted\");\r\n    socketService.off(\"message_reaction\");\r\n    socketService.off(\"typing_start\");\r\n    socketService.off(\"typing_stop\");\r\n    socketService.off(\"user_online\");\r\n    socketService.off(\"user_offline\");\r\n    socketService.off(\"user_status_update\");\r\n    socketService.off(\"user_profile_updated\");\r\n    socketService.off(\"conversation_updated\");\r\n    socketService.off(\"conversation_created\");\r\n    socketService.off(\"conversation_deleted\");\r\n    socketService.off(\"user_blocked\");\r\n    socketService.off(\"user_unblocked\");\r\n    socketService.off(\"user_blocked_you\");\r\n    socketService.off(\"user_unblocked_you\");\r\n    socketService.off(\"conversation_left\");\r\n    socketService.off(\"admin_transferred\");\r\n    socketService.off(\"promoted_to_admin\");\r\n    socketService.off(\"conversation_cleared\");\r\n  };\r\n\r\n  const initializeUserData = async () => {\r\n    if (!currentUser) {\r\n      console.log(\"No current user for initialization\");\r\n      return;\r\n    }\r\n\r\n    if (currentUser.blockedUsers === undefined) {\r\n      console.log(\"User missing blockedUsers, cannot initialize properly\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      console.log(\r\n        \"Initializing user data with blocked users:\",\r\n        currentUser.blockedUsers\r\n      );\r\n\r\n      // Fetch conversations\r\n      const conversationsResponse = await sessionManager.authenticatedRequest(\r\n        \"/conversations\"\r\n      );\r\n\r\n      if (!conversationsResponse.ok) {\r\n        throw new Error(\r\n          `HTTP ${conversationsResponse.status}: ${conversationsResponse.statusText}`\r\n        );\r\n      }\r\n\r\n      const conversationsData = await conversationsResponse.json();\r\n\r\n      if (conversationsData.success) {\r\n        // Fetch unread counts for all conversations\r\n        const unreadCountsResponse = await sessionManager.authenticatedRequest(\r\n          \"/conversations/unread-counts\"\r\n        );\r\n        \r\n        let unreadCounts = {};\r\n        if (unreadCountsResponse.ok) {\r\n          const unreadCountsData = await unreadCountsResponse.json();\r\n          if (unreadCountsData.success) {\r\n            unreadCounts = unreadCountsData.unreadCounts;\r\n          }\r\n        }\r\n        \r\n        const conversationsWithUnread = conversationsData.data.map(\r\n          (conversation) => ({\r\n            ...conversation,\r\n            unreadCount: unreadCounts[conversation._id] || 0,\r\n          })\r\n        );\r\n\r\n        // Apply blocked status since we know we have complete user data\r\n        const conversationsWithBlockedStatus = conversationsWithUnread.map(\r\n          (conv) => ({\r\n            ...conv,\r\n            participants: conv.participants.map((participant) => ({\r\n              ...participant,\r\n              user: {\r\n                ...participant.user,\r\n                isBlockedByCurrentUser: currentUser.blockedUsers.includes(\r\n                  participant.user._id\r\n                ),\r\n                hasBlockedCurrentUser:\r\n                  participant.user.hasBlockedCurrentUser || false,\r\n              },\r\n            })),\r\n          })\r\n        );\r\n\r\n        console.log(\"Setting conversations with blocked status applied\");\r\n        updateConversations(conversationsWithBlockedStatus);\r\n\r\n        // Join conversation rooms\r\n        conversationsWithUnread.forEach((conversation) => {\r\n          socketService.joinConversation(conversation._id);\r\n        });\r\n\r\n        // Fetch messages - SIMPLIFIED without processedMessageIds tracking\r\n        const messagesData = {};\r\n        await Promise.all(\r\n          conversationsWithUnread.map(async (conversation) => {\r\n            try {\r\n              console.log(\r\n                `Loading messages for conversation: ${conversation._id}`\r\n              );\r\n\r\n              const messagesResponse =\r\n                await sessionManager.authenticatedRequest(\r\n                  `/messages/${conversation._id}?page=1&limit=50`\r\n                );\r\n\r\n              if (messagesResponse.ok) {\r\n                const messagesResult = await messagesResponse.json();\r\n\r\n                if (messagesResult.success) {\r\n                  // Handle both possible response formats\r\n                  const messages =\r\n                    messagesResult.data || messagesResult.messages || [];\r\n                  messagesData[conversation._id] = messages;\r\n\r\n                  console.log(\r\n                    ` Loaded ${messages.length} messages for ${conversation._id}`\r\n                  );\r\n                } else {\r\n                  console.log(\r\n                    ` No messages for ${conversation._id}:`,\r\n                    messagesResult.message\r\n                  );\r\n                  messagesData[conversation._id] = [];\r\n                }\r\n              } else {\r\n                console.error(\r\n                  ` Failed to load messages for ${conversation._id}: ${messagesResponse.status}`\r\n                );\r\n                messagesData[conversation._id] = [];\r\n              }\r\n            } catch (error) {\r\n              console.error(\r\n                `Failed to fetch messages for conversation ${conversation._id}:`,\r\n                error\r\n              );\r\n              messagesData[conversation._id] = [];\r\n            }\r\n          })\r\n        );\r\n\r\n        console.log(\r\n          \"Setting messages data for\",\r\n          Object.keys(messagesData).length,\r\n          \"conversations\"\r\n        );\r\n        setMessages(messagesData);\r\n      }\r\n\r\n      // Fetch online users\r\n      try {\r\n        const onlineUsersResponse = await sessionManager.authenticatedRequest(\r\n          \"/users/online\"\r\n        );\r\n        if (onlineUsersResponse.ok) {\r\n          const onlineUsersData = await onlineUsersResponse.json();\r\n          if (onlineUsersData.success) {\r\n            const onlineUserIds = onlineUsersData.onlineUsers.map(\r\n              (user) => user._id\r\n            );\r\n            updateOnlineUsers(onlineUserIds);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch online users:\", error);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to initialize user data:\", error);\r\n      showNotification(\r\n        \"Failed to load chat data. Please try refreshing the page.\",\r\n        \"error\"\r\n      );\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const refreshUnreadCounts = async () => {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\"/conversations/unread-counts\");\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.success) {\r\n          // Update conversations with fresh unread counts\r\n          updateConversations((prevConversations) => {\r\n            return prevConversations.map((conv) => ({\r\n              ...conv,\r\n              unreadCount: data.unreadCounts[conv._id] || 0\r\n            }));\r\n          });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error refreshing unread counts:\", error);\r\n    }\r\n  };\r\n\r\n  const refreshConversationsList = async (reappearedConversationId = null) => {\r\n    try {\r\n      console.log(\"Refreshing conversations list...\");\r\n      \r\n      // Fetch conversations\r\n      const conversationsResponse = await sessionManager.authenticatedRequest(\"/conversations\");\r\n      if (!conversationsResponse.ok) {\r\n        throw new Error(`HTTP ${conversationsResponse.status}: ${conversationsResponse.statusText}`);\r\n      }\r\n\r\n      const conversationsData = await conversationsResponse.json();\r\n      if (conversationsData.success) {\r\n        // Fetch unread counts for all conversations\r\n        const unreadCountsResponse = await sessionManager.authenticatedRequest(\"/conversations/unread-counts\");\r\n        \r\n        let unreadCounts = {};\r\n        if (unreadCountsResponse.ok) {\r\n          const unreadCountsData = await unreadCountsResponse.json();\r\n          if (unreadCountsData.success) {\r\n            unreadCounts = unreadCountsData.unreadCounts;\r\n          }\r\n        }\r\n        \r\n        const conversationsWithUnread = conversationsData.data.map((conversation) => ({\r\n          ...conversation,\r\n          unreadCount: unreadCounts[conversation._id] || 0,\r\n        }));\r\n\r\n        // Apply blocked status since we know we have complete user data\r\n        const conversationsWithBlockedStatus = conversationsWithUnread.map((conv) => ({\r\n          ...conv,\r\n          participants: conv.participants.map((participant) => ({\r\n            ...participant,\r\n            user: {\r\n              ...participant.user,\r\n              isBlockedByCurrentUser: currentUser.blockedUsers.includes(participant.user._id),\r\n              hasBlockedCurrentUser: participant.user.hasBlockedCurrentUser || false,\r\n            },\r\n          })),\r\n        }));\r\n\r\n        console.log(\"Setting refreshed conversations with blocked status applied\");\r\n        console.log(`FRONTEND: Refreshed conversations count: ${conversationsWithBlockedStatus.length}`);\r\n        console.log(`FRONTEND: Refreshed conversations:`, conversationsWithBlockedStatus.map(c => ({ id: c._id, name: c.name || 'Direct', isHidden: c.participants.find(p => p.user._id === currentUser._id)?.isHidden })));\r\n        updateConversations(conversationsWithBlockedStatus);\r\n        \r\n        // If this is a reappeared conversation, set it as active\r\n        if (reappearedConversationId) {\r\n          const reappearedConversation = conversationsWithBlockedStatus.find(conv => conv._id === reappearedConversationId);\r\n          if (reappearedConversation) {\r\n            console.log(` FRONTEND: Setting reappeared conversation as active: ${reappearedConversationId}`);\r\n            setActiveChat(reappearedConversation);\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to refresh conversations list:\", error);\r\n    }\r\n  };\r\n\r\n  const fetchConversationDetails = async (conversationId) => {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(`/conversations/${conversationId}`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.success) {\r\n          // Add the conversation back to the list\r\n          updateConversations(prevConversations => {\r\n            const exists = prevConversations.find(conv => conv._id === conversationId);\r\n            if (exists) {\r\n              return prevConversations.map(conv => \r\n                conv._id === conversationId ? data.conversation : conv\r\n              );\r\n            } else {\r\n              return [data.conversation, ...prevConversations];\r\n            }\r\n          });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch conversation details:\", error);\r\n    }\r\n  };\r\n\r\n  // Handle active chat change - UPDATED: Only update UI, don't auto-mark as read\r\n  useEffect(() => {\r\n    if (activeChat && currentUser) {\r\n      // Just update unread count to 0 for active conversation in UI\r\n      // but don't send socket events yet (prevents auto-read on refresh)\r\n      updateConversations(\r\n        conversations.map((conv) =>\r\n          conv._id === activeChat._id ? { ...conv, unreadCount: 0 } : conv\r\n        )\r\n      );\r\n\r\n      // Clear notifications for the active chat\r\n      setMessageNotifications(prev => \r\n        prev.filter(notif => notif.conversationId !== activeChat._id)\r\n      );\r\n    }\r\n  }, [activeChat?._id, currentUser]);\r\n\r\n  // NEW: Function to handle explicit conversation viewing (when user actually clicks/focuses)\r\n  const handleConversationViewed = useCallback((conversationId) => {\r\n    // Only call markConversationRead - this handles both viewing and marking as read\r\n    // viewConversation is redundant since markConversationRead does the same work\r\n    socketService.markConversationRead(conversationId);\r\n\r\n    // Update user interaction timestamp\r\n    window.lastUserInteraction = Date.now();\r\n    \r\n    // Also immediately reset unread count for this conversation\r\n    updateConversations((prevConversations) => {\r\n      return prevConversations.map((conv) => {\r\n        if (conv._id === conversationId) {\r\n          return {\r\n            ...conv,\r\n            unreadCount: 0\r\n          };\r\n        }\r\n        return conv;\r\n      });\r\n    });\r\n  }, [updateConversations]);\r\n\r\n  const handleLogin = async (credentials) => {\r\n    try {\r\n      showNotification(\"\", \"success\");\r\n      const response = await loginUser(credentials);\r\n      console.log(\"Loggingin user\");\r\n      if (response.success) {\r\n        console.log(\"Loggingin user success\");\r\n        setShowLogin(false);\r\n        // Refresh session info\r\n        refreshSessionInfo();\r\n      } else if (response.emailVerificationRequired) {\r\n        console.log(\"Loggingin user email\");\r\n        // Show verification popup when signup requires verification\r\n        setShowVerificationAlert(true);\r\n        showNotification(\r\n          \"Account created! Please check your email for verification instructions.\",\r\n          \"success\"\r\n        );\r\n        console.log(\r\n          \"Account created! Please check your email for verification instructions.\"\r\n        );\r\n\r\n        // Hide the alert after 8 seconds\r\n        setTimeout(() => {\r\n          setShowVerificationAlert(false);\r\n        }, 8000);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Login error:\", error);\r\n      showNotification(\r\n        error.message || \"Login failed. Please try again.\",\r\n        \"error\"\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      disconnectSocket();\r\n      await logoutUser();\r\n      setShowLogin(true);\r\n      setMessages({});\r\n      setTypingUsers(new Set());\r\n      setMessageStatuses({});\r\n      clearError();\r\n    } catch (error) {\r\n      console.error(\"Logout error:\", error);\r\n      // Still proceed with logout even if server call fails\r\n      setShowLogin(true);\r\n      setMessages({});\r\n      setTypingUsers(new Set());\r\n      setMessageStatuses({});\r\n      clearError();\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async (\r\n    conversationId,\r\n    messageContent,\r\n    currentUser,\r\n    replyTo = null\r\n  ) => {\r\n    try {\r\n      // Generate real ObjectId on client\r\n      const messageId = ObjectId.generate();\r\n\r\n\r\n      // Update user interaction timestamp\r\n      window.lastUserInteraction = Date.now();\r\n\r\n      // Add message to UI immediately with real ID\r\n      const newMessage = {\r\n        _id: messageId, // Real ObjectId, not tempId\r\n        sender: currentUser,\r\n        conversation: conversationId,\r\n        content: messageContent,\r\n        messageType: \"text\",\r\n        status: \"sending\",\r\n        createdAt: new Date().toISOString(),\r\n        replyTo: replyTo,\r\n        deliveredTo: [],\r\n        readBy: [],\r\n      };\r\n\r\n      setMessages((prev) => ({\r\n        ...prev,\r\n        [conversationId]: [...(prev[conversationId] || []), newMessage],\r\n      }));\r\n\r\n      // Prepare message data for server\r\n      const messageData = {\r\n        _id: messageId, // Include client-generated ID\r\n        content: messageContent,\r\n        messageType: \"text\",\r\n      };\r\n\r\n      if (replyTo) {\r\n        messageData.replyTo = replyTo;\r\n      }\r\n\r\n      // Send message using authenticated request\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/messages/${conversationId}`,\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify(messageData),\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (!result.success) {\r\n        // Remove message on error\r\n        setMessages((prev) => ({\r\n          ...prev,\r\n          [conversationId]: prev[conversationId].filter(\r\n            (msg) => msg._id !== messageId\r\n          ),\r\n        }));\r\n        throw new Error(result.message || \"Failed to send message\");\r\n      }\r\n\r\n      // Update message status to sent (only if not already updated by socket events)\r\n      setMessages((prev) => ({\r\n        ...prev,\r\n        [conversationId]: prev[conversationId].map((msg) =>\r\n          msg._id === messageId\r\n            ? { \r\n                ...msg, \r\n                status: msg.status === \"sending\" ? \"sent\" : msg.status, // Don't override delivered/read\r\n                createdAt: result.data.createdAt \r\n              }\r\n            : msg\r\n        ),\r\n      }));\r\n    } catch (error) {\r\n      console.error(\"Failed to send message:\", error);\r\n      showNotification(\"Failed to send message. Please try again.\", \"error\");\r\n    }\r\n  };\r\n\r\n  const handleSendFileMessage = async (\r\n    conversationId,\r\n    file,\r\n    replyTo = null\r\n  ) => {\r\n    try {\r\n      // Validate file\r\n      const validation = validateFile(file);\r\n      if (!validation.valid) {\r\n        // Removed file validation error notification\r\n        return;\r\n      }\r\n\r\n      // Removed upload progress notification\r\n\r\n      // Upload file to cloud storage\r\n      const uploadResult = await fileUploadService.uploadFile(file);\r\n\r\n      // Generate real ObjectId\r\n      const messageId = ObjectId.generate();\r\n\r\n      console.log(\"Sending file message with client-generated ID:\", messageId);\r\n\r\n      // Update user interaction timestamp\r\n      window.lastUserInteraction = Date.now();\r\n\r\n      // Determine message type\r\n      const messageType = getFileTypeFromFile(file);\r\n      const fileInfo = createFileInfo(file, uploadResult);\r\n\r\n      // Add message to UI immediately with real ID\r\n      const newMessage = {\r\n        _id: messageId, // Real ObjectId\r\n        sender: currentUser,\r\n        conversation: conversationId,\r\n        content: uploadResult.url,\r\n        messageType: messageType,\r\n        fileInfo: fileInfo,\r\n        status: \"sending\",\r\n        createdAt: new Date().toISOString(),\r\n        replyTo: replyTo,\r\n        deliveredTo: [],\r\n        readBy: [],\r\n      };\r\n\r\n      setMessages((prev) => ({\r\n        ...prev,\r\n        [conversationId]: [...(prev[conversationId] || []), newMessage],\r\n      }));\r\n\r\n      // Create message data with client-generated ID\r\n      const messageData = {\r\n        _id: messageId, // Include client-generated ID\r\n        content: uploadResult.url,\r\n        messageType: messageType,\r\n        fileInfo: fileInfo,\r\n      };\r\n\r\n      if (replyTo) {\r\n        messageData.replyTo = replyTo._id;\r\n      }\r\n\r\n      // Send to backend\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/messages/${conversationId}`,\r\n        {\r\n          method: \"POST\",\r\n          body: messageData,\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (!result.success) {\r\n        // Remove message on error\r\n        setMessages((prev) => ({\r\n          ...prev,\r\n          [conversationId]: prev[conversationId].filter(\r\n            (msg) => msg._id !== messageId\r\n          ),\r\n        }));\r\n        throw new Error(result.message || \"Failed to send file message\");\r\n      }\r\n\r\n      // Update message status (only if not already updated by socket events)\r\n      setMessages((prev) => ({\r\n        ...prev,\r\n        [conversationId]: prev[conversationId].map((msg) =>\r\n          msg._id === messageId\r\n            ? { \r\n                ...msg, \r\n                status: msg.status === \"sending\" ? \"sent\" : msg.status, // Don't override delivered/read\r\n                createdAt: result.data.createdAt \r\n              }\r\n            : msg\r\n        ),\r\n      }));\r\n    } catch (error) {\r\n      console.error(\"Failed to send file:\", error);\r\n      // Removed file upload error notification\r\n    }\r\n  };\r\n\r\n  // Enhanced message sending for broadcast channels (optional - add if you want to restrict messaging)\r\n  const handleSendMessageWrapper = async (\r\n    conversationId,\r\n    content,\r\n    file = null,\r\n    replyTo = null\r\n  ) => {\r\n    const targetConversationId = conversationId || activeChat?._id;\r\n\r\n    if (!targetConversationId) return;\r\n\r\n    // Check if it's a broadcast channel and user has permission\r\n    const conversation = conversations.find(\r\n      (conv) => conv._id === targetConversationId\r\n    );\r\n    if (conversation && conversation.type === \"broadcast\") {\r\n      console.log(\r\n        \"admins\",\r\n        conversation.admin,\r\n        conversation.admins,\r\n        currentUser._id\r\n      );\r\n      \r\n      // Check main admin - handle both string and object formats\r\n      const mainAdminId = typeof conversation.admin === 'string' \r\n        ? conversation.admin \r\n        : conversation.admin?._id;\r\n      \r\n      const isMainAdmin = mainAdminId === currentUser._id;\r\n      \r\n      // Check admins array - handle mixed formats\r\n      const isAdditionalAdmin = conversation.admins && Array.isArray(conversation.admins) &&\r\n        conversation.admins.some((admin) => {\r\n          const adminUserId = typeof admin === 'string' ? admin : admin?._id;\r\n          return adminUserId === currentUser._id;\r\n        });\r\n      \r\n      const isAdmin = isMainAdmin || isAdditionalAdmin;\r\n\r\n      if (!isAdmin) {\r\n        showNotification(\r\n          \"Only administrators can send messages in broadcast channels\",\r\n          \"error\"\r\n        );\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Proceed with normal message sending\r\n    if (file) {\r\n      await handleSendFileMessage(targetConversationId, file, replyTo);\r\n    } else if (content?.trim()) {\r\n      await handleSendMessage(\r\n        targetConversationId,\r\n        content.trim(),\r\n        currentUser,\r\n        replyTo\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleEditMessage = async (messageId, newContent) => {\r\n    try {\r\n      // Update user interaction timestamp\r\n      window.lastUserInteraction = Date.now();\r\n\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/messages/${messageId}`,\r\n        {\r\n          method: \"PUT\",\r\n          body: JSON.stringify({ content: newContent }),\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (!result.success) {\r\n        throw new Error(result.message || \"Failed to edit message\");\r\n      }\r\n      // Socket listeners will handle the update\r\n    } catch (error) {\r\n      console.error(\"Failed to edit message:\", error);\r\n      showNotification(\"Failed to edit message. Please try again.\", \"error\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteMessage = async (messageId) => {\r\n    try {\r\n      window.lastUserInteraction = Date.now();\r\n\r\n      // For client-generated IDs, check if it's a local message that hasn't been sent yet\r\n      if (!messageId.match(/^[0-9a-fA-F]{24}$/)) {\r\n        console.error(\"Invalid message ID format:\", messageId);\r\n        showNotification(\"Invalid message ID\", \"error\");\r\n        return;\r\n      }\r\n\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/messages/${messageId}`,\r\n        {\r\n          method: \"DELETE\",\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (!result.success) {\r\n        throw new Error(result.message || \"Failed to delete message\");\r\n      }\r\n\r\n      showNotification(\"Message deleted successfully\", \"success\");\r\n\r\n      // Note: Don't remove from local state here - let the socket event handle it\r\n      // This ensures consistency across all clients\r\n    } catch (error) {\r\n      console.error(\"Failed to delete message:\", error);\r\n      showNotification(\"Failed to delete message. Please try again.\", \"error\");\r\n    }\r\n  };\r\n\r\n  const handleReactToMessage = async (messageId, emoji) => {\r\n    try {\r\n      // Update user interaction timestamp\r\n      window.lastUserInteraction = Date.now();\r\n\r\n      // Prepare the request body - emoji can be null to remove reaction\r\n      const requestBody = emoji ? { emoji } : {};\r\n\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/messages/${messageId}/react`,\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify(requestBody),\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (!result.success) {\r\n        throw new Error(result.message || \"Failed to react to message\");\r\n      }\r\n      // Socket listeners will handle the update\r\n    } catch (error) {\r\n      console.error(\"Failed to react to message:\", error);\r\n      showNotification(\r\n        \"Failed to react to message. Please try again.\",\r\n        \"error\"\r\n      );\r\n    }\r\n  };\r\n\r\n  // Handle conversation deletion - always use soft delete for regular users\r\n  const handleDeleteConversation = async (\r\n    conversationId,\r\n    deleteType = \"forMe\"\r\n  ) => {\r\n    try {\r\n      // For regular users, always use soft delete (hide conversation)\r\n      // Only admins can permanently delete groups/broadcasts\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/conversations/${conversationId}/delete`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // Remove from local state when user deletes\r\n        updateConversations(\r\n          conversations.filter((conv) => conv._id !== conversationId)\r\n        );\r\n\r\n        // Clear messages for this conversation\r\n        setMessages((prev) => {\r\n          const updated = { ...prev };\r\n          delete updated[conversationId];\r\n          return updated;\r\n        });\r\n\r\n        // Clear active chat if it's the deleted conversation\r\n        if (activeChat?._id === conversationId) {\r\n          setActiveChat(null);\r\n        }\r\n\r\n        showNotification(\"Conversation removed from your chat list. It will reappear when someone sends a new message.\", \"success\");\r\n      } else {\r\n        throw new Error(result.message || \"Failed to delete conversation\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to delete conversation:\", error);\r\n      showNotification(\r\n        error.message || \"Failed to delete conversation\",\r\n        \"error\"\r\n      );\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const fetchMessages = async (conversationId) => {\r\n    try {\r\n      console.log(` Fetching initial messages for conversation ${conversationId}`);\r\n      \r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/messages/${conversationId}?page=1&limit=50`\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      console.log(` Messages API response for ${conversationId}:`, result);\r\n      \r\n      if (result.success) {\r\n        const messages = result.data || result.messages || [];\r\n        console.log(` Fetched ${messages.length} messages for conversation ${conversationId}`);\r\n        console.log(` Messages:`, messages.map(m => ({ id: m._id, content: m.content, sender: m.sender?.name || m.sender?._id })));\r\n        \r\n        // Replace messages completely for this conversation\r\n        setMessages((prev) => {\r\n          const updated = {\r\n            ...prev,\r\n            [conversationId]: messages\r\n          };\r\n          console.log(` Updated messages state for ${conversationId}:`, updated[conversationId]?.length || 0, 'messages');\r\n          return updated;\r\n        });\r\n      } else {\r\n        console.error(` Failed to fetch messages:`, result.message);\r\n      }\r\n    } catch (error) {\r\n      console.error(` Error fetching messages for conversation ${conversationId}:`, error);\r\n    }\r\n  };\r\n\r\n  const loadMoreMessages = async (conversationId, requestedPage = 2) => {\r\n    try {\r\n      console.log(\r\n        `Loading messages for conversation ${conversationId}, page ${requestedPage}`\r\n      );\r\n\r\n      const page = requestedPage;\r\n\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/messages/${conversationId}?page=${page}&limit=20`\r\n      );\r\n\r\n      if (!response.ok) {\r\n        console.error(`HTTP Error: ${response.status} ${response.statusText}`);\r\n        return 0;\r\n      }\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // Handle both possible response formats\r\n        const messages = result.data || result.messages || [];\r\n\r\n        console.log(`Loaded ${messages.length} messages for page ${page}`);\r\n\r\n        if (messages.length > 0) {\r\n          setMessages((prev) => {\r\n            const existingMessages = prev[conversationId] || [];\r\n\r\n            // If it's page 1 or existing messages are empty, replace completely\r\n            if (page === 1 || existingMessages.length === 0) {\r\n              console.log(\r\n                `Replacing messages for conversation ${conversationId}`\r\n              );\r\n              return {\r\n                ...prev,\r\n                [conversationId]: messages,\r\n              };\r\n            }\r\n\r\n            // Otherwise, prepend new messages (older messages at the beginning)\r\n            console.log(\r\n              `Prepending ${messages.length} messages to conversation ${conversationId}`\r\n            );\r\n            return {\r\n              ...prev,\r\n              [conversationId]: [...messages, ...existingMessages],\r\n            };\r\n          });\r\n\r\n          return messages.length;\r\n        } else {\r\n          console.log(`No messages returned for page ${page}`);\r\n          return 0;\r\n        }\r\n      } else {\r\n        console.error(\"API returned success: false\", result.message);\r\n        return 0;\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to load more messages:\", error);\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  const handleAddParticipant = async (\r\n    conversationId,\r\n    userId,\r\n    role = \"member\"\r\n  ) => {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/conversations/${conversationId}/participants`,\r\n        {\r\n          method: \"POST\",\r\n          body: JSON.stringify({ userId, role }),\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // Update conversation in state immediately\r\n        updateConversations(\r\n          conversations.map((conv) =>\r\n            conv._id === conversationId ? result.data : conv\r\n          )\r\n        );\r\n\r\n        // Update active chat if it matches\r\n        if (activeChat?._id === conversationId) {\r\n          setActiveChat(result.data);\r\n        }\r\n\r\n        showNotification(\"Participant added successfully\", \"success\");\r\n      } else {\r\n        throw new Error(result.message || \"Failed to add participant\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to add participant:\", error);\r\n      showNotification(\"Failed to add participant. Please try again.\", \"error\");\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleRemoveParticipant = async (conversationId, participantId) => {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/conversations/${conversationId}/participants/${participantId}`,\r\n        {\r\n          method: \"DELETE\",\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // Update conversation in state immediately\r\n        updateConversations(\r\n          conversations.map((conv) =>\r\n            conv._id === conversationId ? result.data : conv\r\n          )\r\n        );\r\n\r\n        // Update active chat if it matches\r\n        if (activeChat?._id === conversationId) {\r\n          setActiveChat(result.data);\r\n        }\r\n\r\n        // If current user was removed, handle it specially\r\n        if (participantId === currentUser._id) {\r\n          // Remove from conversations list\r\n          updateConversations(\r\n            conversations.filter((conv) => conv._id !== conversationId)\r\n          );\r\n\r\n          // Clear messages for this conversation\r\n          setMessages((prev) => {\r\n            const updated = { ...prev };\r\n            delete updated[conversationId];\r\n            return updated;\r\n          });\r\n\r\n          // Clear active chat if it's the removed conversation\r\n          if (activeChat?._id === conversationId) {\r\n            setActiveChat(null);\r\n          }\r\n\r\n          showNotification(\"You were removed from the conversation\", \"info\");\r\n        } else {\r\n          showNotification(\"Participant removed successfully\", \"success\");\r\n        }\r\n      } else {\r\n        throw new Error(result.message || \"Failed to remove participant\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to remove participant:\", error);\r\n      showNotification(\r\n        \"Failed to remove participant. Please try again.\",\r\n        \"error\"\r\n      );\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleCreateConversation = async (\r\n    participantIds,\r\n    conversationName = null,\r\n    conversationType = \"group\",\r\n    options = {}\r\n  ) => {\r\n    try {\r\n      setIsLoading(true);\r\n\r\n      const requestBody = {\r\n        participants: participantIds,\r\n        name: conversationName,\r\n        type: conversationType,\r\n      };\r\n\r\n      // Add additional options for enhanced conversation types\r\n      if (options.description) {\r\n        requestBody.description = options.description;\r\n      }\r\n\r\n      if (options.avatar) {\r\n        requestBody.avatar = options.avatar;\r\n      }\r\n\r\n      // Handle admin assignments for groups and broadcast channels\r\n      if (options.admins && options.admins.length > 0) {\r\n        requestBody.admins = options.admins;\r\n      }\r\n\r\n      // Mark as broadcast if specified\r\n      if (options.isBroadcast || conversationType === \"broadcast\") {\r\n        requestBody.isBroadcast = true;\r\n      }\r\n\r\n      const response = await sessionManager.authenticatedRequest(\r\n        \"/conversations\",\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(requestBody),\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        const newConversation = { ...result.data, unreadCount: 0 };\r\n\r\n        // Add to conversations list (at the beginning for newest first)\r\n        updateConversations([newConversation, ...conversations]);\r\n\r\n        // Initialize empty messages for the new conversation\r\n        setMessages((prev) => ({\r\n          ...prev,\r\n          [result.data._id]: [],\r\n        }));\r\n\r\n        // Set as active chat\r\n        setActiveChat(newConversation);\r\n\r\n        // Join the new conversation room\r\n        socketService.joinConversation(result.data._id);\r\n\r\n        console.log(\r\n          ` ${\r\n            conversationType === \"broadcast\"\r\n              ? \"Broadcast Channel\"\r\n              : conversationType === \"group\"\r\n              ? \"Group\"\r\n              : \"Conversation\"\r\n          } created:`,\r\n          result.data._id\r\n        );\r\n\r\n        showNotification(\r\n          `${\r\n            conversationType === \"broadcast\"\r\n              ? \"Broadcast Channel\"\r\n              : conversationType === \"group\"\r\n              ? \"Group\"\r\n              : \"Conversation\"\r\n          } \"${conversationName || \"Chat\"}\" created successfully!`,\r\n          \"success\"\r\n        );\r\n      } else {\r\n        throw new Error(\r\n          result.message || `Failed to create ${conversationType}`\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(`Failed to create ${conversationType}:`, error);\r\n      showNotification(\r\n        `Failed to create ${\r\n          conversationType === \"broadcast\"\r\n            ? \"broadcast channel\"\r\n            : conversationType\r\n        }. Please try again.`,\r\n        \"error\"\r\n      );\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleConversationUpdate = async (conversationId, updateData) => {\r\n    try {\r\n      // Update user interaction timestamp\r\n      window.lastUserInteraction = Date.now();\r\n\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/conversations/${conversationId}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(updateData),\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // Update conversation in state immediately\r\n        updateConversations(\r\n          conversations.map((conv) =>\r\n            conv._id === conversationId ? result.data : conv\r\n          )\r\n        );\r\n\r\n        // Update active chat if it matches\r\n        if (activeChat?._id === conversationId) {\r\n          setActiveChat(result.data);\r\n        }\r\n\r\n        showNotification(\"Conversation updated successfully\", \"success\");\r\n        return result.data;\r\n      } else {\r\n        throw new Error(result.message || \"Failed to update conversation\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to update conversation:\", error);\r\n      showNotification(\r\n        error.message || \"Failed to update conversation. Please try again.\",\r\n        \"error\"\r\n      );\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleCreateDirectConversation = async (userId) => {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/users/${userId}/conversation`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        const existingConv = conversations.find(\r\n          (conv) => conv._id === result.conversation._id\r\n        );\r\n        if (!existingConv) {\r\n          const newConversation = { ...result.conversation, unreadCount: 0 };\r\n          updateConversations([newConversation, ...conversations]);\r\n          setMessages((prev) => ({\r\n            ...prev,\r\n            [result.conversation._id]: [],\r\n          }));\r\n\r\n          // Join the new conversation room\r\n          socketService.joinConversation(result.conversation._id);\r\n        }\r\n        setActiveChat(result.conversation);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to create direct conversation:\", error);\r\n      showNotification(\r\n        \"Failed to create conversation. Please try again.\",\r\n        \"error\"\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleAddAdmin = async (conversationId, userId) => {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/conversations/${conversationId}/admins`,\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({ userId }),\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // Update conversation in state immediately with full conversation data\r\n        updateConversations(\r\n          conversations.map((conv) =>\r\n            conv._id === conversationId ? result.data : conv\r\n          )\r\n        );\r\n\r\n        // Update active chat if it matches\r\n        if (activeChat?._id === conversationId) {\r\n          setActiveChat(result.data);\r\n        }\r\n\r\n        // Removed admin added success notification\r\n      } else {\r\n        throw new Error(result.message || \"Failed to add admin\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to add admin:\", error);\r\n      // Removed admin add error notification\r\n    }\r\n  };\r\n\r\n  const handleRemoveAdmin = async (conversationId, userId) => {\r\n    try {\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/conversations/${conversationId}/admins/${userId}`,\r\n        {\r\n          method: \"DELETE\",\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // Update conversation in state immediately with full conversation data\r\n        updateConversations(\r\n          conversations.map((conv) =>\r\n            conv._id === conversationId ? result.data : conv\r\n          )\r\n        );\r\n\r\n        // Update active chat if it matches\r\n        if (activeChat?._id === conversationId) {\r\n          setActiveChat(result.data);\r\n        }\r\n\r\n        // Removed admin removed success notification\r\n      } else {\r\n        throw new Error(result.message || \"Failed to remove admin\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to remove admin:\", error);\r\n      // Removed admin remove error notification\r\n    }\r\n  };\r\n\r\n  // Add these handlers in ChatApp.js around line 400-500\r\n\r\n  const handleClearChat = async (conversationId) => {\r\n    try {\r\n      window.lastUserInteraction = Date.now();\r\n\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/conversations/${conversationId}/clear`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // Clear messages for this conversation in local state\r\n        setMessages((prev) => ({\r\n          ...prev,\r\n          [conversationId]: [], // Set to empty array\r\n        }));\r\n\r\n        // Update conversation's last message to null\r\n        updateConversations(\r\n          conversations.map((conv) =>\r\n            conv._id === conversationId\r\n              ? {\r\n                  ...conv,\r\n                  lastMessage: null,\r\n                  updatedAt: new Date().toISOString(),\r\n                }\r\n              : conv\r\n          )\r\n        );\r\n\r\n        showNotification(\"Chat cleared successfully for you\", \"success\");\r\n      } else {\r\n        throw new Error(result.message || \"Failed to clear chat\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to clear chat:\", error);\r\n      showNotification(\r\n        error.message || \"Failed to clear chat. Please try again.\",\r\n        \"error\"\r\n      );\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleHideChat = async (conversationId) => {\r\n    try {\r\n      window.lastUserInteraction = Date.now();\r\n\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/conversations/${conversationId}/hide`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // Hide conversation from the sidebar\r\n        updateConversations(prevConversations => \r\n          prevConversations.filter(conv => conv._id !== conversationId)\r\n        );\r\n        \r\n        // Clear active chat if it's the hidden conversation\r\n        if (activeChat?._id === conversationId) {\r\n          setActiveChat(null);\r\n        }\r\n        \r\n        showNotification(\"Conversation hidden. It will reappear when someone sends a new message.\", \"success\");\r\n      } else {\r\n        throw new Error(result.message || \"Failed to hide conversation\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to hide conversation:\", error);\r\n      showNotification(\r\n        error.message || \"Failed to hide conversation. Please try again.\",\r\n        \"error\"\r\n      );\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleDeleteChat = async (conversationId) => {\r\n    try {\r\n      window.lastUserInteraction = Date.now();\r\n\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/conversations/${conversationId}/delete`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // Clear messages for this conversation in the frontend state\r\n        setMessages(prev => ({\r\n          ...prev,\r\n          [conversationId]: []\r\n        }));\r\n        \r\n        // Hide conversation from sidebar\r\n        updateConversations(prevConversations => \r\n          prevConversations.filter(conv => conv._id !== conversationId)\r\n        );\r\n        \r\n        // Clear active chat if it's the deleted conversation\r\n        if (activeChat?._id === conversationId) {\r\n          setActiveChat(null);\r\n        }\r\n        \r\n        showNotification(\"Conversation deleted successfully. It will reappear when someone sends a new message.\", \"success\");\r\n      } else {\r\n        throw new Error(result.message || \"Failed to delete conversation\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to delete conversation:\", error);\r\n      showNotification(\r\n        error.message || \"Failed to delete conversation. Please try again.\",\r\n        \"error\"\r\n      );\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleBlockUser = async (userId) => {\r\n    try {\r\n      // Update user interaction timestamp\r\n      window.lastUserInteraction = Date.now();\r\n\r\n      console.log(\"ChatApp: handleBlockUser called for userId:\", userId);\r\n\r\n      // First get the current block status from backend\r\n      const statusResponse = await sessionManager.authenticatedRequest(\r\n        `/users/${userId}/block-status`\r\n      );\r\n\r\n      let isCurrentlyBlocked = false;\r\n      if (statusResponse.ok) {\r\n        const statusData = await statusResponse.json();\r\n        isCurrentlyBlocked = statusData.isBlocked; // Current user has blocked the target user\r\n        console.log(\"Current block status from server:\", statusData);\r\n      } else {\r\n        console.error(\"Failed to get block status:\", statusResponse.status);\r\n        // Fallback: check local user data\r\n        isCurrentlyBlocked =\r\n          currentUser?.blockedUsers?.includes(userId) || false;\r\n      }\r\n\r\n      // Determine the correct endpoint\r\n      const endpoint = isCurrentlyBlocked ? \"unblock\" : \"block\";\r\n      console.log(\r\n        `Calling ${endpoint} for user ${userId}, currently blocked: ${isCurrentlyBlocked}`\r\n      );\r\n\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/users/${userId}/${endpoint}`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // Update current user's blocked list in context\r\n        setCurrentUser((prev) => {\r\n          const newBlockedUsers = isCurrentlyBlocked\r\n            ? (prev.blockedUsers || []).filter((id) => id !== userId)\r\n            : [...(prev.blockedUsers || []), userId];\r\n\r\n          console.log(\"Updated current user blocked list:\", newBlockedUsers);\r\n\r\n          return {\r\n            ...prev,\r\n            blockedUsers: newBlockedUsers,\r\n          };\r\n        });\r\n\r\n        // Update conversations to reflect blocked status\r\n        updateConversations(\r\n          conversations.map((conv) => {\r\n            if (conv.type === \"direct\") {\r\n              const otherParticipant = conv.participants.find(\r\n                (p) => p.user._id === userId\r\n              );\r\n              if (otherParticipant) {\r\n                return {\r\n                  ...conv,\r\n                  participants: conv.participants.map((p) =>\r\n                    p.user._id === userId\r\n                      ? {\r\n                          ...p,\r\n                          user: {\r\n                            ...p.user,\r\n                            isBlockedByCurrentUser: !isCurrentlyBlocked, // Toggle the status\r\n                          },\r\n                        }\r\n                      : p\r\n                  ),\r\n                };\r\n              }\r\n            }\r\n            return conv;\r\n          })\r\n        );\r\n\r\n        const action =\r\n          result.isBlocked !== undefined\r\n            ? result.isBlocked\r\n              ? \"blocked\"\r\n              : \"unblocked\"\r\n            : isCurrentlyBlocked\r\n            ? \"unblocked\"\r\n            : \"blocked\";\r\n\r\n        // Removed block/unblock success notification\r\n\r\n        return result;\r\n      } else {\r\n        throw new Error(result.message || \"Failed to block/unblock user\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to block/unblock user:\", error);\r\n      showNotification(\r\n        error.message || \"Failed to block/unblock user. Please try again.\",\r\n        \"error\"\r\n      );\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleLeaveConversation = async (conversationId) => {\r\n    try {\r\n      // Update user interaction timestamp\r\n      window.lastUserInteraction = Date.now();\r\n\r\n      const response = await sessionManager.authenticatedRequest(\r\n        `/conversations/${conversationId}/leave`,\r\n        {\r\n          method: \"POST\",\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        // Remove conversation from local state\r\n        updateConversations(\r\n          conversations.filter((conv) => conv._id !== conversationId)\r\n        );\r\n\r\n        // Clear messages for this conversation\r\n        setMessages((prev) => {\r\n          const updated = { ...prev };\r\n          delete updated[conversationId];\r\n          return updated;\r\n        });\r\n\r\n        // Clear active chat if it's the conversation we left\r\n        if (activeChat?._id === conversationId) {\r\n          setActiveChat(null);\r\n        }\r\n\r\n        // Show different messages based on result\r\n        if (result.conversationDeleted) {\r\n          showNotification(\"Conversation deleted (no members left)\", \"info\");\r\n        } else if (result.adminTransferred) {\r\n          showNotification(\r\n            `Left conversation successfully. ${result.newAdmin?.name} is now the administrator.`,\r\n            \"success\"\r\n          );\r\n        } else {\r\n          showNotification(\"Left conversation successfully\", \"success\");\r\n        }\r\n      } else {\r\n        throw new Error(result.message || \"Failed to leave conversation\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to leave conversation:\", error);\r\n      showNotification(\r\n        error.message || \"Failed to leave conversation. Please try again.\",\r\n        \"error\"\r\n      );\r\n      throw error;\r\n    }\r\n  };\r\n  const handleUpdateUserStatus = async (status) => {\r\n    try {\r\n      // Send via Socket.IO for real-time updates\r\n      socketService.updateUserStatus(status);\r\n\r\n      // Also send via HTTP for persistence\r\n      const response = await sessionManager.authenticatedRequest(\r\n        \"/users/status\",\r\n        {\r\n          method: \"PUT\",\r\n          body: JSON.stringify({ status }),\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        setCurrentUser((prev) => ({ ...prev, status }));\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to update status:\", error);\r\n      showNotification(\"Failed to update status. Please try again.\", \"error\");\r\n    }\r\n  };\r\n\r\n  // Handle typing indicators\r\n  const handleTypingStart = (conversationId) => {\r\n    if (conversationId) {\r\n      // Update user interaction timestamp\r\n      window.lastUserInteraction = Date.now();\r\n      socketService.startTyping(conversationId);\r\n    }\r\n  };\r\n\r\n  const handleTypingStop = (conversationId) => {\r\n    if (conversationId) {\r\n      socketService.stopTyping(conversationId);\r\n    }\r\n  };\r\n\r\n  // Show loading screen while checking authentication\r\n  if (isLoading) {\r\n    return (\r\n      <div\r\n        className={`min-h-screen flex items-center justify-center ${\r\n          isDark ? \"bg-gray-900 text-white\" : \"bg-gray-50\"\r\n        }`}\r\n      >\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\r\n          <p className=\"text-lg\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Show login form\r\n  if (showLogin) {\r\n    return (\r\n      <div>\r\n        {error && (\r\n          <div className=\"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-100 border border-red-300 text-red-700 px-4 py-2 rounded-lg\">\r\n            {error}\r\n            <button\r\n              onClick={clearError}\r\n              className=\"ml-2 text-red-500 hover:text-red-700\"\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Single Top-Centered Green Popup */}\r\n        {popupAlert.show && (\r\n          <div className=\"fixed top-4 left-1/2 transform -translate-x-1/2 z-[9999] max-w-md mx-4\">\r\n            <div className=\"bg-green-50 border-l-4 border-green-400 p-6 rounded-lg shadow-2xl\">\r\n              <div className=\"flex items-start\">\r\n                <div className=\"flex-shrink-0\">\r\n                  <CheckCircle className=\"h-6 w-6 text-green-500\" />\r\n                </div>\r\n                <div className=\"ml-3 flex-1\">\r\n                  <p className=\"text-sm text-green-800 font-medium\">\r\n                    {popupAlert.message}\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  onClick={() => setPopupAlert({ show: false, message: \"\" })}\r\n                  className=\"ml-3 flex-shrink-0 text-green-500 hover:text-green-700 bg-green-100 hover:bg-green-200 rounded-full w-6 h-6 flex items-center justify-center\"\r\n                >\r\n                  <span className=\"text-sm font-bold leading-none\"></span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <LoginForm\r\n          onLogin={handleLogin}\r\n          isDark={isDark}\r\n          setIsDark={setIsDark}\r\n          showVerificationAlert={showVerificationAlert}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Show main chat application\r\n  return (\r\n    <div>\r\n      {notification && notification.message !== \"\" && (\r\n        <div\r\n          className={`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 px-4 py-2 rounded-lg shadow-lg transition-all ${\r\n            notification.type === \"success\"\r\n              ? \"bg-green-100 border border-green-300 text-green-700\"\r\n              : \"bg-red-100 border border-red-300 text-red-700\"\r\n          }`}\r\n        >\r\n          <div className=\"flex items-center space-x-2\">\r\n            <span>{notification.message}</span>\r\n            <button\r\n              onClick={() => setNotification(null)}\r\n              className=\"ml-2 text-current hover:opacity-70\"\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Message Notification Bubbles */}\r\n      <NotificationBubble\r\n        notifications={messageNotifications}\r\n        onNotificationClick={handleNotificationClick}\r\n        onDismiss={dismissNotification}\r\n        isDark={isDark}\r\n      />\r\n\r\n      <ChatLayout\r\n        messages={messages}\r\n        setMessages={setMessages}\r\n        messageStatuses={messageStatuses}\r\n        typingUsers={typingUsers}\r\n        setTypingUsers={setTypingUsers}\r\n        onLogout={handleLogout}\r\n        onSendMessage={handleSendMessageWrapper}\r\n        onCreateConversation={handleCreateConversation}\r\n        onCreateDirectConversation={handleCreateDirectConversation}\r\n        onEditMessage={handleEditMessage}\r\n        onDeleteMessage={handleDeleteMessage}\r\n        onReactToMessage={handleReactToMessage}\r\n        onDeleteConversation={handleDeleteConversation}\r\n        onSendFile={handleSendFileMessage}\r\n        onLoadMoreMessages={loadMoreMessages}\r\n        onUpdateUserStatus={handleUpdateUserStatus}\r\n        onTypingStart={handleTypingStart}\r\n        onTypingStop={handleTypingStop}\r\n        onConversationViewed={handleConversationViewed}\r\n        onAddAdmin={handleAddAdmin}\r\n        onRemoveAdmin={handleRemoveAdmin}\r\n        onAddParticipant={handleAddParticipant}\r\n        onRemoveParticipant={handleRemoveParticipant}\r\n        onUpdateConversation={handleConversationUpdate}\r\n        onClearChat={handleClearChat}\r\n        onHideChat={handleHideChat}\r\n        onDeleteChat={handleDeleteChat}\r\n        onBlockUser={handleBlockUser}\r\n        onLeaveConversation={handleLeaveConversation}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatApp;\r\n","import React from \"react\";\nimport { UserProvider } from \"./contexts/UserContext\";\nimport ChatApp from \"./components/ChatApp\";\nimport \"./index.css\";\n\n// Main App component - now just provides context\nconst App = () => {\n  return (\n    <UserProvider>\n      <ChatApp />\n    </UserProvider>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"names":["Scheduler","require","React","ReactDOM","formatProdErrorMessage","code","url","arguments","length","encodeURIComponent","i","isValidContainer","node","nodeType","getNearestMountedFiber","fiber","nearestMounted","alternate","return","flags","tag","getSuspenseInstanceFromFiber","suspenseState","memoizedState","dehydrated","assertIsMounted","Error","findCurrentHostFiberImpl","child","sibling","assign","Object","REACT_LEGACY_ELEMENT_TYPE","Symbol","for","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONSUMER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_ACTIVITY_TYPE","REACT_MEMO_CACHE_SENTINEL","MAYBE_ITERATOR_SYMBOL","iterator","getIteratorFn","maybeIterable","REACT_CLIENT_REFERENCE","getComponentNameFromType","type","$$typeof","displayName","name","_context","innerType","render","_payload","_init","x","isArrayImpl","Array","isArray","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","ReactDOMSharedInternals","__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","sharedNotPendingObject","pending","data","method","action","valueStack","index","createCursor","defaultValue","current","pop","cursor","push","value","contextStackCursor","contextFiberStackCursor","rootInstanceStackCursor","hostTransitionProviderCursor","pushHostContainer","nextRootInstance","documentElement","namespaceURI","getOwnHostContext","tagName","getChildHostContextProd","popHostContainer","pushHostContext","context","JSCompiler_inline_result","popHostContext","HostTransitionContext","_currentValue","hasOwnProperty","prototype","scheduleCallback$3","unstable_scheduleCallback","cancelCallback$1","unstable_cancelCallback","shouldYield","unstable_shouldYield","requestPaint","unstable_requestPaint","now","unstable_now","getCurrentPriorityLevel","unstable_getCurrentPriorityLevel","ImmediatePriority","unstable_ImmediatePriority","UserBlockingPriority","unstable_UserBlockingPriority","NormalPriority$1","unstable_NormalPriority","LowPriority","unstable_LowPriority","IdlePriority","unstable_IdlePriority","log$1","log","unstable_setDisableYieldValue","rendererID","injectedHook","setIsStrictModeForDevtools","newIsStrictMode","setStrictMode","err","clz32","Math","LN2","nextTransitionLane","nextRetryLane","getHighestPriorityLanes","lanes","pendingSyncLanes","getNextLanes","root","wipLanes","rootHasPendingCommit","pendingLanes","nextLanes","suspendedLanes","pingedLanes","warmLanes","nonIdlePendingLanes","checkIfRootIsPrerendering","renderLanes","computeExpirationTime","lane","currentTime","claimNextTransitionLane","claimNextRetryLane","createLaneMap","initial","laneMap","markRootUpdated$1","updateLane","markSpawnedDeferredLane","spawnedLane","entangledLanes","spawnedLaneIndex","entanglements","markRootEntangled","rootEntangledLanes","index$6","getBumpedLaneForHydrationByLane","lanesToEventPriority","resolveUpdatePriority","updatePriority","p","window","event","getEventPriority","randomKey","random","toString","slice","internalInstanceKey","internalPropsKey","internalContainerInstanceKey","internalEventHandlersKey","internalEventHandlerListenersKey","internalEventHandlesSetKey","internalRootNodeResourcesKey","internalHoistableMarker","detachDeletedInstance","getClosestInstanceFromNode","targetNode","targetInst","parentNode","getParentSuspenseInstance","getInstanceFromNode","getNodeFromInstance","inst","stateNode","getResourcesFromRoot","resources","hoistableStyles","Map","hoistableScripts","markNodeAsHoistable","allNativeEvents","Set","registrationNameDependencies","registerTwoPhaseEvent","registrationName","dependencies","registerDirectEvent","add","prefix","suffix","VALID_ATTRIBUTE_NAME_REGEX","RegExp","illegalAttributeNameCache","validatedAttributeNameCache","setValueForAttribute","attributeName","call","test","removeAttribute","prefix$8","toLowerCase","setAttribute","setValueForKnownAttribute","setValueForNamespacedAttribute","namespace","setAttributeNS","describeBuiltInComponentFrame","match","stack","trim","indexOf","reentry","describeNativeComponentFrame","fn","construct","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","Fake","defineProperty","set","Reflect","control","x$9","x$10","catch","sample","namePropDescriptor","getOwnPropertyDescriptor","configurable","_RunInRootFrame$Deter","sampleStack","controlStack","sampleLines","split","controlLines","includes","frame","replace","describeFiber","getStackByFiberInDevAndProd","workInProgress","info","message","getToStringValue","isCheckable","elem","nodeName","track","_valueTracker","valueField","descriptor","constructor","currentValue","get","this","enumerable","getValue","setValue","stopTracking","trackValueOnNode","updateValueIfChanged","tracker","lastValue","checked","getActiveElement","doc","document","activeElement","body","e","escapeSelectorAttributeValueInsideDoubleQuotesRegex","escapeSelectorAttributeValueInsideDoubleQuotes","ch","charCodeAt","updateInput","element","lastDefaultValue","defaultChecked","setDefaultValue","initInput","isHydrating","ownerDocument","updateOptions","multiple","propValue","setDefaultSelected","options","selected","defaultSelected","disabled","updateTextarea","initTextarea","children","textContent","setTextContent","text","firstChild","lastChild","nodeValue","unitlessNumbers","setValueForStyle","style","styleName","isCustomProperty","setProperty","cssFloat","has","setValueForStyles","styles","prevStyles","styleName$16","styleName$17","isCustomElement","aliases","isJavaScriptProtocol","sanitizeURL","currentReplayingEvent","getEventTarget","nativeEvent","target","srcElement","correspondingUseElement","restoreTarget","restoreQueue","restoreStateOfTarget","internalInstance","props","a","querySelectorAll","otherNode","form","otherProps","isInsideEventHandler","batchedUpdates$1","b","flushSyncWork$1","getListener","canUseDOM","createElement","passiveBrowserEventsSupported","addEventListener","removeEventListener","startText","fallbackText","getData","start","end","startValue","startLength","endValue","endLength","minEnd","getEventCharCode","keyCode","charCode","functionThatReturnsTrue","functionThatReturnsFalse","createSyntheticEvent","Interface","SyntheticBaseEvent","reactName","reactEventType","nativeEventTarget","propName","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","stopPropagation","cancelBubble","persist","isPersistent","lastMovementX","lastMovementY","lastMouseEvent","EventInterface","eventPhase","bubbles","cancelable","timeStamp","Date","isTrusted","SyntheticEvent","UIEventInterface","view","detail","SyntheticUIEvent","MouseEventInterface","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","getEventModifierState","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","SyntheticMouseEvent","SyntheticDragEvent","dataTransfer","SyntheticFocusEvent","SyntheticAnimationEvent","animationName","elapsedTime","pseudoElement","SyntheticClipboardEvent","clipboardData","SyntheticCompositionEvent","normalizeKey","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","translateToKey","modifierKeyToProp","Alt","Control","Meta","Shift","modifierStateGetter","keyArg","SyntheticKeyboardEvent","key","String","fromCharCode","location","repeat","locale","which","SyntheticPointerEvent","pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","SyntheticTouchEvent","touches","targetTouches","changedTouches","SyntheticTransitionEvent","propertyName","SyntheticWheelEvent","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","SyntheticToggleEvent","newState","oldState","END_KEYCODES","canUseCompositionEvent","documentMode","canUseTextInputEvent","useFallbackCompositionData","SPACEBAR_CHAR","hasSpaceKeypress","isFallbackCompositionEnd","domEventName","getDataFromCustomEvent","isComposing","supportedInputTypes","color","date","datetime","email","month","number","password","range","search","tel","time","week","isTextInputElement","createAndAccumulateChangeEvent","dispatchQueue","accumulateTwoPhaseListeners","listeners","activeElement$1","activeElementInst$1","runEventInBatch","processDispatchQueue","getInstIfValueChanged","getTargetInstForChangeEvent","isInputEventSupported","JSCompiler_inline_result$jscomp$282","isSupported$jscomp$inline_417","element$jscomp$inline_418","oninput","stopWatchingForValueChange","detachEvent","handlePropertyChange","handleEventsForInputEventPolyfill","attachEvent","getTargetInstForInputEventPolyfill","getTargetInstForClickEvent","getTargetInstForInputOrChangeEvent","objectIs","is","y","shallowEqual","objA","objB","keysA","keys","keysB","currentKey","getLeafNode","getNodeForCharacterOffset","offset","nodeEnd","nextSibling","containsNode","outerNode","innerNode","contains","compareDocumentPosition","getActiveElementDeep","containerInfo","defaultView","HTMLIFrameElement","contentWindow","href","hasSelectionCapabilities","contentEditable","skipSelectionChangeEvent","activeElementInst","lastSelection","mouseDown","constructSelectEvent","selectionStart","selectionEnd","anchorNode","getSelection","anchorOffset","focusNode","focusOffset","makePrefixMap","styleProp","eventName","prefixes","vendorPrefixes","animationend","animationiteration","animationstart","transitionrun","transitionstart","transitioncancel","transitionend","prefixedEventNames","getVendorPrefixedEventName","prefixMap","animation","transition","ANIMATION_END","ANIMATION_ITERATION","ANIMATION_START","TRANSITION_RUN","TRANSITION_START","TRANSITION_CANCEL","TRANSITION_END","topLevelEventsToReactNames","simpleEventPluginEvents","registerSimpleEvent","CapturedStacks","WeakMap","createCapturedValueAtFiber","source","existing","concurrentQueues","concurrentQueuesIndex","concurrentlyUpdatedLanes","finishQueueingConcurrentUpdates","endIndex","queue","update","next","markUpdateLaneFromFiberToRoot","enqueueUpdate$1","enqueueConcurrentHookUpdate","getRootForUpdatedFiber","enqueueConcurrentRenderForLane","sourceFiber","isHidden","parent","childLanes","_visibility","hiddenUpdates","nestedUpdateCount","rootWithNestedUpdates","emptyContextObject","FiberNode","pendingProps","mode","elementType","refCleanup","ref","updateQueue","memoizedProps","subtreeFlags","deletions","createFiberImplClass","shouldConstruct","Component","isReactComponent","createWorkInProgress","firstContext","resetWorkInProgress","createFiberFromTypeAndProps","owner","fiberTag","hostContext","itemProp","precedence","rel","onLoad","onError","async","src","isHostHoistableType","createFiberFromFragment","elements","createFiberFromText","content","createFiberFromPortal","portal","pendingChildren","implementation","forkStack","forkStackIndex","treeForkProvider","treeForkCount","idStack","idStackIndex","treeContextProvider","treeContextId","treeContextOverflow","pushTreeFork","totalChildren","pushTreeId","baseIdWithLeadingBit","baseLength","numberOfOverflowBits","pushMaterializedTreeId","popTreeContext","hydrationParentFiber","nextHydratableInstance","hydrationErrors","rootOrSingletonContext","HydrationMismatchException","throwOnHydrationMismatch","queueHydrationError","prepareToHydrateHostInstance","instance","listenToNonDelegatedEvent","mediaEventTypes","suppressHydrationWarning","checkForUnmatchedText","popover","onScroll","onScrollEnd","onClick","onclick","noop$1","popToNextHostParent","popHydrationState","JSCompiler_temp","shouldSetTextContent","getNextHydratable","isSingletonScope","previousHydratableOnEnteringScopedSingleton","resetHydrationState","upgradeHydrationErrorsToRecoverable","queuedErrors","workInProgressRootRecoverableErrors","apply","error","valueCursor","currentlyRenderingFiber$1","lastContextDependency","pushProvider","providerFiber","nextValue","popProvider","scheduleContextWorkOnParentPath","propagationRoot","propagateContextChanges","contexts","forcePropagateEntireTree","list","nextFiber","dependency","propagateParentContextChanges","isInsidePropagationBailout","currentParent","checkIfContextChanged","currentDependencies","memoizedValue","prepareToReadContext","readContext","readContextForConsumer","readContextDuringReconciliation","consumer","AbortControllerLocal","AbortController","signal","aborted","listener","abort","forEach","scheduleCallback$2","NormalPriority","CacheContext","Consumer","Provider","_currentValue2","_threadCount","createCache","controller","refCount","releaseCache","cache","currentEntangledListeners","currentEntangledPendingCount","currentEntangledLane","currentEntangledActionThenable","pingEngtangledActionScope","status","prevOnStartTransitionFinish","S","then","thenable","entangledListeners","requestTransitionLane","resolve","entangleAsyncAction","resumedCache","peekCacheFromPool","cacheResumedFromPreviousRender","workInProgressRoot","pooledCache","pushTransition","offscreenWorkInProgress","prevCachePool","pool","getSuspendedCache","cacheFromPool","SuspenseException","SuspenseyCommitException","SuspenseActionException","noopSuspenseyCommitThenable","isThenableResolved","noop$3","trackUsedThenable","thenableState","checkIfUseWrappedInAsyncCatch","reason","shellSuspendCounter","fulfilledValue","fulfilledThenable","rejectedThenable","suspendedThenable","getSuspendedThenable","rejectedReason","hasForceUpdate","initializeUpdateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","hiddenCallbacks","callbacks","cloneUpdateQueue","createUpdate","payload","callback","enqueueUpdate","executionContext","entangleTransitions","queueLanes","enqueueCapturedUpdate","capturedUpdate","newFirst","newLast","clone","didReadFromEntangledAsyncAction","suspendIfUpdateReadFromEntangledAsyncAction","processUpdateQueue","workInProgress$jscomp$0","instance$jscomp$0","pendingQueue","lastPendingUpdate","firstPendingUpdate","isHiddenUpdate","workInProgressRootRenderLanes","workInProgressRootSkippedLanes","callCallback","commitCallbacks","currentTreeHiddenStackCursor","prevEntangledRenderLanesCursor","pushHiddenContext","entangledRenderLanes","baseLanes","reuseHiddenContextOnStack","popHiddenContext","currentlyRenderingFiber","currentHook","workInProgressHook","didScheduleRenderPhaseUpdate","didScheduleRenderPhaseUpdateDuringThisPass","shouldDoubleInvokeUserFnsInHooksDEV","localIdCounter","thenableIndexCounter$1","thenableState$1","globalClientIdCounter","throwInvalidHookError","areHookInputsEqual","nextDeps","prevDeps","renderWithHooks","secondArg","nextRenderLanes","H","HooksDispatcherOnMount","HooksDispatcherOnUpdate","renderWithHooksAgain","finishRenderingHooks","ContextOnlyDispatcher","didRenderTooFewHooks","didReceiveUpdate","numberOfReRenders","lastEffect","events","stores","memoCache","HooksDispatcherOnRerender","TransitionAwareHostComponent","dispatcher","maybeThenable","useState","useThenable","checkDidRenderIdHook","didRenderIdHook","bailoutHooks","resetHooksOnUnwind","mountWorkInProgressHook","hook","baseQueue","updateWorkInProgressHook","nextCurrentHook","nextWorkInProgressHook","use","usable","useMemoCache","size","map","array","basicStateReducer","state","updateReducer","reducer","updateReducerImpl","lastRenderedReducer","baseFirst","newBaseQueueFirst","newBaseQueueLast","didReadFromEntangledAsyncAction$32","revertLane","hasEagerState","eagerState","lastRenderedState","dispatch","rerenderReducer","lastRenderPhaseUpdate","updateSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","isHydrating$jscomp$0","snapshotChanged","updateEffectImpl","subscribeToStore","bind","pushSimpleEffect","destroy","resource","updateStoreInstance","pushStoreConsistencyCheck","renderedSnapshot","nextSnapshot","checkIfSnapshotChanged","forceStoreRerender","latestGetSnapshot","scheduleUpdateOnFiber","mountStateImpl","initialState","initialStateInitializer","updateOptimisticImpl","passthrough","dispatchActionState","actionQueue","setPendingState","setState","isRenderPhaseUpdate","actionNode","isTransition","T","runActionStateAction","prevState","prevTransition","currentTransition","onStartTransitionFinish","handleActionReturnValue","onActionError","error$38","nextState","onActionSuccess","notifyActionListeners","last","actionStateReducer","mountActionState","initialStateProp","ssrFormState","formState","JSCompiler_inline_result$jscomp$0","inRootOrSingleton","dispatchSetState","dispatchOptimisticSetState","updateActionState","updateActionStateImpl","stateHook","currentStateHook","actionStateActionEffect","rerenderActionState","create","createDeps","deps","updateRef","mountEffectImpl","fiberFlags","hookFlags","mountEffect","updateEffect","updateInsertionEffect","updateLayoutEffect","imperativeHandleEffect","updateImperativeHandle","concat","mountDebugValue","updateCallback","updateMemo","nextCreate","mountDeferredValueImpl","initialValue","requestDeferredLane","updateDeferredValueImpl","prevValue","startTransition","pendingState","finishedState","previousPriority","dispatchSetStateInternal","result","thenableWithOverride","chainThenableValue","requestUpdateLane","noop$2","startHostTransition","formFiber","formData","ensureFormComponentIsStateful","requestFormReset$1","existingStateHook","initialResetState","useHostTransitionStatus","updateId","updateRefresh","refreshCache","provider","root$41","dispatchReducerAction","enqueueRenderPhaseUpdate","entangleTransitionUpdate","currentState","throwIfDuringRender","useCallback","useContext","useEffect","useImperativeHandle","useLayoutEffect","useInsertionEffect","useMemo","useReducer","useRef","useDebugValue","useDeferredValue","useTransition","useSyncExternalStore","useId","useFormState","useActionState","useOptimistic","useCacheRefresh","initialArg","init","identifierPrefix","booleanOrThenable","thenableIndexCounter","unwrapThenable","coerceRef","throwOnInvalidObjectType","returnFiber","newChild","join","resolveLazy","lazyType","createChildReconciler","shouldTrackSideEffects","deleteChild","childToDelete","deleteRemainingChildren","currentFirstChild","mapRemainingChildren","existingChildren","useFiber","placeChild","newFiber","lastPlacedIndex","newIndex","placeSingleChild","updateTextNode","updateElement","updateFragment","updatePortal","fragment","createChild","updateSlot","oldFiber","updateFromMap","newIdx","reconcileChildFibersImpl","newChildren","resultingFirstChild","previousNewFiber","nextOldFiber","delete","reconcileChildrenArray","step","done","reconcileChildrenIterator","firstChildFiber","reconcileChildFibers","mountChildFibers","suspenseHandlerStackCursor","shellBoundary","pushPrimaryTreeSuspenseHandler","handler","suspenseStackCursor","pushOffscreenSuspenseHandler","reuseSuspenseHandlerOnStack","popSuspenseHandler","findFirstSuspended","row","isSuspenseInstanceFallback","revealOrder","applyDerivedStateFromProps","ctor","getDerivedStateFromProps","nextProps","classComponentUpdater","enqueueSetState","_reactInternals","enqueueReplaceState","enqueueForceUpdate","checkShouldComponentUpdate","oldProps","newProps","nextContext","shouldComponentUpdate","isPureReactComponent","callComponentWillReceiveProps","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","resolveClassComponentProps","baseProps","defaultProps","propName$73","reportGlobalError","reportError","ErrorEvent","dispatchEvent","process","emit","console","defaultOnUncaughtError","defaultOnCaughtError","defaultOnRecoverableError","logUncaughtError","errorInfo","onUncaughtError","componentStack","e$74","setTimeout","logCaughtError","boundary","onCaughtError","errorBoundary","e$75","createRootErrorUpdate","createClassErrorUpdate","initializeClassErrorUpdate","getDerivedStateFromError","componentDidCatch","legacyErrorBoundariesThatAlreadyFailed","SelectiveHydrationException","reconcileChildren","nextChildren","updateForwardRef","propsWithoutRef","bailoutOnAlreadyFinishedWork","updateMemoComponent","compare","updateSimpleMemoComponent","checkScheduledUpdateOrContext","prevProps","updateFunctionComponent","updateOffscreenComponent","deferHiddenOffscreenComponent","cachePool","nextBaseLanes","markRef","replayFunctionComponent","updateClassComponent","contextType","updater","refs","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","unresolvedOldProps","oldContext","contextType$jscomp$0","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","mountHostRootWithoutHydrating","SUSPENDED_MARKER","treeContext","retryLane","mountSuspenseOffscreenState","getRemainingWorkInPrimaryTree","primaryTreeDidDefer","workInProgressDeferredLane","updateSuspenseComponent","showFallback","didSuspend","JSCompiler_temp$jscomp$0","nextInstance","c","id","overflow","fallback","mountWorkInProgressOffscreenFiber","mountSuspensePrimaryChildren","retrySuspenseComponentWithoutHydrating","dataset","digest","dgst","renderDidSuspendDelayIfPossible","primaryChildren","offscreenProps","_pendingMarkers","_retryCache","_transitions","scheduleSuspenseWorkOnFiber","initSuspenseListRenderState","isBackwards","tail","lastContentRow","tailMode","renderState","rendering","renderingStartTime","updateSuspenseListComponent","beginWork","didSuspendBefore","attemptEarlyBailoutIfNoScheduledUpdate","lazyComponent","isDehydrated","getResource","getOwnerDocumentFromRootContainer","setInitialProperties","resolveSingletonInstance","anyProps","hasAttribute","getAttribute","crossOrigin","title","canHydrateInstance","canHydrateTextInstance","pooledCacheLanes","markUpdate","preloadResourceAndSuspendIfNeeded","loading","preloadResource","scheduleRetryEffect","retryQueue","workInProgressSuspendedRetryLanes","cutOffTailIfNeeded","hasRenderedATailFallback","lastTailNode","lastTailNode$113","bubbleProperties","completedWork","didBailout","newChildLanes","child$114","completeWork","pendingContext","createElementNS","innerHTML","removeChild","appendChild","autoFocus","createTextNode","cache$127","listenToAllSupportedEvents","workInProgressRootExitStatus","workInProgressRootRenderTargetTime","unwindWork","unwindInterruptedWork","interruptedWork","commitHookEffectListMount","finishedWork","firstEffect","captureCommitPhaseError","commitHookEffectListUnmount","nearestMountedAncestor$jscomp$0","nearestMountedAncestor","destroy_","commitClassCallbacks","safelyCallComponentWillUnmount","componentWillUnmount","safelyAttachRef","instanceToUse","safelyDetachRef","error$143","commitHostMount","focus","srcSet","srcset","commitHostUpdate","domElement","lastProps","propKey","lastProp","setProp","propKey$205","propKey$221","propKey$226","propKey$231","setPropOnCustomElement","propKey$236","updateProperties","isHostParent","getHostSibling","insertOrAppendPlacementNodeIntoContainer","before","insertBefore","_reactRootContainer","insertOrAppendPlacementNode","commitHostSingletonAcquisition","singleton","attributes","removeAttributeNode","offscreenSubtreeIsHidden","offscreenSubtreeWasHidden","needsFormReset","PossiblyWeakSet","WeakSet","nextEffect","commitLayoutEffectOnFiber","finishedRoot","recursivelyTraverseLayoutEffects","__reactInternalSnapshotBeforeUpdate","error$142","commitSuspenseHydrationCallbacks","readyState","_reactRetry","registerSuspenseInstanceRetry","retryDehydratedSuspenseBoundary","prevOffscreenSubtreeWasHidden","recursivelyTraverseReappearLayoutEffects","detachFiberAfterEffects","hostParent","hostParentIsContainer","recursivelyTraverseDeletionEffects","commitDeletionEffectsOnFiber","deletedFiber","onCommitFiberUnmount","count","prevHostParent","prevHostParentIsContainer","releaseSingletonInstance","clearSuspenseBoundary","retryIfBlockedOn","attachSuspenseRetryListeners","wakeables","retryCache","getRetryCache","wakeable","retry","resolveRetryWakeable","recursivelyTraverseMutationEffects","root$jscomp$0","parentFiber","commitMutationEffectsOnFiber","currentHoistableRoot","commitReconciliationEffects","hoistableRoot","currentResource","getElementsByTagName","head","querySelector","maybeNodes","getHydratableHoistableCache","splice","property","httpEquiv","charSet","mountHoistable","acquireResource","tagCaches","getHoistableRoot","recursivelyResetForms","globalMostRecentFallbackTime","wasHidden","prevOffscreenSubtreeIsHidden","recursivelyTraverseDisappearLayoutEffects","display","hostParentFiber","parent$144","parent$146","reset","finishedRoot$jscomp$0","includeWorkInProgressEffects","commitOffscreenPassiveMountEffects","previousCache","commitCachePassiveMountEffect","recursivelyTraversePassiveMountEffects","committedLanes","committedTransitions","commitPassiveMountOnFiber","_finishedWork$memoize2","onPostCommit","passiveEffectDuration","recursivelyTraverseAtomicPassiveEffects","recursivelyTraverseReconnectPassiveEffects","committedLanes$jscomp$0","committedTransitions$jscomp$0","suspenseyCommitFlag","recursivelyAccumulateSuspenseyCommit","accumulateSuspenseyCommitOnFiber","suspendedState","media","matchMedia","matches","getStyleKey","getStylesheetSelectorFromKey","_p","onUnsuspend","stylesheetPropsFromRawProps","preloadPropsMap","adoptPreloadPropsForStylesheet","linkInstance","Promise","reject","onload","onerror","stylesheets","preload","suspendResource","previousHoistableRoot","detachAlternateSiblings","previousFiber","recursivelyTraversePassiveUnmountEffects","commitPassiveUnmountEffectsInsideOfDeletedTree_begin","commitPassiveUnmountOnFiber","recursivelyTraverseDisconnectPassiveEffects","deletedSubtreeRoot","DefaultAsyncDispatcher","getCacheForType","resourceType","cacheForType","PossiblyWeakMap","workInProgressSuspendedReason","workInProgressThrownValue","workInProgressRootDidSkipSuspendedSiblings","workInProgressRootIsPrerendering","workInProgressRootDidAttachPingListener","workInProgressRootInterleavedUpdatedLanes","workInProgressRootPingedLanes","workInProgressRootConcurrentErrors","workInProgressRootDidIncludeRecursiveRenderUpdate","Infinity","workInProgressTransitions","pendingEffectsStatus","pendingEffectsRoot","pendingFinishedWork","pendingEffectsLanes","pendingEffectsRemainingLanes","pendingPassiveTransitions","pendingRecoverableErrors","suspenseHandler","cancelPendingCommit","prepareFreshStack","markRootSuspended","ensureRootIsScheduled","performWorkOnRoot","forceSync","shouldTimeSlice","expiredLanes","exitStatus","prevExecutionContext","prevDispatcher","pushDispatcher","prevAsyncDispatcher","pushAsyncDispatcher","thrownValue","throwAndUnwindWorkLoop","replaySuspendedUnitOfWork","hostFiber","completeUnitOfWork","resetWorkInProgressStack","workLoopConcurrentByScheduler","thrownValue$169","handleThrow","A","renderRootConcurrent","renderRootSync","renderWasConcurrent","isRenderConsistentWithExternalStores","errorRecoveryDisabledLanes","wasRootDehydrated","timeoutHandle","scheduleTimeout","commitRootWhenReady","recoverableErrors","transitions","didIncludeRenderPhaseUpdate","updatedLanes","suspendedRetryLanes","didSkipSuspendedSiblings","suspendedCommitReason","completedRenderStartTime","completedRenderEndTime","unsuspend","noop","insertSuspendedStylesheets","commit","stylesheetTimer","clearTimeout","waitForCommitToBeReady","commitRoot","check","didAttemptEntireTree","expirationTimes","index$4","flushSyncWorkAcrossRoots_impl","cancelTimeout","allEntangledLanes","index$2","shouldYieldForPrerendering","unitOfWork","workLoopSync","thrownValue$167","performUnitOfWork","suspendedReason","rootRenderLanes","attachPingListener","markerInstances","cause","wrapperError","throwException","unwindUnitOfWork","skipSiblings","flushPendingEffects","finishedLanes","remainingLanes","previouslyPendingLanes","index$5","hiddenUpdatesForLane","markRootFinished","callbackNode","callbackPriority","flushPassiveEffects","eventsEnabled","_enabled","selection","rangeCount","e$20","indexWithinAnchor","indexWithinFocus","selectionInformation","focusedElem","selectionRange","resolvedPrevProps","clearContainerSparingly","commitBeforeMutationEffects","flushMutationEffects","flushLayoutEffects","flushSpawnedWork","rootMutationHasEffect","priorSelectionInformation","curFocusedElem","priorFocusedElem","priorSelectionRange","min","win","start$jscomp$0","end$jscomp$0","extend","startMarker","endMarker","createRange","setStart","removeAllRanges","addRange","setEnd","left","scrollLeft","top","scrollTop","rootHasLayoutEffect","releaseRootPooledCache","onCommitFiberRoot","onRecoverableError","recoverableError","wasDelayedCommit","renderPriority","onPostCommitFiberRoot","captureCommitPhaseErrorOnRoot","rootFiber","pingCache","threadIDs","pingSuspendedRoot","retryTimedOutBoundary","boundaryFiber","firstScheduledRoot","lastScheduledRoot","didScheduleMicrotask","mightHavePendingSyncWork","isFlushingWork","currentEventTransitionLane","scheduleMicrotask","processRootScheduleInImmediateTask","processRootScheduleInMicrotask","syncTransitionLanes","onlyLegacy","didPerformSomeWork","root$174","performSyncWorkOnRoot","currentPopstateTransitionEvent","shouldAttemptEagerTransition","prev","scheduleTaskForRootDuringMicrotask","index$3","expirationTime","performWorkOnRootViaSchedulerTask","didTimeout","originalCallbackNode","workInProgressRootRenderLanes$jscomp$0","coerceFormActionProp","actionProp","createFormDataWithSubmitter","submitter","temp","FormData","i$jscomp$inline_1528","eventName$jscomp$inline_1529","toUpperCase","nonDelegatedEvents","eventSystemFlags","_dispatchQueue$i","previousInstance","i$jscomp$0","_dispatchListeners$i","targetElement","listenerSetKey","addTrappedEventListener","listenToNativeEvent","isCapturePhaseListener","listeningMarker","rootContainerElement","targetContainer","listenerWrapper","dispatchDiscreteEvent","dispatchContinuousEvent","capture","passive","dispatchEventForPluginEventSystem","targetInst$jscomp$0","ancestorInst","nodeTag","container","grandTag","SyntheticEventCtor","inCapturePhase","accumulateTargetOnly","reactEventName","lastHostComponent","_instance","createDispatchListener","parentWindow","getParent","accumulateEnterLeaveListenersForEvent","getTargetInstFunc","handleEventFunc","fallbackData","eventType","getNativeBeforeInputChars","char","getFallbackBeforeInputChars","maybeTargetInst","formAction","extractEvents$1","targetFiber","captureName","_instance2","unshift","common","_instance3","NORMALIZE_NEWLINES_REGEX","NORMALIZE_NULL_AND_REPLACEMENT_REGEX","normalizeMarkupForTextOrAttribute","markup","serverText","clientText","formEncType","formMethod","formTarget","encType","__html","muted","isNaN","endsWith","hasSrc","hasSrcSet","propValue$188","parentNamespace","dangerouslySetInnerHTML","localPromise","queueMicrotask","handleErrorInNextTick","parentInstance","suspenseInstance","possiblePreambleContribution","depth","nextNode","nextNode$jscomp$0","targetInstance","previousSibling","rootContainerInstance","preconnectsSet","getRootNode","previousDispatcher","d","f","previousWasRendering","wasRendering","r","formInst","D","preconnectAs","C","L","as","globalDocument","preloadSelector","imageSrcSet","imageSizes","getScriptKey","getScriptSelectorFromKey","m","X","scripts","adoptPreloadPropsForScript","link","insertStylesheet","M","limitedEscapedHref","currentProps","preloadProps","styles$244","resource$245","integrity","hrefLang","referrerPolicy","rawProps","styleProps","instance$250","nodes","prior","stylesheetProps","scriptProps","keyAttribute","caches","nodeKey","precedencesByRoot","insertStylesheetIntoRoot","precedences","FiberRootNode","hydrate","incompleteTransitions","createFiberRoot","initialChildren","hydrationCallbacks","isStrictMode","transitionCallbacks","getContextForSubtree","parentComponent","updateContainerImpl","markRetryLaneImpl","markRetryLaneIfNotHydrated","attemptContinuousHydration","blockedOn","findInstanceBlockingEvent","return_targetInst","clearIfContinuousEvent","queuedFocus","accumulateOrCreateContinuousQueuedReplayableEvent","queuedDrag","queuedMouse","queuedPointers","queuedPointerCaptures","queueIfContinuousEvent","discreteReplayableEvents","findInstanceBlockingTarget","hasScheduledReplayAttempt","queuedExplicitHydrationTargets","existingQueuedEvent","targetContainers","attemptExplicitHydrationTarget","queuedTarget","priority","runWithPriority","attemptReplayContinuousQueuedEvent","queuedEvent","nextBlockedOn","nativeEventClone","shift","attemptReplayContinuousQueuedEventInMap","replayUnblockedEvents","scheduleCallbackIfUnblocked","unblocked","lastScheduledReplayQueue","scheduleReplayQueueIfNeeded","formReplayingQueue","submitterOrAction","unblock","$$reactFormReplay","formProps","ReactDOMRoot","internalRoot","_internalRoot","ReactDOMHydrationRoot","unmount","unstable_scheduleHydration","isomorphicReactPackageVersion$jscomp$inline_1785","version","findDOMNode","componentOrElement","parentA","parentB","didFindChild","child$0","findCurrentFiberUsingSlowPath","internals$jscomp$inline_2256","bundleType","rendererPackageName","currentDispatcherRef","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","hook$jscomp$inline_2257","isDisabled","supportsFiber","inject","exports","createRoot","unstable_strictMode","unstable_transitionCallbacks","hydrateRoot","module","ReactNoopUpdateQueue","isMounted","emptyObject","ComponentDummy","PureComponent","partialState","forceUpdate","pureComponentPrototype","V","ReactElement","self","isValidElement","object","userProvidedKeyEscapeRegex","getElementKey","escaperLookup","escape","mapIntoArray","escapedPrefix","nameSoFar","oldElement","newKey","invokeCallback","nextNamePrefix","resolveThenable","mapChildren","func","lazyInitializer","_status","_result","moduleObject","default","Children","forEachFunc","forEachContext","n","toArray","only","Fragment","Profiler","StrictMode","Suspense","__COMPILER_RUNTIME","__proto__","cloneElement","config","childArray","createContext","childrenLength","createRef","forwardRef","lazy","memo","scope","unstable_useCacheRefresh","permalink","Context","checkDCE","SessionManager","accessTokenKey","refreshTokenKey","userKey","currentUserTabKey","userSessionsKey","pendingVerificationKey","sessionExpiryMinutes","setupTokenRefresh","setupActivityTracking","startCleanupTimer","sendLoginVerificationCode","response","fetch","API_CONFIG","BASE_URL","headers","JSON","stringify","json","success","pendingData","timestamp","expiresAt","sessionStorage","setItem","verifyLoginCode","removeItem","setSession","user","accessToken","refreshToken","sendRegistrationVerificationCode","userData","_objectSpread","verifyRegistrationCode","getPendingVerification","phone","bio","sendPasswordResetCode","verifyPasswordResetCode","newPassword","resendVerificationCode","endpoint","getItem","parse","clearPendingVerification","getVerificationTimeRemaining","max","checkUserExists","exists","expiryMinutes","undefined","tabId","getOrCreateTabId","_id","sessions","getSessions","expiry","lastActive","localStorage","getCurrentSession","currentUserId","restoreSessionFromStorage","userId","clearCurrentSession","session","entries","updateAccessToken","newAccessToken","refreshAccessToken","authenticatedRequest","fullUrl","startsWith","baseUrl","path","requestConfig","_errorData$message","errorData","parseError","newSession","retryConfig","refreshError","handleAuthFailure","extendSession","additionalMinutes","logout","remainingSessions","logoutAll","substr","isSessionValid","userSession","getTimeUntilExpiry","setInterval","timeUntilExpiry","lastActivity","handleActivity","hasChanges","CustomEvent","pathname","getAvailableSessions","validSessions","_ref","switchToUser","_typeof","o","toPropertyKey","t","toPrimitive","TypeError","Number","_defineProperty","writable","ownKeys","getOwnPropertySymbols","filter","_objectSpread2","getOwnPropertyDescriptors","defineProperties","Internals","getCrossOriginStringAs","input","createPortal","createPortal$1","flushSync","previousTransition","previousUpdatePriority","preconnect","prefetchDNS","preinit","fetchPriority","nonce","preinitModule","preloadModule","requestFormReset","unstable_batchedUpdates","useFormStatus","jsxProd","maybeKey","jsx","jsxs","heap","parentIndex","peek","first","halfLength","leftIndex","rightIndex","right","diff","sortIndex","performance","localPerformance","localDate","initialTime","taskQueue","timerQueue","taskIdCounter","currentTask","currentPriorityLevel","isPerformingWork","isHostCallbackScheduled","isHostTimeoutScheduled","needsPaint","localSetTimeout","localClearTimeout","localSetImmediate","setImmediate","advanceTimers","timer","startTime","handleTimeout","isMessageLoopRunning","schedulePerformWorkUntilDeadline","firstTimer","requestHostTimeout","taskTimeoutID","frameInterval","shouldYieldToHost","performWorkUntilDeadline","hasMoreWork","previousPriorityLevel","priorityLevel","continuationCallback","MessageChannel","channel","port","port2","port1","onmessage","postMessage","ms","unstable_Profiling","task","unstable_forceFrameRate","fps","floor","unstable_next","eventHandler","unstable_runWithPriority","delay","timeout","unstable_wrapCallback","parentPriorityLevel","TIMEOUT","ENDPOINTS","AUTH","LOGIN","REGISTER","LOGOUT","LOGOUT_ALL","REFRESH","REFRESH_TOKEN","VERIFY_TOKEN","ME","PROFILE","CHANGE_PASSWORD","FORGOT_PASSWORD","RESET_PASSWORD","VERIFY_EMAIL","RESEND_VERIFICATION","CONVERSATIONS","LIST","CREATE","GET","UPDATE","DELETE","LEAVE","PARTICIPANTS","ADD_PARTICIPANT","REMOVE_PARTICIPANT","MESSAGES","conversationId","SEND","SEND_FILE","EDIT","REACT","UNREACT","PIN","UNPIN","REPORT","USERS","SEARCH","SEARCH_BY_EMAIL","ONLINE_STATUS","ONLINE_USERS","UPDATE_STATUS","CONTACTS","UPDATE_PROFILE","GET_PROFILE","CREATE_CONVERSATION","MUTUAL_CONVERSATIONS","BLOCK_USER","REPORT_USER","UPLOAD_AVATAR","PREFERENCES","SESSIONS","STATS","ACTIVITY","EXPORT_DATA","DELETE_ACCOUNT","BLOCKED_USERS","CHECK_EMAIL","BATCH_UPDATE","FILES","UPLOAD","DOWNLOAD","fileId","METADATA","ADMIN","REPORTS","ANALYTICS","SETTINGS","HEALTH","INFO","WEBSOCKET","URL","REACT_APP_WS_URL","RECONNECT_INTERVAL","MAX_RECONNECT_ATTEMPTS","MAX_SIZE","ALLOWED_TYPES","IMAGES","DOCUMENTS","AUDIO","VIDEO","AVATAR_MAX_SIZE","SESSION","DEFAULT_EXPIRY_MINUTES","REFRESH_THRESHOLD_MINUTES","ACTIVITY_EXTENSION_MINUTES","CLEANUP_INTERVAL_MS","MAX_SESSIONS_PER_USER","PAGINATION","DEFAULT_PAGE_SIZE","MAX_PAGE_SIZE","MESSAGES_PAGE_SIZE","USERS_PAGE_SIZE","CONVERSATIONS_PAGE_SIZE","RATE_LIMITS","MESSAGES_PER_MINUTE","FILE_UPLOADS_PER_HOUR","API_REQUESTS_PER_MINUTE","LOGIN_ATTEMPTS_PER_HOUR","FEATURES","FILE_UPLOADS","VIDEO_CALLS","VOICE_MESSAGES","MESSAGE_REACTIONS","MESSAGE_EDITING","MESSAGE_DELETION","TYPING_INDICATORS","READ_RECEIPTS","PUSH_NOTIFICATIONS","DARK_MODE","MULTI_USER_SESSIONS","SESSION_MANAGEMENT","AUTO_TOKEN_REFRESH","UI","TOAST_DURATION","TYPING_TIMEOUT","MESSAGE_MAX_LENGTH","CONVERSATION_NAME_MAX_LENGTH","USER_BIO_MAX_LENGTH","SEARCH_DEBOUNCE_MS","STORAGE_KEYS","USER_PREFERENCES","CHAT_APP_ACCESS_TOKEN","CHAT_APP_REFRESH_TOKEN","CHAT_APP_USER","CHAT_APP_USER_SESSIONS","CHAT_APP_CURRENT_USER_TAB","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","obj","prop","toStringTag","apiClient","baseURL","sessionManager","setSessionManager","getAuthToken","setAuthToken","token","removeAuthToken","buildUrl","getHeaders","customHeaders","Authorization","request","ok","contentType","blob","statusText","_errorData$message2","newConfig","retryResponse","post","put","patch","upload","downloadFile","filename","createObjectURL","download","click","revokeObjectURL","healthCheck","getBaseURL","setBaseURL","warn","authService","login","credentials","register","verifyEmail","resendVerification","verifyToken","getCurrentUser","isAuthenticated","changePassword","currentPassword","forgotPassword","resetPassword","updateProfile","profileData","currentSession","onAuthFailure","onAuthRestored","onAuthSwitched","UserContext","useUser","UserProvider","currentUser","setCurrentUser","isLoading","setIsLoading","setError","isError","setIsError","popupAlert","setPopupAlert","show","conversations","setConversations","activeChat","setActiveChat","onlineUsers","setOnlineUsers","sessionInfo","setSessionInfo","isValid","availableSessions","isDark","setIsDark","saved","initializeAuth","updateSessionInfo","interval","clearInterval","removeAuthFailure","removeAuthRestored","removeAuthSwitched","completeUser","fetchCompleteUserProfile","blockedUsers","verifyError","updateUserProfile","updatedUser","prevUser","prevConversations","conversation","_conversation$lastMes","updatedParticipants","participants","participant","updatedLastMessage","lastMessage","sender","registerUser","emailVerificationRequired","loginUser","requestPasswordReset","history","replaceState","logoutUser","logoutAllDevices","switchUser","updateConversations","newConversations","updateConversation","updatedConversation","existingIndex","findIndex","conv","updated","removeConversation","prevActive","updateOnlineUsers","onlineUserIds","updateUserOnlineStatus","isOnline","prevOnlineUsers","newOnlineUsers","setActiveChatHandler","chat","toggleDarkMode","clearError","refreshSessionInfo","completeLogin","_ref2","_jsx","_objectWithoutProperties","propertyIsEnumerable","toPascalCase","string","camelCase","p1","p2","toCamelCase","charAt","mergeClasses","_len","classes","_key","className","Boolean","defaultAttributes","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","Icon","absoluteStrokeWidth","iconNode","rest","_excluded","hasA11yProp","attrs","createLucideIcon","iconName","Users","cx","cy","Mail","rx","Lock","ry","EyeOff","Eye","User","Phone","Sun","Moon","Send","ArrowLeft","onLogin","showVerificationAlert","isLogin","setIsLogin","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","setLoading","setSuccess","setMode","verificationForm","setVerificationForm","forgotPasswordForm","setForgotPasswordForm","resetPasswordForm","setResetPasswordForm","confirmPassword","loginForm","setLoginForm","signupForm","setSignupForm","clearUrlParams","urlParams","URLSearchParams","resetToken","genericToken","hash","hasAvailableSessions","validateEmail","validatePassword","minLength","hasUpperCase","hasLowerCase","hasNumbers","resetForms","_jsxs","_session$user$name","handleSwitchToSession","avatar","toLocaleString","onSubmit","placeholder","onChange","required","cleanPhone","validatePhone","signupData","rows","MessageSquare","Plus","Radio","UserPlus","x1","x2","y1","y2","LogOut","Search","Funnel","Calendar","UserX","Crown","Trash2","formatTime","minutes","toDateString","toLocaleTimeString","hour","minute","hour12","yesterday","setDate","getDate","toLocaleDateString","weekday","day","isFileMessage","messageType","fileInfo","file","getFileDisplayName","originalName","extractFilenameFromUrl","urlParts","decodeURIComponent","getFileExtension","parts","isGifFile","extension","mimeType","getFileIcon","_filename$split$pop","formatMessageForForwarding","displayText","isFile","originalMessage","_message$fileInfo","fileIcon","fileName","getSidebarPreviewText","_message$fileInfo2","icon","getFileTypeFromFile","_fileName$split$pop","formatFileSize","bytes","parseFloat","pow","toFixed","createFileInfo","uploadResult","fileSize","cloudData","publicId","public_id","deleteUrl","thumbUrl","thumbnail_url","duration","format","resource_type","validateFile","maxSize","valid","some","getReplyPreviewText","maxLength","_message$fileInfo3","preview","substring","TriangleAlert","onConfirm","onCancel","messagePreview","conversationName","conversationType","isConversation","isGroupConversation","AlertTriangle","_currentUser$name","onProfileClick","onStartConversation","onConversationViewed","onDeleteConversation","messages","onConversationSelect","searchQuery","setSearchQuery","showDeleteModal","setShowDeleteModal","conversationToDelete","setConversationToDelete","showNewChatMenu","setShowNewChatMenu","searchResults","setSearchResults","searchMode","setSearchMode","isSearching","setIsSearching","showSearchFilters","setShowSearchFilters","searchHistory","setSearchHistory","searchTimeoutRef","getBlockedStatus","_conversation$partici","_conversation$partici2","_currentUser$blockedU","isBlocked","otherUser","find","currentUserBlockedOther","isBlockedByCurrentUser","otherUserBlockedCurrent","hasBlockedCurrentUser","blockedByCurrentUser","blockedByOtherUser","isUserAdmin","_conversation$admin","admin","admins","performAdvancedSearch","query","results","_conversation$name","_conversation$partici3","searchTerm","_p$user","_p$user$name2","_p$user2","_p$user2$email","matchedUser","getUserFromConversation","matchingParticipant","_p$user$name","_p$user$email","otherParticipant","matchType","getLastMessagePreview","messageSearchPromises","conversationMessages","_message$content","_message$fileInfo$dis","_message$fileInfo2$or","getMessagePreview","searchData","highlightedContent","all","sort","_a$user","_a$user$name","_a$conversation","_a$conversation$name","_a$message$content","_b$user","_b$user$name","_b$conversation","_b$conversation$name","_b$message$content","aExact","bExact","aTime","updatedAt","createdAt","uniqueResults","seenConversations","seenMessages","messageKey","newHistory","item","saveSearchHistory","regex","getConversationInfo","userLeft","isGroup","isBroadcast","_otherUser$name","getOtherUser","blockedStatus","lastSeen","getMessageSender","senderParticipant","previewText","messageSender","shouldShowMessageSender","_messageSender$name","senderName","sortedConversations","handleConversationClick","canDeleteConversation","adminStatus","totalUnreadCount","reduce","total","unreadCount","handleMenuOptionClick","handleClickOutside","closest","_Fragment","handleNewChatClick","clearSearch","Filter","label","term","_result$conversation$","_result$user","_result$user2","_result$user2$name","_result$user3","_result$user5","_result$user6","messageId","handleSearchResultClick","_result$user4","_result$user7","part","convInfo","isActive","lastMessagePreview","handleDeleteConversation","DeleteModal","alert","handleDeleteCancel","PenLine","UserRound","UserMinus","Shield","Settings","Eraser","usersService","searchByEmail","getAllUsers","page","limit","params","getUserProfile","getMyProfile","_error$response","_error$response$data","_error$response$data2","errorMessage","validationErrors","errors","msg","updateProfileFields","fields","cleanFields","acc","updateAvatar","avatarData","UPDATE_AVATAR","getOnlineUsers","updateStatus","_error$response2","_error$response$data3","createConversation","_error$response3","_error$response4","_error$response$data4","getMutualConversations","getContacts","blockUser","blocked","_error$response5","_error$response6","_error$response$data5","unblockUser","searchUsers","q","advancedSearch","criteria","getBlockedUsers","validateProfileData","emailRegex","updateProfileWithValidation","validation","refreshUserData","checkEmailAvailability","_error$response7","available","uploadProfilePicture","append","getUserStats","getUserActivity","days","reportUser","description","getUserPreferences","updateUserPreferences","preferences","deleteAccount","getUserSessions","revokeSession","sessionId","batchUpdateUsers","userUpdates","updates","exportUserData","ConfirmationModal","isOpen","confirmText","cancelText","getTypeStyles","iconBg","iconColor","confirmButton","_conversation$admins2","_conversation$admins3","isAdmin","onClose","onUpdateConversation","onAddParticipant","onRemoveParticipant","onAddAdmin","onRemoveAdmin","onClearChat","onHideChat","onDeleteChat","activeTab","setActiveTab","isEditing","setIsEditing","editForm","setEditForm","confirmModal","setConfirmModal","showAddParticipant","setShowAddParticipant","searching","setSearching","_conversation$admins","adminType","adminsTypes","hasId","isMainAdmin","showConfirmation","hideConfirmation","handleToggleAdmin","participantId","users","filteredUsers","handleSearchUsers","getParticipantRole","adminRole","getRoleColor","sortedParticipants","aAdminStatus","bAdminStatus","localeCompare","Edit3","User2","_participant$user$nam","isCurrentUser","isMainAdminUser","isAdminUser","handleRemoveParticipant","_user$name","handleAddParticipantClick","_mainAdmin$user$name","mainAdmin","adminId","_admin$user$name","EllipsisVertical","Check","Info","_activeChat$participa","onBlockUser","onLeaveConversation","onShowDeleteConfirmation","showChatInfo","setShowChatInfo","showOptionsMenu","setShowOptionsMenu","localBlockedStatus","setLocalBlockedStatus","newBlockedStatus","_conversation$partici4","_conversation$partici5","from","hours","formatLastSeen","isCurrentUserAdmin","handleBlockAction","handleHeaderClick","MoreVertical","handleClearChat","ChatInfoModal","ChevronUp","Reply","Smile","Forward","onReactionSelect","position","isOwn","maxWidth","emoji","reaction","Image","Video","Music","FileText","File","ExternalLink","FileIcon","getIcon","_mimeType$split$","onImageClick","showFileName","fileUrl","isGif","handleImageError","handleImageLoad","handleOpenInNewTab","open","handleImageClick","alt","maxHeight","objectFit","controls","poster","Clock","getStatusIcon","buildFormatLongFn","args","defaultWidth","formats","full","long","medium","short","buildLocalizeFn","valuesArray","formattingValues","defaultFormattingWidth","values","argumentCallback","narrow","abbreviated","wide","quarter","am","pm","midnight","noon","morning","afternoon","evening","night","buildMatchFn","matchPattern","matchPatterns","defaultMatchWidth","matchResult","matchedString","parsePatterns","defaultParseWidth","predicate","pattern","findKey","valueCallback","parsePattern","parseInt","any","SystemMessage","RegularMessage","_repliedMsg$sender","_message$replyTo","_message$replyTo$send","_message$replyTo2","_message$replyTo3","_message$replyTo4","_message$replyTo5","_message$file","isOwnProp","onForward","onDeleteMessage","onEditMessage","onReply","onReactToMessage","showReactionPicker","setShowReactionPicker","editContent","setEditContent","getUserId","_message$sender","calculated","fromProp","handleReactionSelect","_message$reactions","existingReaction","reactions","repliedMsg","replyTo","groupedReactions","reactionMap","_reaction$user","userName","userNames","_ref3","hasFileContent","FileThumbnail","onKeyDown","handleEdit","minHeight","fontSize","lineHeight","isEdited","editedAt","ReactionPicker","_ref4","hasUserReacted","handleForwardClick","formattedMessage","handleDeleteClick","typingUsers","onLoadMoreMessages","messagesEndRef","messagesContainerRef","messageRefs","showScrollButton","setShowScrollButton","setPage","hasMoreMessages","setHasMoreMessages","highlightedMessageId","setHighlightedMessageId","handleScrollToMessage","scrollToMessage","messageElement","scrollIntoView","behavior","block","retries","maxRetries","checkForElement","attempts","loadMoreMessages","loadAndSearch","scrollHeight","clientHeight","_messagesEndRef$curre","clear","_messagesEndRef$curre2","_messagesEndRef$curre3","nextPage","newMessagesCount","scrollToSpecificMessage","messageGroups","groups","currentDate","currentGroup","messageDate","groupMessagesByDate","handleScroll","isScrolledToBottom","group","groupIndex","year","isHighlighted","el","setMessageRef","Message","animationDelay","getTypingText","typingArray","scrollToBottom","Paperclip","emojiCategories","onEmojiSelect","emojiPickerRef","category","emojis","Zap","API_KEY","onGifSelect","setSearchTerm","showTrending","setShowTrending","fetchTrendingGifs","gif","_gif$media_formats$ti","media_formats","previewUrl","tinygif","content_description","timeoutId","_gif$media_formats$ti2","searchGifs","handleGifClick","_activeChat$admin3","_replyingTo$sender","onSendMessage","replyingTo","setReplyingTo","onTypingStart","onTypingStop","setMessage","isTyping","setIsTyping","showEmojiPicker","setShowEmojiPicker","showGifPicker","setShowGifPicker","sending","setSending","fileInputRef","typingTimeoutRef","lastTypingTime","canSendMessage","_activeChat$admin","sendMessage","replyId","handleTyping","timeSinceLastTyping","blockingStatus","otherUserId","blockedUsersList","otherUserName","_activeChat$admin2","isAdditionalAdmin","files","accept","_fileInputRef$current","EmojiPicker","newMessage","ImageIcon","GifPicker","sendGifMessage","textarea","onKeyPress","handleKeyPress","onFocus","handleFocus","onBlur","handleBlur","details","typeStyles","defaultIcon","IconComponent","confirmationModal","setConfirmationModal","showConfirmationModal","hideConfirmationModal","handleBlockUser","isCurrentlyBlocked","currentUserBlockedUsers","ChatHeader","_conversation$partici6","warningMessage","handleShowDeleteConfirmation","_activeChat$participa2","_unused","MessageList","MessageInput","LoaderCircle","Save","Pen","DEFAULT_AVATARS","_currentUserData$name","showAvatarPicker","setShowAvatarPicker","currentUserData","setCurrentUserData","editedUser","setEditedUser","handleInputChange","field","handleAvatarSelect","isOwnProfile","handleCancel","updateData","Loader2","Edit2","_getFileTypeIndicator","_getFileTypeIndicator2","selectedConversations","setSelectedConversations","getConversationName","availableConversations","getFileTypeIndicator","_message$originalMess","_message$originalMess2","_fileInfo$originalNam","getConversationAvatar","getConversationGradient","getConversationSubtitle","isSelected","toggleConversation","onCreateConversation","onCreateDirectConversation","currentMode","setCurrentMode","setStep","setConversationName","conversationDescription","setConversationDescription","conversationAvatar","setConversationAvatar","selectedParticipants","setSelectedParticipants","selectedAdmins","setSelectedAdmins","setIsBroadcast","groupAvatars","broadcastAvatars","handleCreateDirectMessage","foundUser","getStepTitle","getStepDescription","handleAddParticipant","_user$name2","_user$name3","handleBack","handleNext","participantIds","adminIds","setMessages","onSendFile","showProfile","setShowProfile","profileUser","setProfileUser","showForwardModal","setShowForwardModal","messageToForward","setMessageToForward","showImageModal","setShowImageModal","selectedImage","setSelectedImage","showConversationModal","setShowConversationModal","conversationMode","setConversationMode","notification","setNotification","isMobile","setIsMobile","showSidebar","setShowSidebar","showChat","setShowChat","checkIsMobile","mobile","innerWidth","showNotification","handleProfileClick","handleStartConversation","handleBackToSidebar","Sidebar","ChatArea","imageUrl","CreateConversationModal","handleCloseConversationModal","existingConv","ProfileModal","ForwardModal","successCount","totalCount","conversationUpdates","forwardedContent","forwardedMessageType","_originalMessage$file","fileType","fetchError","fallbackContent","toISOString","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","Blob","withNativeArrayBuffer","ArrayBuffer","isView","buffer","encodePacket","supportsBinary","encodeBlobAsBase64","fileReader","FileReader","readAsDataURL","Uint8Array","byteOffset","byteLength","TEXT_ENCODER","chars","lookup","decodePacket","encodedPacket","binaryType","mapBinary","decodeBase64Packet","decoded","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","len","arraybuffer","decode","SEPARATOR","createPacketEncoderStream","TransformStream","transform","packet","arrayBuffer","encoded","TextEncoder","encode","encodePacketToBinary","payloadLength","header","DataView","setUint8","setUint16","setBigUint64","BigInt","enqueue","TEXT_DECODER","totalLength","chunks","chunk","concatChunks","j","Emitter","mixin","on","_callbacks","once","off","removeListener","removeAllListeners","cb","emitReserved","hasListeners","nextTick","setTimeoutFn","globalThisShim","Function","pick","attr","k","NATIVE_SET_TIMEOUT","globalThis","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","opts","useNativeTimers","clearTimeoutFn","str","l","utf8Length","ceil","randomString","TransportError","super","Transport","socket","forceBase64","doOpen","close","doClose","send","packets","write","onOpen","onData","onPacket","pause","onPause","createUri","schema","_hostname","_port","_query","hostname","secure","encodedQuery","Polling","_polling","_poll","doPoll","decodePayload","encodedPayload","encodedPackets","decodedPacket","encodePayload","doWrite","uri","timestampRequests","timestampParam","sid","b64","XMLHttpRequest","hasCORS","empty","BaseXHR","isSSL","protocol","xd","req","xhrStatus","pollXhr","Request","createRequest","_opts","_method","_uri","_data","_create","_a","xdomain","xhr","_xhr","extraHeaders","setDisableHeaderCheck","setRequestHeader","cookieJar","addCookies","withCredentials","requestTimeout","onreadystatechange","parseCookies","getResponseHeader","_onLoad","_onError","_index","requestsCount","requests","_cleanup","fromError","responseText","unloadHandler","hasXHR2","newRequest","responseType","isReactNative","navigator","product","BaseWS","protocols","ws","createSocket","addEventListeners","onopen","autoUnref","_socket","unref","onclose","closeEvent","ev","lastPacket","WebSocketCtor","WebSocket","MozWebSocket","transports","websocket","_packet","webtransport","_transport","WebTransport","transportOptions","closed","ready","createBidirectionalStream","stream","decoderStream","maxPayload","TextDecoder","expectedLength","isBinary","headerArray","getUint16","getUint32","createPacketDecoderStream","MAX_SAFE_INTEGER","reader","readable","pipeThrough","getReader","encoderStream","pipeTo","_writer","getWriter","read","polling","re","exec","host","authority","ipv6uri","pathNames","regx","names","queryKey","$0","$1","$2","withEventListeners","OFFLINE_EVENT_LISTENERS","SocketWithoutUpgrade","writeBuffer","_prevBufferLen","_pingInterval","_pingTimeout","_maxPayload","_pingTimeoutTime","parsedUri","_transportsByName","transportName","agent","upgrade","rememberUpgrade","addTrailingSlash","rejectUnauthorized","perMessageDeflate","threshold","closeOnBeforeunload","qs","qry","pairs","pair","_beforeunloadEventListener","transport","_offlineEventListener","_onClose","_cookieJar","createCookieJar","_open","createTransport","EIO","priorWebsocketSuccess","setTransport","_onDrain","_onPacket","flush","onHandshake","_sendPacket","_resetPingTimeout","pingInterval","pingTimeout","_pingTimeoutTimer","upgrading","_getWritablePackets","payloadSize","_hasPingExpired","hasExpired","compress","cleanupAndClose","waitForUpgrade","tryAllTransports","SocketWithUpgrade","_upgrades","_probe","failed","onTransportOpen","cleanup","freezeTransport","onTransportClose","onupgrade","to","_filterUpgrades","upgrades","filteredUpgrades","Socket","DEFAULT_TRANSPORTS","withNativeFile","hasBinary","toJSON","deconstructPacket","buffers","packetData","pack","_deconstructPacket","attachments","_placeholder","num","newData","reconstructPacket","_reconstructPacket","RESERVED_EVENTS","PacketType","Encoder","replacer","EVENT","ACK","encodeAsString","encodeAsBinary","BINARY_EVENT","BINARY_ACK","nsp","deconstruction","isObject","Decoder","reviver","reconstructor","decodeString","isBinaryEvent","BinaryReconstructor","takeBinaryData","buf","tryParse","isPayloadValid","CONNECT","DISCONNECT","CONNECT_ERROR","finishedReconstruction","reconPack","binData","freeze","connect","connect_error","disconnect","disconnecting","newListener","io","connected","recovered","receiveBuffer","sendBuffer","_queue","_queueSeq","ids","acks","auth","_autoConnect","disconnected","subEvents","subs","onpacket","active","_readyState","_b","_c","_len2","_key2","fromQueue","volatile","_addToQueue","ack","_registerAckCallback","isTransportWritable","engine","isConnected","notifyOutgoingListeners","_this","ackTimeout","_len3","_key3","withError","emitWithAck","_len4","_key4","arg1","arg2","_this2","tryCount","_len5","responseArgs","_key5","_drainQueue","force","_sendConnectPacket","_pid","pid","_lastOffset","_clearAcks","onconnect","onevent","onack","ondisconnect","emitEvent","_anyListeners","sent","_len6","_key6","emitBuffered","subDestroy","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","Backoff","factor","jitter","rand","deviation","setMin","setMax","setJitter","Manager","nsps","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","parser","encoder","decoder","autoConnect","v","_reconnection","skipReconnect","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","Engine","openSubDestroy","errorSub","onping","ondata","ondecoded","_destroy","_close","onreconnect","attempt","parsed","loc","sameNamespace","forceNew","multiplex","socketService","reconnectAttempts","maxReconnectAttempts","_this$socket","serverUrl","REACT_APP_SERVER_URL","setupEventListeners","joinUserRoom","joinConversation","leaveConversation","viewConversation","messageData","markMessageDelivered","markMessageSeen","markConversationRead","editMessage","newContent","deleteMessage","reactToMessage","startTyping","stopTyping","updateUserStatus","sendNotificationToUser","sendNotificationToConversation","onNewMessage","onMessageStatusUpdate","onMessagesSeenBulk","onMessageEdited","onMessageDeleted","onConversationCreated","onConnect","onConversationDeleted","onMessageReaction","onUserStatusUpdate","onUserOnline","onUserOffline","onUserProfileUpdate","onConversationUpdate","onUserBlocked","onUserUnblocked","onUserBlockedYou","onUserUnblockedYou","onConversationLeft","onAdminTransferred","onPromotedToAdmin","onConversationCleared","onConversationHidden","onConversationReappeared","onAdminRemoved","isSocketConnected","_this$socket2","cloudName","REACT_APP_CLOUDINARY_CLOUD_NAME","uploadPreset","REACT_APP_CLOUDINARY_UPLOAD_PRESET","cloudinaryUploadUrl","cloudinaryRawUploadUrl","cloudinaryUploadPreset","getCloudinaryResourceType","uploadToCloudinary","cleanFileName","errorText","secure_url","pages","uploadFile","getFileType","fileExtension","CircleCheckBig","ObjectId","increment","generate","padStart","notifications","onNotificationClick","onDismiss","visibleNotifications","setVisibleNotifications","handleDismiss","notificationId","notif","_notification$convers","_notification$sender","_notification$sender$","_notification$sender2","handleNotificationClick","zIndex","ChatApp","setShowVerificationAlert","setTypingUsers","showLogin","setShowLogin","messageStatuses","setMessageStatuses","messageNotifications","setMessageNotifications","initializeUserData","connectSocket","Notification","permission","requestPermission","disconnectSocket","setupSocketListeners","cleanupSocketListeners","trackUserInteraction","lastUserInteraction","fetchUserProfile","userProfileResponse","userProfileData","refreshUnreadCounts","existingMessages","addMessageNotification","newNotification","requireInteraction","lastMessageContent","isFromCurrentUser","isActiveConversation","currentUnreadCount","deliveredTo","readBy","statusTimestamp","messageIds","seenBy","readAt","lastRead","newLastMessage","convId","createdBy","newConversation","addConversationNotification","conversationPreview","deletedBy","newSet","updateType","updatedConversations","foundConv","conversationIdType","foundConversation","foundConvId","foundConvIdType","totalConversations","allConvIds","role","blockedUserId","blockedUser","currentBlockedUsers","updatedBlockedUsers","unblockedUserId","unblockedUser","blockedByUserId","blockedByUser","unblockedByUserId","unblockedByUser","newAdminId","newAdminName","previousAdminName","senderId","refreshConversationsList","fetchMessages","conversationsResponse","conversationsData","unreadCountsResponse","unreadCounts","unreadCountsData","conversationsWithUnread","conversationsWithBlockedStatus","messagesData","messagesResponse","messagesResult","onlineUsersResponse","onlineUsersData","reappearedConversationId","_c$participants$find","reappearedConversation","handleConversationViewed","handleLogin","handleSendFileMessage","fileUploadService","_m$sender","_m$sender2","_updated$conversation","CheckCircle","LoginForm","NotificationBubble","ChatLayout","onLogout","targetConversationId","messageContent","handleSendMessage","requestBody","requestedPage","onUpdateUserStatus","statusResponse","statusData","newBlockedUsers","conversationDeleted","adminTransferred","_result$newAdmin","newAdmin","App","getElementById"],"sourceRoot":""}